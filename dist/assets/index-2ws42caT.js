(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function Jc(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pw={exports:{}},Qc={},Aw={exports:{}},le={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yl=Symbol.for("react.element"),M1=Symbol.for("react.portal"),L1=Symbol.for("react.fragment"),j1=Symbol.for("react.strict_mode"),V1=Symbol.for("react.profiler"),F1=Symbol.for("react.provider"),B1=Symbol.for("react.context"),$1=Symbol.for("react.forward_ref"),U1=Symbol.for("react.suspense"),z1=Symbol.for("react.memo"),H1=Symbol.for("react.lazy"),ey=Symbol.iterator;function W1(t){return t===null||typeof t!="object"?null:(t=ey&&t[ey]||t["@@iterator"],typeof t=="function"?t:null)}var Nw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Dw=Object.assign,Ow={};function bo(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}bo.prototype.isReactComponent={};bo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};bo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Mw(){}Mw.prototype=bo.prototype;function Am(t,e,n){this.props=t,this.context=e,this.refs=Ow,this.updater=n||Nw}var Nm=Am.prototype=new Mw;Nm.constructor=Am;Dw(Nm,bo.prototype);Nm.isPureReactComponent=!0;var ty=Array.isArray,Lw=Object.prototype.hasOwnProperty,Dm={current:null},jw={key:!0,ref:!0,__self:!0,__source:!0};function Vw(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lw.call(e,r)&&!jw.hasOwnProperty(r)&&(s[r]=e[r]);var l=arguments.length-2;if(l===1)s.children=n;else if(1<l){for(var u=Array(l),c=0;c<l;c++)u[c]=arguments[c+2];s.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps,l)s[r]===void 0&&(s[r]=l[r]);return{$$typeof:yl,type:t,key:i,ref:o,props:s,_owner:Dm.current}}function G1(t,e){return{$$typeof:yl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Om(t){return typeof t=="object"&&t!==null&&t.$$typeof===yl}function q1(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ny=/\/+/g;function Jd(t,e){return typeof t=="object"&&t!==null&&t.key!=null?q1(""+t.key):e.toString(36)}function Cu(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case yl:case M1:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Jd(o,0):r,ty(s)?(n="",t!=null&&(n=t.replace(ny,"$&/")+"/"),Cu(s,e,n,"",function(c){return c})):s!=null&&(Om(s)&&(s=G1(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ny,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ty(t))for(var l=0;l<t.length;l++){i=t[l];var u=r+Jd(i,l);o+=Cu(i,e,n,u,s)}else if(u=W1(t),typeof u=="function")for(t=u.call(t),l=0;!(i=t.next()).done;)i=i.value,u=r+Jd(i,l++),o+=Cu(i,e,n,u,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function eu(t,e,n){if(t==null)return t;var r=[],s=0;return Cu(t,r,"","",function(i){return e.call(n,i,s++)}),r}function K1(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dt={current:null},bu={transition:null},J1={ReactCurrentDispatcher:Dt,ReactCurrentBatchConfig:bu,ReactCurrentOwner:Dm};function Fw(){throw Error("act(...) is not supported in production builds of React.")}le.Children={map:eu,forEach:function(t,e,n){eu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return eu(t,function(){e++}),e},toArray:function(t){return eu(t,function(e){return e})||[]},only:function(t){if(!Om(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};le.Component=bo;le.Fragment=L1;le.Profiler=V1;le.PureComponent=Am;le.StrictMode=j1;le.Suspense=U1;le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=J1;le.act=Fw;le.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Dw({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Dm.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(u in e)Lw.call(e,u)&&!jw.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){l=Array(u);for(var c=0;c<u;c++)l[c]=arguments[c+2];r.children=l}return{$$typeof:yl,type:t.type,key:s,ref:i,props:r,_owner:o}};le.createContext=function(t){return t={$$typeof:B1,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:F1,_context:t},t.Consumer=t};le.createElement=Vw;le.createFactory=function(t){var e=Vw.bind(null,t);return e.type=t,e};le.createRef=function(){return{current:null}};le.forwardRef=function(t){return{$$typeof:$1,render:t}};le.isValidElement=Om;le.lazy=function(t){return{$$typeof:H1,_payload:{_status:-1,_result:t},_init:K1}};le.memo=function(t,e){return{$$typeof:z1,type:t,compare:e===void 0?null:e}};le.startTransition=function(t){var e=bu.transition;bu.transition={};try{t()}finally{bu.transition=e}};le.unstable_act=Fw;le.useCallback=function(t,e){return Dt.current.useCallback(t,e)};le.useContext=function(t){return Dt.current.useContext(t)};le.useDebugValue=function(){};le.useDeferredValue=function(t){return Dt.current.useDeferredValue(t)};le.useEffect=function(t,e){return Dt.current.useEffect(t,e)};le.useId=function(){return Dt.current.useId()};le.useImperativeHandle=function(t,e,n){return Dt.current.useImperativeHandle(t,e,n)};le.useInsertionEffect=function(t,e){return Dt.current.useInsertionEffect(t,e)};le.useLayoutEffect=function(t,e){return Dt.current.useLayoutEffect(t,e)};le.useMemo=function(t,e){return Dt.current.useMemo(t,e)};le.useReducer=function(t,e,n){return Dt.current.useReducer(t,e,n)};le.useRef=function(t){return Dt.current.useRef(t)};le.useState=function(t){return Dt.current.useState(t)};le.useSyncExternalStore=function(t,e,n){return Dt.current.useSyncExternalStore(t,e,n)};le.useTransition=function(){return Dt.current.useTransition()};le.version="18.3.1";Aw.exports=le;var P=Aw.exports;const Ys=Jc(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Q1=P,Y1=Symbol.for("react.element"),X1=Symbol.for("react.fragment"),Z1=Object.prototype.hasOwnProperty,ek=Q1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,tk={key:!0,ref:!0,__self:!0,__source:!0};function Bw(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Z1.call(e,r)&&!tk.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Y1,type:t,key:i,ref:o,props:s,_owner:ek.current}}Qc.Fragment=X1;Qc.jsx=Bw;Qc.jsxs=Bw;Pw.exports=Qc;var f=Pw.exports,Jh={},$w={exports:{}},en={},Uw={exports:{}},zw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(H,K){var Q=H.length;H.push(K);e:for(;0<Q;){var ve=Q-1>>>1,oe=H[ve];if(0<s(oe,K))H[ve]=K,H[Q]=oe,Q=ve;else break e}}function n(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var K=H[0],Q=H.pop();if(Q!==K){H[0]=Q;e:for(var ve=0,oe=H.length,Te=oe>>>1;ve<Te;){var bt=2*(ve+1)-1,Qe=H[bt],at=bt+1,je=H[at];if(0>s(Qe,Q))at<oe&&0>s(je,Qe)?(H[ve]=je,H[at]=Q,ve=at):(H[ve]=Qe,H[bt]=Q,ve=bt);else if(at<oe&&0>s(je,Q))H[ve]=je,H[at]=Q,ve=at;else break e}}return K}function s(H,K){var Q=H.sortIndex-K.sortIndex;return Q!==0?Q:H.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var u=[],c=[],h=1,p=null,g=3,E=!1,k=!1,I=!1,R=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(H){for(var K=n(c);K!==null;){if(K.callback===null)r(c);else if(K.startTime<=H)r(c),K.sortIndex=K.expirationTime,e(u,K);else break;K=n(c)}}function A(H){if(I=!1,_(H),!k)if(n(u)!==null)k=!0,Mt(O);else{var K=n(c);K!==null&&Ct(A,K.startTime-H)}}function O(H,K){k=!1,I&&(I=!1,x(v),v=-1),E=!0;var Q=g;try{for(_(K),p=n(u);p!==null&&(!(p.expirationTime>K)||H&&!N());){var ve=p.callback;if(typeof ve=="function"){p.callback=null,g=p.priorityLevel;var oe=ve(p.expirationTime<=K);K=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===n(u)&&r(u),_(K)}else r(u);p=n(u)}if(p!==null)var Te=!0;else{var bt=n(c);bt!==null&&Ct(A,bt.startTime-K),Te=!1}return Te}finally{p=null,g=Q,E=!1}}var M=!1,S=null,v=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function D(){if(S!==null){var H=t.unstable_now();C=H;var K=!0;try{K=S(!0,H)}finally{K?b():(M=!1,S=null)}}else M=!1}var b;if(typeof y=="function")b=function(){y(D)};else if(typeof MessageChannel<"u"){var de=new MessageChannel,Ue=de.port2;de.port1.onmessage=D,b=function(){Ue.postMessage(null)}}else b=function(){R(D,0)};function Mt(H){S=H,M||(M=!0,b())}function Ct(H,K){v=R(function(){H(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_continueExecution=function(){k||E||(k=!0,Mt(O))},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var K=3;break;default:K=g}var Q=g;g=K;try{return H()}finally{g=Q}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(H,K){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Q=g;g=H;try{return K()}finally{g=Q}},t.unstable_scheduleCallback=function(H,K,Q){var ve=t.unstable_now();switch(typeof Q=="object"&&Q!==null?(Q=Q.delay,Q=typeof Q=="number"&&0<Q?ve+Q:ve):Q=ve,H){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=Q+oe,H={id:h++,callback:K,priorityLevel:H,startTime:Q,expirationTime:oe,sortIndex:-1},Q>ve?(H.sortIndex=Q,e(c,H),n(u)===null&&H===n(c)&&(I?(x(v),v=-1):I=!0,Ct(A,Q-ve))):(H.sortIndex=oe,e(u,H),k||E||(k=!0,Mt(O))),H},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(H){var K=g;return function(){var Q=g;g=K;try{return H.apply(this,arguments)}finally{g=Q}}}})(zw);Uw.exports=zw;var nk=Uw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=P,Zt=nk;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Hw=new Set,$a={};function ai(t,e){oo(t,e),oo(t+"Capture",e)}function oo(t,e){for($a[t]=e,t=0;t<e.length;t++)Hw.add(e[t])}var yr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Qh=Object.prototype.hasOwnProperty,sk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ry={},sy={};function ik(t){return Qh.call(sy,t)?!0:Qh.call(ry,t)?!1:sk.test(t)?sy[t]=!0:(ry[t]=!0,!1)}function ok(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function ak(t,e,n,r){if(e===null||typeof e>"u"||ok(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ot(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var mt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){mt[t]=new Ot(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];mt[e]=new Ot(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){mt[t]=new Ot(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){mt[t]=new Ot(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){mt[t]=new Ot(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){mt[t]=new Ot(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){mt[t]=new Ot(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){mt[t]=new Ot(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){mt[t]=new Ot(t,5,!1,t.toLowerCase(),null,!1,!1)});var Mm=/[\-:]([a-z])/g;function Lm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Mm,Lm);mt[e]=new Ot(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Mm,Lm);mt[e]=new Ot(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Mm,Lm);mt[e]=new Ot(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){mt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!1,!1)});mt.xlinkHref=new Ot("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){mt[t]=new Ot(t,1,!1,t.toLowerCase(),null,!0,!0)});function jm(t,e,n,r){var s=mt.hasOwnProperty(e)?mt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(ak(e,n,s,r)&&(n=null),r||s===null?ik(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ir=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,tu=Symbol.for("react.element"),Oi=Symbol.for("react.portal"),Mi=Symbol.for("react.fragment"),Vm=Symbol.for("react.strict_mode"),Yh=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Gw=Symbol.for("react.context"),Fm=Symbol.for("react.forward_ref"),Xh=Symbol.for("react.suspense"),Zh=Symbol.for("react.suspense_list"),Bm=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),qw=Symbol.for("react.offscreen"),iy=Symbol.iterator;function oa(t){return t===null||typeof t!="object"?null:(t=iy&&t[iy]||t["@@iterator"],typeof t=="function"?t:null)}var Le=Object.assign,Qd;function ya(t){if(Qd===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Qd=e&&e[1]||""}return`
`+Qd+t}var Yd=!1;function Xd(t,e){if(!t||Yd)return"";Yd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,l=i.length-1;1<=o&&0<=l&&s[o]!==i[l];)l--;for(;1<=o&&0<=l;o--,l--)if(s[o]!==i[l]){if(o!==1||l!==1)do if(o--,l--,0>l||s[o]!==i[l]){var u=`
`+s[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=l);break}}}finally{Yd=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ya(t):""}function lk(t){switch(t.tag){case 5:return ya(t.type);case 16:return ya("Lazy");case 13:return ya("Suspense");case 19:return ya("SuspenseList");case 0:case 2:case 15:return t=Xd(t.type,!1),t;case 11:return t=Xd(t.type.render,!1),t;case 1:return t=Xd(t.type,!0),t;default:return""}}function ef(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Mi:return"Fragment";case Oi:return"Portal";case Yh:return"Profiler";case Vm:return"StrictMode";case Xh:return"Suspense";case Zh:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Gw:return(t.displayName||"Context")+".Consumer";case Ww:return(t._context.displayName||"Context")+".Provider";case Fm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bm:return e=t.displayName||null,e!==null?e:ef(t.type)||"Memo";case Hr:e=t._payload,t=t._init;try{return ef(t(e))}catch{}}return null}function uk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ef(e);case 8:return e===Vm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function fs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Kw(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ck(t){var e=Kw(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function nu(t){t._valueTracker||(t._valueTracker=ck(t))}function Jw(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Kw(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function tc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function tf(t,e){var n=e.checked;return Le({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function oy(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=fs(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Qw(t,e){e=e.checked,e!=null&&jm(t,"checked",e,!1)}function nf(t,e){Qw(t,e);var n=fs(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?rf(t,e.type,n):e.hasOwnProperty("defaultValue")&&rf(t,e.type,fs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function ay(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function rf(t,e,n){(e!=="number"||tc(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var va=Array.isArray;function Ki(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+fs(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function sf(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Le({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ly(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(va(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:fs(n)}}function Yw(t,e){var n=fs(e.value),r=fs(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function uy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Xw(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function of(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Xw(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ru,Zw=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ru=ru||document.createElement("div"),ru.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ru.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ua(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var ka={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dk=["Webkit","ms","Moz","O"];Object.keys(ka).forEach(function(t){dk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),ka[e]=ka[t]})});function e_(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||ka.hasOwnProperty(t)&&ka[t]?(""+e).trim():e+"px"}function t_(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=e_(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var hk=Le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function af(t,e){if(e){if(hk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function lf(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var uf=null;function $m(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var cf=null,Ji=null,Qi=null;function cy(t){if(t=_l(t)){if(typeof cf!="function")throw Error(U(280));var e=t.stateNode;e&&(e=td(e),cf(t.stateNode,t.type,e))}}function n_(t){Ji?Qi?Qi.push(t):Qi=[t]:Ji=t}function r_(){if(Ji){var t=Ji,e=Qi;if(Qi=Ji=null,cy(t),e)for(t=0;t<e.length;t++)cy(e[t])}}function s_(t,e){return t(e)}function i_(){}var Zd=!1;function o_(t,e,n){if(Zd)return t(e,n);Zd=!0;try{return s_(t,e,n)}finally{Zd=!1,(Ji!==null||Qi!==null)&&(i_(),r_())}}function za(t,e){var n=t.stateNode;if(n===null)return null;var r=td(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var df=!1;if(yr)try{var aa={};Object.defineProperty(aa,"passive",{get:function(){df=!0}}),window.addEventListener("test",aa,aa),window.removeEventListener("test",aa,aa)}catch{df=!1}function fk(t,e,n,r,s,i,o,l,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var Ia=!1,nc=null,rc=!1,hf=null,mk={onError:function(t){Ia=!0,nc=t}};function pk(t,e,n,r,s,i,o,l,u){Ia=!1,nc=null,fk.apply(mk,arguments)}function gk(t,e,n,r,s,i,o,l,u){if(pk.apply(this,arguments),Ia){if(Ia){var c=nc;Ia=!1,nc=null}else throw Error(U(198));rc||(rc=!0,hf=c)}}function li(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function a_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dy(t){if(li(t)!==t)throw Error(U(188))}function yk(t){var e=t.alternate;if(!e){if(e=li(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return dy(s),t;if(i===r)return dy(s),e;i=i.sibling}throw Error(U(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function l_(t){return t=yk(t),t!==null?u_(t):null}function u_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=u_(t);if(e!==null)return e;t=t.sibling}return null}var c_=Zt.unstable_scheduleCallback,hy=Zt.unstable_cancelCallback,vk=Zt.unstable_shouldYield,wk=Zt.unstable_requestPaint,He=Zt.unstable_now,_k=Zt.unstable_getCurrentPriorityLevel,Um=Zt.unstable_ImmediatePriority,d_=Zt.unstable_UserBlockingPriority,sc=Zt.unstable_NormalPriority,xk=Zt.unstable_LowPriority,h_=Zt.unstable_IdlePriority,Yc=null,Hn=null;function Ek(t){if(Hn&&typeof Hn.onCommitFiberRoot=="function")try{Hn.onCommitFiberRoot(Yc,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:kk,Sk=Math.log,Tk=Math.LN2;function kk(t){return t>>>=0,t===0?32:31-(Sk(t)/Tk|0)|0}var su=64,iu=4194304;function wa(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function ic(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var l=o&~s;l!==0?r=wa(l):(i&=o,i!==0&&(r=wa(i)))}else o=n&~s,o!==0?r=wa(o):i!==0&&(r=wa(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-En(e),s=1<<n,r|=t[n],e&=~s;return r}function Ik(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ck(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-En(i),l=1<<o,u=s[o];u===-1?(!(l&n)||l&r)&&(s[o]=Ik(l,e)):u<=e&&(t.expiredLanes|=l),i&=~l}}function ff(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function f_(){var t=su;return su<<=1,!(su&4194240)&&(su=64),t}function eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vl(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=n}function bk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-En(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function zm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-En(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ee=0;function m_(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var p_,Hm,g_,y_,v_,mf=!1,ou=[],ns=null,rs=null,ss=null,Ha=new Map,Wa=new Map,Gr=[],Rk="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fy(t,e){switch(t){case"focusin":case"focusout":ns=null;break;case"dragenter":case"dragleave":rs=null;break;case"mouseover":case"mouseout":ss=null;break;case"pointerover":case"pointerout":Ha.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wa.delete(e.pointerId)}}function la(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=_l(e),e!==null&&Hm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Pk(t,e,n,r,s){switch(e){case"focusin":return ns=la(ns,t,e,n,r,s),!0;case"dragenter":return rs=la(rs,t,e,n,r,s),!0;case"mouseover":return ss=la(ss,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Ha.set(i,la(Ha.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Wa.set(i,la(Wa.get(i)||null,t,e,n,r,s)),!0}return!1}function w_(t){var e=Vs(t.target);if(e!==null){var n=li(e);if(n!==null){if(e=n.tag,e===13){if(e=a_(n),e!==null){t.blockedOn=e,v_(t.priority,function(){g_(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ru(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=pf(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);uf=r,n.target.dispatchEvent(r),uf=null}else return e=_l(n),e!==null&&Hm(e),t.blockedOn=n,!1;e.shift()}return!0}function my(t,e,n){Ru(t)&&n.delete(e)}function Ak(){mf=!1,ns!==null&&Ru(ns)&&(ns=null),rs!==null&&Ru(rs)&&(rs=null),ss!==null&&Ru(ss)&&(ss=null),Ha.forEach(my),Wa.forEach(my)}function ua(t,e){t.blockedOn===e&&(t.blockedOn=null,mf||(mf=!0,Zt.unstable_scheduleCallback(Zt.unstable_NormalPriority,Ak)))}function Ga(t){function e(s){return ua(s,t)}if(0<ou.length){ua(ou[0],t);for(var n=1;n<ou.length;n++){var r=ou[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ns!==null&&ua(ns,t),rs!==null&&ua(rs,t),ss!==null&&ua(ss,t),Ha.forEach(e),Wa.forEach(e),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)w_(n),n.blockedOn===null&&Gr.shift()}var Yi=Ir.ReactCurrentBatchConfig,oc=!0;function Nk(t,e,n,r){var s=Ee,i=Yi.transition;Yi.transition=null;try{Ee=1,Wm(t,e,n,r)}finally{Ee=s,Yi.transition=i}}function Dk(t,e,n,r){var s=Ee,i=Yi.transition;Yi.transition=null;try{Ee=4,Wm(t,e,n,r)}finally{Ee=s,Yi.transition=i}}function Wm(t,e,n,r){if(oc){var s=pf(t,e,n,r);if(s===null)ch(t,e,r,ac,n),fy(t,r);else if(Pk(s,t,e,n,r))r.stopPropagation();else if(fy(t,r),e&4&&-1<Rk.indexOf(t)){for(;s!==null;){var i=_l(s);if(i!==null&&p_(i),i=pf(t,e,n,r),i===null&&ch(t,e,r,ac,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else ch(t,e,r,null,n)}}var ac=null;function pf(t,e,n,r){if(ac=null,t=$m(r),t=Vs(t),t!==null)if(e=li(t),e===null)t=null;else if(n=e.tag,n===13){if(t=a_(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ac=t,null}function __(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(_k()){case Um:return 1;case d_:return 4;case sc:case xk:return 16;case h_:return 536870912;default:return 16}default:return 16}}var Xr=null,Gm=null,Pu=null;function x_(){if(Pu)return Pu;var t,e=Gm,n=e.length,r,s="value"in Xr?Xr.value:Xr.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Pu=s.slice(t,1<r?1-r:void 0)}function Au(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function au(){return!0}function py(){return!1}function tn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(n=t[l],this[l]=n?n(i):i[l]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?au:py,this.isPropagationStopped=py,this}return Le(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=au)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=au)},persist:function(){},isPersistent:au}),e}var Ro={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qm=tn(Ro),wl=Le({},Ro,{view:0,detail:0}),Ok=tn(wl),th,nh,ca,Xc=Le({},wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Km,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(th=t.screenX-ca.screenX,nh=t.screenY-ca.screenY):nh=th=0,ca=t),th)},movementY:function(t){return"movementY"in t?t.movementY:nh}}),gy=tn(Xc),Mk=Le({},Xc,{dataTransfer:0}),Lk=tn(Mk),jk=Le({},wl,{relatedTarget:0}),rh=tn(jk),Vk=Le({},Ro,{animationName:0,elapsedTime:0,pseudoElement:0}),Fk=tn(Vk),Bk=Le({},Ro,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$k=tn(Bk),Uk=Le({},Ro,{data:0}),yy=tn(Uk),zk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Hk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Wk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Wk[t])?!!e[t]:!1}function Km(){return Gk}var qk=Le({},wl,{key:function(t){if(t.key){var e=zk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Au(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Hk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Km,charCode:function(t){return t.type==="keypress"?Au(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Au(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Kk=tn(qk),Jk=Le({},Xc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vy=tn(Jk),Qk=Le({},wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Km}),Yk=tn(Qk),Xk=Le({},Ro,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zk=tn(Xk),eI=Le({},Xc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),tI=tn(eI),nI=[9,13,27,32],Jm=yr&&"CompositionEvent"in window,Ca=null;yr&&"documentMode"in document&&(Ca=document.documentMode);var rI=yr&&"TextEvent"in window&&!Ca,E_=yr&&(!Jm||Ca&&8<Ca&&11>=Ca),wy=" ",_y=!1;function S_(t,e){switch(t){case"keyup":return nI.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function T_(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Li=!1;function sI(t,e){switch(t){case"compositionend":return T_(e);case"keypress":return e.which!==32?null:(_y=!0,wy);case"textInput":return t=e.data,t===wy&&_y?null:t;default:return null}}function iI(t,e){if(Li)return t==="compositionend"||!Jm&&S_(t,e)?(t=x_(),Pu=Gm=Xr=null,Li=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return E_&&e.locale!=="ko"?null:e.data;default:return null}}var oI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!oI[t.type]:e==="textarea"}function k_(t,e,n,r){n_(r),e=lc(e,"onChange"),0<e.length&&(n=new qm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var ba=null,qa=null;function aI(t){L_(t,0)}function Zc(t){var e=Fi(t);if(Jw(e))return t}function lI(t,e){if(t==="change")return e}var I_=!1;if(yr){var sh;if(yr){var ih="oninput"in document;if(!ih){var Ey=document.createElement("div");Ey.setAttribute("oninput","return;"),ih=typeof Ey.oninput=="function"}sh=ih}else sh=!1;I_=sh&&(!document.documentMode||9<document.documentMode)}function Sy(){ba&&(ba.detachEvent("onpropertychange",C_),qa=ba=null)}function C_(t){if(t.propertyName==="value"&&Zc(qa)){var e=[];k_(e,qa,t,$m(t)),o_(aI,e)}}function uI(t,e,n){t==="focusin"?(Sy(),ba=e,qa=n,ba.attachEvent("onpropertychange",C_)):t==="focusout"&&Sy()}function cI(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zc(qa)}function dI(t,e){if(t==="click")return Zc(e)}function hI(t,e){if(t==="input"||t==="change")return Zc(e)}function fI(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var kn=typeof Object.is=="function"?Object.is:fI;function Ka(t,e){if(kn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Qh.call(e,s)||!kn(t[s],e[s]))return!1}return!0}function Ty(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function ky(t,e){var n=Ty(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ty(n)}}function b_(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?b_(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function R_(){for(var t=window,e=tc();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=tc(t.document)}return e}function Qm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mI(t){var e=R_(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&b_(n.ownerDocument.documentElement,n)){if(r!==null&&Qm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=ky(n,i);var o=ky(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var pI=yr&&"documentMode"in document&&11>=document.documentMode,ji=null,gf=null,Ra=null,yf=!1;function Iy(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;yf||ji==null||ji!==tc(r)||(r=ji,"selectionStart"in r&&Qm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ra&&Ka(Ra,r)||(Ra=r,r=lc(gf,"onSelect"),0<r.length&&(e=new qm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ji)))}function lu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Vi={animationend:lu("Animation","AnimationEnd"),animationiteration:lu("Animation","AnimationIteration"),animationstart:lu("Animation","AnimationStart"),transitionend:lu("Transition","TransitionEnd")},oh={},P_={};yr&&(P_=document.createElement("div").style,"AnimationEvent"in window||(delete Vi.animationend.animation,delete Vi.animationiteration.animation,delete Vi.animationstart.animation),"TransitionEvent"in window||delete Vi.transitionend.transition);function ed(t){if(oh[t])return oh[t];if(!Vi[t])return t;var e=Vi[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in P_)return oh[t]=e[n];return t}var A_=ed("animationend"),N_=ed("animationiteration"),D_=ed("animationstart"),O_=ed("transitionend"),M_=new Map,Cy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(t,e){M_.set(t,e),ai(e,[t])}for(var ah=0;ah<Cy.length;ah++){var lh=Cy[ah],gI=lh.toLowerCase(),yI=lh[0].toUpperCase()+lh.slice(1);Ss(gI,"on"+yI)}Ss(A_,"onAnimationEnd");Ss(N_,"onAnimationIteration");Ss(D_,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(O_,"onTransitionEnd");oo("onMouseEnter",["mouseout","mouseover"]);oo("onMouseLeave",["mouseout","mouseover"]);oo("onPointerEnter",["pointerout","pointerover"]);oo("onPointerLeave",["pointerout","pointerover"]);ai("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ai("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ai("onBeforeInput",["compositionend","keypress","textInput","paste"]);ai("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ai("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _a="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vI=new Set("cancel close invalid load scroll toggle".split(" ").concat(_a));function by(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,gk(r,e,void 0,t),t.currentTarget=null}function L_(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,c=l.currentTarget;if(l=l.listener,u!==i&&s.isPropagationStopped())break e;by(s,l,c),i=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,c=l.currentTarget,l=l.listener,u!==i&&s.isPropagationStopped())break e;by(s,l,c),i=u}}}if(rc)throw t=hf,rc=!1,hf=null,t}function be(t,e){var n=e[Ef];n===void 0&&(n=e[Ef]=new Set);var r=t+"__bubble";n.has(r)||(j_(e,t,2,!1),n.add(r))}function uh(t,e,n){var r=0;e&&(r|=4),j_(n,t,r,e)}var uu="_reactListening"+Math.random().toString(36).slice(2);function Ja(t){if(!t[uu]){t[uu]=!0,Hw.forEach(function(n){n!=="selectionchange"&&(vI.has(n)||uh(n,!1,t),uh(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[uu]||(e[uu]=!0,uh("selectionchange",!1,e))}}function j_(t,e,n,r){switch(__(e)){case 1:var s=Nk;break;case 4:s=Dk;break;default:s=Wm}n=s.bind(null,e,n,t),s=void 0,!df||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function ch(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;o=o.return}for(;l!==null;){if(o=Vs(l),o===null)return;if(u=o.tag,u===5||u===6){r=i=o;continue e}l=l.parentNode}}r=r.return}o_(function(){var c=i,h=$m(n),p=[];e:{var g=M_.get(t);if(g!==void 0){var E=qm,k=t;switch(t){case"keypress":if(Au(n)===0)break e;case"keydown":case"keyup":E=Kk;break;case"focusin":k="focus",E=rh;break;case"focusout":k="blur",E=rh;break;case"beforeblur":case"afterblur":E=rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":E=gy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":E=Lk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":E=Yk;break;case A_:case N_:case D_:E=Fk;break;case O_:E=Zk;break;case"scroll":E=Ok;break;case"wheel":E=tI;break;case"copy":case"cut":case"paste":E=$k;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":E=vy}var I=(e&4)!==0,R=!I&&t==="scroll",x=I?g!==null?g+"Capture":null:g;I=[];for(var y=c,_;y!==null;){_=y;var A=_.stateNode;if(_.tag===5&&A!==null&&(_=A,x!==null&&(A=za(y,x),A!=null&&I.push(Qa(y,A,_)))),R)break;y=y.return}0<I.length&&(g=new E(g,k,null,n,h),p.push({event:g,listeners:I}))}}if(!(e&7)){e:{if(g=t==="mouseover"||t==="pointerover",E=t==="mouseout"||t==="pointerout",g&&n!==uf&&(k=n.relatedTarget||n.fromElement)&&(Vs(k)||k[vr]))break e;if((E||g)&&(g=h.window===h?h:(g=h.ownerDocument)?g.defaultView||g.parentWindow:window,E?(k=n.relatedTarget||n.toElement,E=c,k=k?Vs(k):null,k!==null&&(R=li(k),k!==R||k.tag!==5&&k.tag!==6)&&(k=null)):(E=null,k=c),E!==k)){if(I=gy,A="onMouseLeave",x="onMouseEnter",y="mouse",(t==="pointerout"||t==="pointerover")&&(I=vy,A="onPointerLeave",x="onPointerEnter",y="pointer"),R=E==null?g:Fi(E),_=k==null?g:Fi(k),g=new I(A,y+"leave",E,n,h),g.target=R,g.relatedTarget=_,A=null,Vs(h)===c&&(I=new I(x,y+"enter",k,n,h),I.target=_,I.relatedTarget=R,A=I),R=A,E&&k)t:{for(I=E,x=k,y=0,_=I;_;_=ki(_))y++;for(_=0,A=x;A;A=ki(A))_++;for(;0<y-_;)I=ki(I),y--;for(;0<_-y;)x=ki(x),_--;for(;y--;){if(I===x||x!==null&&I===x.alternate)break t;I=ki(I),x=ki(x)}I=null}else I=null;E!==null&&Ry(p,g,E,I,!1),k!==null&&R!==null&&Ry(p,R,k,I,!0)}}e:{if(g=c?Fi(c):window,E=g.nodeName&&g.nodeName.toLowerCase(),E==="select"||E==="input"&&g.type==="file")var O=lI;else if(xy(g))if(I_)O=hI;else{O=cI;var M=uI}else(E=g.nodeName)&&E.toLowerCase()==="input"&&(g.type==="checkbox"||g.type==="radio")&&(O=dI);if(O&&(O=O(t,c))){k_(p,O,n,h);break e}M&&M(t,g,c),t==="focusout"&&(M=g._wrapperState)&&M.controlled&&g.type==="number"&&rf(g,"number",g.value)}switch(M=c?Fi(c):window,t){case"focusin":(xy(M)||M.contentEditable==="true")&&(ji=M,gf=c,Ra=null);break;case"focusout":Ra=gf=ji=null;break;case"mousedown":yf=!0;break;case"contextmenu":case"mouseup":case"dragend":yf=!1,Iy(p,n,h);break;case"selectionchange":if(pI)break;case"keydown":case"keyup":Iy(p,n,h)}var S;if(Jm)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Li?S_(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(E_&&n.locale!=="ko"&&(Li||v!=="onCompositionStart"?v==="onCompositionEnd"&&Li&&(S=x_()):(Xr=h,Gm="value"in Xr?Xr.value:Xr.textContent,Li=!0)),M=lc(c,v),0<M.length&&(v=new yy(v,t,null,n,h),p.push({event:v,listeners:M}),S?v.data=S:(S=T_(n),S!==null&&(v.data=S)))),(S=rI?sI(t,n):iI(t,n))&&(c=lc(c,"onBeforeInput"),0<c.length&&(h=new yy("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=S))}L_(p,e)})}function Qa(t,e,n){return{instance:t,listener:e,currentTarget:n}}function lc(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=za(t,n),i!=null&&r.unshift(Qa(t,i,s)),i=za(t,e),i!=null&&r.push(Qa(t,i,s))),t=t.return}return r}function ki(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ry(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var l=n,u=l.alternate,c=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&c!==null&&(l=c,s?(u=za(n,i),u!=null&&o.unshift(Qa(n,u,l))):s||(u=za(n,i),u!=null&&o.push(Qa(n,u,l)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var wI=/\r\n?/g,_I=/\u0000|\uFFFD/g;function Py(t){return(typeof t=="string"?t:""+t).replace(wI,`
`).replace(_I,"")}function cu(t,e,n){if(e=Py(e),Py(t)!==e&&n)throw Error(U(425))}function uc(){}var vf=null,wf=null;function _f(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var xf=typeof setTimeout=="function"?setTimeout:void 0,xI=typeof clearTimeout=="function"?clearTimeout:void 0,Ay=typeof Promise=="function"?Promise:void 0,EI=typeof queueMicrotask=="function"?queueMicrotask:typeof Ay<"u"?function(t){return Ay.resolve(null).then(t).catch(SI)}:xf;function SI(t){setTimeout(function(){throw t})}function dh(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Ga(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Ga(e)}function is(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Po=Math.random().toString(36).slice(2),$n="__reactFiber$"+Po,Ya="__reactProps$"+Po,vr="__reactContainer$"+Po,Ef="__reactEvents$"+Po,TI="__reactListeners$"+Po,kI="__reactHandles$"+Po;function Vs(t){var e=t[$n];if(e)return e;for(var n=t.parentNode;n;){if(e=n[vr]||n[$n]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Ny(t);t!==null;){if(n=t[$n])return n;t=Ny(t)}return e}t=n,n=t.parentNode}return null}function _l(t){return t=t[$n]||t[vr],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Fi(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function td(t){return t[Ya]||null}var Sf=[],Bi=-1;function Ts(t){return{current:t}}function Pe(t){0>Bi||(t.current=Sf[Bi],Sf[Bi]=null,Bi--)}function Ie(t,e){Bi++,Sf[Bi]=t.current,t.current=e}var ms={},kt=Ts(ms),Ut=Ts(!1),Xs=ms;function ao(t,e){var n=t.type.contextTypes;if(!n)return ms;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function zt(t){return t=t.childContextTypes,t!=null}function cc(){Pe(Ut),Pe(kt)}function Dy(t,e,n){if(kt.current!==ms)throw Error(U(168));Ie(kt,e),Ie(Ut,n)}function V_(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(U(108,uk(t)||"Unknown",s));return Le({},n,r)}function dc(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,Xs=kt.current,Ie(kt,t),Ie(Ut,Ut.current),!0}function Oy(t,e,n){var r=t.stateNode;if(!r)throw Error(U(169));n?(t=V_(t,e,Xs),r.__reactInternalMemoizedMergedChildContext=t,Pe(Ut),Pe(kt),Ie(kt,t)):Pe(Ut),Ie(Ut,n)}var ur=null,nd=!1,hh=!1;function F_(t){ur===null?ur=[t]:ur.push(t)}function II(t){nd=!0,F_(t)}function ks(){if(!hh&&ur!==null){hh=!0;var t=0,e=Ee;try{var n=ur;for(Ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ur=null,nd=!1}catch(s){throw ur!==null&&(ur=ur.slice(t+1)),c_(Um,ks),s}finally{Ee=e,hh=!1}}return null}var $i=[],Ui=0,hc=null,fc=0,rn=[],sn=0,Zs=null,cr=1,dr="";function Os(t,e){$i[Ui++]=fc,$i[Ui++]=hc,hc=t,fc=e}function B_(t,e,n){rn[sn++]=cr,rn[sn++]=dr,rn[sn++]=Zs,Zs=t;var r=cr;t=dr;var s=32-En(r)-1;r&=~(1<<s),n+=1;var i=32-En(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,cr=1<<32-En(e)+s|n<<s|r,dr=i+t}else cr=1<<i|n<<s|r,dr=t}function Ym(t){t.return!==null&&(Os(t,1),B_(t,1,0))}function Xm(t){for(;t===hc;)hc=$i[--Ui],$i[Ui]=null,fc=$i[--Ui],$i[Ui]=null;for(;t===Zs;)Zs=rn[--sn],rn[sn]=null,dr=rn[--sn],rn[sn]=null,cr=rn[--sn],rn[sn]=null}var Yt=null,Qt=null,Ae=!1,_n=null;function $_(t,e){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function My(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=is(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Yt=t,Qt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Zs!==null?{id:cr,overflow:dr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Yt=t,Qt=null,!0):!1;default:return!1}}function Tf(t){return(t.mode&1)!==0&&(t.flags&128)===0}function kf(t){if(Ae){var e=Qt;if(e){var n=e;if(!My(t,e)){if(Tf(t))throw Error(U(418));e=is(n.nextSibling);var r=Yt;e&&My(t,e)?$_(r,n):(t.flags=t.flags&-4097|2,Ae=!1,Yt=t)}}else{if(Tf(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ae=!1,Yt=t}}}function Ly(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Yt=t}function du(t){if(t!==Yt)return!1;if(!Ae)return Ly(t),Ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_f(t.type,t.memoizedProps)),e&&(e=Qt)){if(Tf(t))throw U_(),Error(U(418));for(;e;)$_(t,e),e=is(e.nextSibling)}if(Ly(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Qt=is(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Qt=null}}else Qt=Yt?is(t.stateNode.nextSibling):null;return!0}function U_(){for(var t=Qt;t;)t=is(t.nextSibling)}function lo(){Qt=Yt=null,Ae=!1}function Zm(t){_n===null?_n=[t]:_n.push(t)}var CI=Ir.ReactCurrentBatchConfig;function da(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var l=s.refs;o===null?delete l[i]:l[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function hu(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function jy(t){var e=t._init;return e(t._payload)}function z_(t){function e(x,y){if(t){var _=x.deletions;_===null?(x.deletions=[y],x.flags|=16):_.push(y)}}function n(x,y){if(!t)return null;for(;y!==null;)e(x,y),y=y.sibling;return null}function r(x,y){for(x=new Map;y!==null;)y.key!==null?x.set(y.key,y):x.set(y.index,y),y=y.sibling;return x}function s(x,y){return x=us(x,y),x.index=0,x.sibling=null,x}function i(x,y,_){return x.index=_,t?(_=x.alternate,_!==null?(_=_.index,_<y?(x.flags|=2,y):_):(x.flags|=2,y)):(x.flags|=1048576,y)}function o(x){return t&&x.alternate===null&&(x.flags|=2),x}function l(x,y,_,A){return y===null||y.tag!==6?(y=wh(_,x.mode,A),y.return=x,y):(y=s(y,_),y.return=x,y)}function u(x,y,_,A){var O=_.type;return O===Mi?h(x,y,_.props.children,A,_.key):y!==null&&(y.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Hr&&jy(O)===y.type)?(A=s(y,_.props),A.ref=da(x,y,_),A.return=x,A):(A=Vu(_.type,_.key,_.props,null,x.mode,A),A.ref=da(x,y,_),A.return=x,A)}function c(x,y,_,A){return y===null||y.tag!==4||y.stateNode.containerInfo!==_.containerInfo||y.stateNode.implementation!==_.implementation?(y=_h(_,x.mode,A),y.return=x,y):(y=s(y,_.children||[]),y.return=x,y)}function h(x,y,_,A,O){return y===null||y.tag!==7?(y=Ws(_,x.mode,A,O),y.return=x,y):(y=s(y,_),y.return=x,y)}function p(x,y,_){if(typeof y=="string"&&y!==""||typeof y=="number")return y=wh(""+y,x.mode,_),y.return=x,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case tu:return _=Vu(y.type,y.key,y.props,null,x.mode,_),_.ref=da(x,null,y),_.return=x,_;case Oi:return y=_h(y,x.mode,_),y.return=x,y;case Hr:var A=y._init;return p(x,A(y._payload),_)}if(va(y)||oa(y))return y=Ws(y,x.mode,_,null),y.return=x,y;hu(x,y)}return null}function g(x,y,_,A){var O=y!==null?y.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return O!==null?null:l(x,y,""+_,A);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case tu:return _.key===O?u(x,y,_,A):null;case Oi:return _.key===O?c(x,y,_,A):null;case Hr:return O=_._init,g(x,y,O(_._payload),A)}if(va(_)||oa(_))return O!==null?null:h(x,y,_,A,null);hu(x,_)}return null}function E(x,y,_,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return x=x.get(_)||null,l(y,x,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case tu:return x=x.get(A.key===null?_:A.key)||null,u(y,x,A,O);case Oi:return x=x.get(A.key===null?_:A.key)||null,c(y,x,A,O);case Hr:var M=A._init;return E(x,y,_,M(A._payload),O)}if(va(A)||oa(A))return x=x.get(_)||null,h(y,x,A,O,null);hu(y,A)}return null}function k(x,y,_,A){for(var O=null,M=null,S=y,v=y=0,T=null;S!==null&&v<_.length;v++){S.index>v?(T=S,S=null):T=S.sibling;var C=g(x,S,_[v],A);if(C===null){S===null&&(S=T);break}t&&S&&C.alternate===null&&e(x,S),y=i(C,y,v),M===null?O=C:M.sibling=C,M=C,S=T}if(v===_.length)return n(x,S),Ae&&Os(x,v),O;if(S===null){for(;v<_.length;v++)S=p(x,_[v],A),S!==null&&(y=i(S,y,v),M===null?O=S:M.sibling=S,M=S);return Ae&&Os(x,v),O}for(S=r(x,S);v<_.length;v++)T=E(S,x,v,_[v],A),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?v:T.key),y=i(T,y,v),M===null?O=T:M.sibling=T,M=T);return t&&S.forEach(function(N){return e(x,N)}),Ae&&Os(x,v),O}function I(x,y,_,A){var O=oa(_);if(typeof O!="function")throw Error(U(150));if(_=O.call(_),_==null)throw Error(U(151));for(var M=O=null,S=y,v=y=0,T=null,C=_.next();S!==null&&!C.done;v++,C=_.next()){S.index>v?(T=S,S=null):T=S.sibling;var N=g(x,S,C.value,A);if(N===null){S===null&&(S=T);break}t&&S&&N.alternate===null&&e(x,S),y=i(N,y,v),M===null?O=N:M.sibling=N,M=N,S=T}if(C.done)return n(x,S),Ae&&Os(x,v),O;if(S===null){for(;!C.done;v++,C=_.next())C=p(x,C.value,A),C!==null&&(y=i(C,y,v),M===null?O=C:M.sibling=C,M=C);return Ae&&Os(x,v),O}for(S=r(x,S);!C.done;v++,C=_.next())C=E(S,x,v,C.value,A),C!==null&&(t&&C.alternate!==null&&S.delete(C.key===null?v:C.key),y=i(C,y,v),M===null?O=C:M.sibling=C,M=C);return t&&S.forEach(function(D){return e(x,D)}),Ae&&Os(x,v),O}function R(x,y,_,A){if(typeof _=="object"&&_!==null&&_.type===Mi&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case tu:e:{for(var O=_.key,M=y;M!==null;){if(M.key===O){if(O=_.type,O===Mi){if(M.tag===7){n(x,M.sibling),y=s(M,_.props.children),y.return=x,x=y;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Hr&&jy(O)===M.type){n(x,M.sibling),y=s(M,_.props),y.ref=da(x,M,_),y.return=x,x=y;break e}n(x,M);break}else e(x,M);M=M.sibling}_.type===Mi?(y=Ws(_.props.children,x.mode,A,_.key),y.return=x,x=y):(A=Vu(_.type,_.key,_.props,null,x.mode,A),A.ref=da(x,y,_),A.return=x,x=A)}return o(x);case Oi:e:{for(M=_.key;y!==null;){if(y.key===M)if(y.tag===4&&y.stateNode.containerInfo===_.containerInfo&&y.stateNode.implementation===_.implementation){n(x,y.sibling),y=s(y,_.children||[]),y.return=x,x=y;break e}else{n(x,y);break}else e(x,y);y=y.sibling}y=_h(_,x.mode,A),y.return=x,x=y}return o(x);case Hr:return M=_._init,R(x,y,M(_._payload),A)}if(va(_))return k(x,y,_,A);if(oa(_))return I(x,y,_,A);hu(x,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,y!==null&&y.tag===6?(n(x,y.sibling),y=s(y,_),y.return=x,x=y):(n(x,y),y=wh(_,x.mode,A),y.return=x,x=y),o(x)):n(x,y)}return R}var uo=z_(!0),H_=z_(!1),mc=Ts(null),pc=null,zi=null,ep=null;function tp(){ep=zi=pc=null}function np(t){var e=mc.current;Pe(mc),t._currentValue=e}function If(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xi(t,e){pc=t,ep=zi=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Bt=!0),t.firstContext=null)}function un(t){var e=t._currentValue;if(ep!==t)if(t={context:t,memoizedValue:e,next:null},zi===null){if(pc===null)throw Error(U(308));zi=t,pc.dependencies={lanes:0,firstContext:t}}else zi=zi.next=t;return e}var Fs=null;function rp(t){Fs===null?Fs=[t]:Fs.push(t)}function W_(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,rp(e)):(n.next=s.next,s.next=n),e.interleaved=n,wr(t,r)}function wr(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Wr=!1;function sp(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function G_(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function mr(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function os(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ge&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,wr(t,n)}return s=r.interleaved,s===null?(e.next=e,rp(r)):(e.next=s.next,s.next=e),r.interleaved=e,wr(t,n)}function Nu(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}function Vy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function gc(t,e,n,r){var s=t.updateQueue;Wr=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var u=l,c=u.next;u.next=null,o===null?i=c:o.next=c,o=u;var h=t.alternate;h!==null&&(h=h.updateQueue,l=h.lastBaseUpdate,l!==o&&(l===null?h.firstBaseUpdate=c:l.next=c,h.lastBaseUpdate=u))}if(i!==null){var p=s.baseState;o=0,h=c=u=null,l=i;do{var g=l.lane,E=l.eventTime;if((r&g)===g){h!==null&&(h=h.next={eventTime:E,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var k=t,I=l;switch(g=e,E=n,I.tag){case 1:if(k=I.payload,typeof k=="function"){p=k.call(E,p,g);break e}p=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=I.payload,g=typeof k=="function"?k.call(E,p,g):k,g==null)break e;p=Le({},p,g);break e;case 2:Wr=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,g=s.effects,g===null?s.effects=[l]:g.push(l))}else E={eventTime:E,lane:g,tag:l.tag,payload:l.payload,callback:l.callback,next:null},h===null?(c=h=E,u=p):h=h.next=E,o|=g;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;g=l,l=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);if(h===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);ti|=o,t.lanes=o,t.memoizedState=p}}function Fy(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(U(191,s));s.call(r)}}}var xl={},Wn=Ts(xl),Xa=Ts(xl),Za=Ts(xl);function Bs(t){if(t===xl)throw Error(U(174));return t}function ip(t,e){switch(Ie(Za,e),Ie(Xa,t),Ie(Wn,xl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:of(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=of(e,t)}Pe(Wn),Ie(Wn,e)}function co(){Pe(Wn),Pe(Xa),Pe(Za)}function q_(t){Bs(Za.current);var e=Bs(Wn.current),n=of(e,t.type);e!==n&&(Ie(Xa,t),Ie(Wn,n))}function op(t){Xa.current===t&&(Pe(Wn),Pe(Xa))}var De=Ts(0);function yc(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var fh=[];function ap(){for(var t=0;t<fh.length;t++)fh[t]._workInProgressVersionPrimary=null;fh.length=0}var Du=Ir.ReactCurrentDispatcher,mh=Ir.ReactCurrentBatchConfig,ei=0,Oe=null,Ye=null,rt=null,vc=!1,Pa=!1,el=0,bI=0;function wt(){throw Error(U(321))}function lp(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!kn(t[n],e[n]))return!1;return!0}function up(t,e,n,r,s,i){if(ei=i,Oe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Du.current=t===null||t.memoizedState===null?NI:DI,t=n(r,s),Pa){i=0;do{if(Pa=!1,el=0,25<=i)throw Error(U(301));i+=1,rt=Ye=null,e.updateQueue=null,Du.current=OI,t=n(r,s)}while(Pa)}if(Du.current=wc,e=Ye!==null&&Ye.next!==null,ei=0,rt=Ye=Oe=null,vc=!1,e)throw Error(U(300));return t}function cp(){var t=el!==0;return el=0,t}function Vn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?Oe.memoizedState=rt=t:rt=rt.next=t,rt}function cn(){if(Ye===null){var t=Oe.alternate;t=t!==null?t.memoizedState:null}else t=Ye.next;var e=rt===null?Oe.memoizedState:rt.next;if(e!==null)rt=e,Ye=t;else{if(t===null)throw Error(U(310));Ye=t,t={memoizedState:Ye.memoizedState,baseState:Ye.baseState,baseQueue:Ye.baseQueue,queue:Ye.queue,next:null},rt===null?Oe.memoizedState=rt=t:rt=rt.next=t}return rt}function tl(t,e){return typeof e=="function"?e(t):e}function ph(t){var e=cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=Ye,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var l=o=null,u=null,c=i;do{var h=c.lane;if((ei&h)===h)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(l=u=p,o=r):u=u.next=p,Oe.lanes|=h,ti|=h}c=c.next}while(c!==null&&c!==i);u===null?o=r:u.next=l,kn(r,e.memoizedState)||(Bt=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Oe.lanes|=i,ti|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gh(t){var e=cn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);kn(i,e.memoizedState)||(Bt=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function K_(){}function J_(t,e){var n=Oe,r=cn(),s=e(),i=!kn(r.memoizedState,s);if(i&&(r.memoizedState=s,Bt=!0),r=r.queue,dp(X_.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,nl(9,Y_.bind(null,n,r,s,e),void 0,null),ot===null)throw Error(U(349));ei&30||Q_(n,e,s)}return s}function Q_(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Y_(t,e,n,r){e.value=n,e.getSnapshot=r,Z_(e)&&ex(t)}function X_(t,e,n){return n(function(){Z_(e)&&ex(t)})}function Z_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!kn(t,n)}catch{return!0}}function ex(t){var e=wr(t,1);e!==null&&Sn(e,t,1,-1)}function By(t){var e=Vn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tl,lastRenderedState:t},e.queue=t,t=t.dispatch=AI.bind(null,Oe,t),[e.memoizedState,t]}function nl(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Oe.updateQueue,e===null?(e={lastEffect:null,stores:null},Oe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tx(){return cn().memoizedState}function Ou(t,e,n,r){var s=Vn();Oe.flags|=t,s.memoizedState=nl(1|e,n,void 0,r===void 0?null:r)}function rd(t,e,n,r){var s=cn();r=r===void 0?null:r;var i=void 0;if(Ye!==null){var o=Ye.memoizedState;if(i=o.destroy,r!==null&&lp(r,o.deps)){s.memoizedState=nl(e,n,i,r);return}}Oe.flags|=t,s.memoizedState=nl(1|e,n,i,r)}function $y(t,e){return Ou(8390656,8,t,e)}function dp(t,e){return rd(2048,8,t,e)}function nx(t,e){return rd(4,2,t,e)}function rx(t,e){return rd(4,4,t,e)}function sx(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function ix(t,e,n){return n=n!=null?n.concat([t]):null,rd(4,4,sx.bind(null,e,t),n)}function hp(){}function ox(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lp(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ax(t,e){var n=cn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&lp(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lx(t,e,n){return ei&21?(kn(n,e)||(n=f_(),Oe.lanes|=n,ti|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Bt=!0),t.memoizedState=n)}function RI(t,e){var n=Ee;Ee=n!==0&&4>n?n:4,t(!0);var r=mh.transition;mh.transition={};try{t(!1),e()}finally{Ee=n,mh.transition=r}}function ux(){return cn().memoizedState}function PI(t,e,n){var r=ls(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},cx(t))dx(e,n);else if(n=W_(t,e,n,r),n!==null){var s=Nt();Sn(n,t,r,s),hx(n,e,r)}}function AI(t,e,n){var r=ls(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(cx(t))dx(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,l=i(o,n);if(s.hasEagerState=!0,s.eagerState=l,kn(l,o)){var u=e.interleaved;u===null?(s.next=s,rp(e)):(s.next=u.next,u.next=s),e.interleaved=s;return}}catch{}finally{}n=W_(t,e,s,r),n!==null&&(s=Nt(),Sn(n,t,r,s),hx(n,e,r))}}function cx(t){var e=t.alternate;return t===Oe||e!==null&&e===Oe}function dx(t,e){Pa=vc=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hx(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,zm(t,n)}}var wc={readContext:un,useCallback:wt,useContext:wt,useEffect:wt,useImperativeHandle:wt,useInsertionEffect:wt,useLayoutEffect:wt,useMemo:wt,useReducer:wt,useRef:wt,useState:wt,useDebugValue:wt,useDeferredValue:wt,useTransition:wt,useMutableSource:wt,useSyncExternalStore:wt,useId:wt,unstable_isNewReconciler:!1},NI={readContext:un,useCallback:function(t,e){return Vn().memoizedState=[t,e===void 0?null:e],t},useContext:un,useEffect:$y,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ou(4194308,4,sx.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ou(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ou(4,2,t,e)},useMemo:function(t,e){var n=Vn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Vn();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=PI.bind(null,Oe,t),[r.memoizedState,t]},useRef:function(t){var e=Vn();return t={current:t},e.memoizedState=t},useState:By,useDebugValue:hp,useDeferredValue:function(t){return Vn().memoizedState=t},useTransition:function(){var t=By(!1),e=t[0];return t=RI.bind(null,t[1]),Vn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Oe,s=Vn();if(Ae){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),ot===null)throw Error(U(349));ei&30||Q_(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,$y(X_.bind(null,r,i,t),[t]),r.flags|=2048,nl(9,Y_.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Vn(),e=ot.identifierPrefix;if(Ae){var n=dr,r=cr;n=(r&~(1<<32-En(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=el++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bI++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},DI={readContext:un,useCallback:ox,useContext:un,useEffect:dp,useImperativeHandle:ix,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:ph,useRef:tx,useState:function(){return ph(tl)},useDebugValue:hp,useDeferredValue:function(t){var e=cn();return lx(e,Ye.memoizedState,t)},useTransition:function(){var t=ph(tl)[0],e=cn().memoizedState;return[t,e]},useMutableSource:K_,useSyncExternalStore:J_,useId:ux,unstable_isNewReconciler:!1},OI={readContext:un,useCallback:ox,useContext:un,useEffect:dp,useImperativeHandle:ix,useInsertionEffect:nx,useLayoutEffect:rx,useMemo:ax,useReducer:gh,useRef:tx,useState:function(){return gh(tl)},useDebugValue:hp,useDeferredValue:function(t){var e=cn();return Ye===null?e.memoizedState=t:lx(e,Ye.memoizedState,t)},useTransition:function(){var t=gh(tl)[0],e=cn().memoizedState;return[t,e]},useMutableSource:K_,useSyncExternalStore:J_,useId:ux,unstable_isNewReconciler:!1};function vn(t,e){if(t&&t.defaultProps){e=Le({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Cf(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Le({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var sd={isMounted:function(t){return(t=t._reactInternals)?li(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=ls(t),i=mr(r,s);i.payload=e,n!=null&&(i.callback=n),e=os(t,i,s),e!==null&&(Sn(e,t,s,r),Nu(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Nt(),s=ls(t),i=mr(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=os(t,i,s),e!==null&&(Sn(e,t,s,r),Nu(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Nt(),r=ls(t),s=mr(n,r);s.tag=2,e!=null&&(s.callback=e),e=os(t,s,r),e!==null&&(Sn(e,t,r,n),Nu(e,t,r))}};function Uy(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Ka(n,r)||!Ka(s,i):!0}function fx(t,e,n){var r=!1,s=ms,i=e.contextType;return typeof i=="object"&&i!==null?i=un(i):(s=zt(e)?Xs:kt.current,r=e.contextTypes,i=(r=r!=null)?ao(t,s):ms),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=sd,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function zy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&sd.enqueueReplaceState(e,e.state,null)}function bf(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},sp(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=un(i):(i=zt(e)?Xs:kt.current,s.context=ao(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Cf(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&sd.enqueueReplaceState(s,s.state,null),gc(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function ho(t,e){try{var n="",r=e;do n+=lk(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Rf(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var MI=typeof WeakMap=="function"?WeakMap:Map;function mx(t,e,n){n=mr(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){xc||(xc=!0,Ff=r),Rf(t,e)},n}function px(t,e,n){n=mr(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Rf(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Rf(t,e),typeof r!="function"&&(as===null?as=new Set([this]):as.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Hy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new MI;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=JI.bind(null,t,e,n),e.then(t,t))}function Wy(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Gy(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=mr(-1,1),e.tag=2,os(n,e,1))),n.lanes|=1),t)}var LI=Ir.ReactCurrentOwner,Bt=!1;function Pt(t,e,n,r){e.child=t===null?H_(e,null,n,r):uo(e,t.child,n,r)}function qy(t,e,n,r,s){n=n.render;var i=e.ref;return Xi(e,s),r=up(t,e,n,r,i,s),n=cp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Ae&&n&&Ym(e),e.flags|=1,Pt(t,e,r,s),e.child)}function Ky(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!_p(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,gx(t,e,i,r,s)):(t=Vu(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ka,n(o,r)&&t.ref===e.ref)return _r(t,e,s)}return e.flags|=1,t=us(i,r),t.ref=e.ref,t.return=e,e.child=t}function gx(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Ka(i,r)&&t.ref===e.ref)if(Bt=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Bt=!0);else return e.lanes=t.lanes,_r(t,e,s)}return Pf(t,e,n,r,s)}function yx(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ie(Wi,Jt),Jt|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ie(Wi,Jt),Jt|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Ie(Wi,Jt),Jt|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,Ie(Wi,Jt),Jt|=r;return Pt(t,e,s,n),e.child}function vx(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pf(t,e,n,r,s){var i=zt(n)?Xs:kt.current;return i=ao(e,i),Xi(e,s),n=up(t,e,n,r,i,s),r=cp(),t!==null&&!Bt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,_r(t,e,s)):(Ae&&r&&Ym(e),e.flags|=1,Pt(t,e,n,s),e.child)}function Jy(t,e,n,r,s){if(zt(n)){var i=!0;dc(e)}else i=!1;if(Xi(e,s),e.stateNode===null)Mu(t,e),fx(e,n,r),bf(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=zt(n)?Xs:kt.current,c=ao(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==c)&&zy(e,o,r,c),Wr=!1;var g=e.memoizedState;o.state=g,gc(e,r,o,s),u=e.memoizedState,l!==r||g!==u||Ut.current||Wr?(typeof h=="function"&&(Cf(e,n,h,r),u=e.memoizedState),(l=Wr||Uy(e,n,l,r,g,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=c,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,G_(t,e),l=e.memoizedProps,c=e.type===e.elementType?l:vn(e.type,l),o.props=c,p=e.pendingProps,g=o.context,u=n.contextType,typeof u=="object"&&u!==null?u=un(u):(u=zt(n)?Xs:kt.current,u=ao(e,u));var E=n.getDerivedStateFromProps;(h=typeof E=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||g!==u)&&zy(e,o,r,u),Wr=!1,g=e.memoizedState,o.state=g,gc(e,r,o,s);var k=e.memoizedState;l!==p||g!==k||Ut.current||Wr?(typeof E=="function"&&(Cf(e,n,E,r),k=e.memoizedState),(c=Wr||Uy(e,n,c,r,g,k,u)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,k,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,k,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),o.props=r,o.state=k,o.context=u,r=c):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&g===t.memoizedState||(e.flags|=1024),r=!1)}return Af(t,e,n,r,i,s)}function Af(t,e,n,r,s,i){vx(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Oy(e,n,!1),_r(t,e,i);r=e.stateNode,LI.current=e;var l=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=uo(e,t.child,null,i),e.child=uo(e,null,l,i)):Pt(t,e,l,i),e.memoizedState=r.state,s&&Oy(e,n,!0),e.child}function wx(t){var e=t.stateNode;e.pendingContext?Dy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Dy(t,e.context,!1),ip(t,e.containerInfo)}function Qy(t,e,n,r,s){return lo(),Zm(s),e.flags|=256,Pt(t,e,n,r),e.child}var Nf={dehydrated:null,treeContext:null,retryLane:0};function Df(t){return{baseLanes:t,cachePool:null,transitions:null}}function _x(t,e,n){var r=e.pendingProps,s=De.current,i=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(s&2)!==0),l?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ie(De,s&1),t===null)return kf(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=ad(o,r,0,null),t=Ws(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Df(n),e.memoizedState=Nf,t):fp(e,o));if(s=t.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return jI(t,e,o,r,l,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,l=s.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=us(s,u),r.subtreeFlags=s.subtreeFlags&14680064),l!==null?i=us(l,i):(i=Ws(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Df(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Nf,r}return i=t.child,t=i.sibling,r=us(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function fp(t,e){return e=ad({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function fu(t,e,n,r){return r!==null&&Zm(r),uo(e,t.child,null,n),t=fp(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function jI(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yh(Error(U(422))),fu(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=ad({mode:"visible",children:r.children},s,0,null),i=Ws(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&uo(e,t.child,null,o),e.child.memoizedState=Df(o),e.memoizedState=Nf,i);if(!(e.mode&1))return fu(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var l=r.dgst;return r=l,i=Error(U(419)),r=yh(i,r,void 0),fu(t,e,o,r)}if(l=(o&t.childLanes)!==0,Bt||l){if(r=ot,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,wr(t,s),Sn(r,t,s,-1))}return wp(),r=yh(Error(U(421))),fu(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=QI.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Qt=is(s.nextSibling),Yt=e,Ae=!0,_n=null,t!==null&&(rn[sn++]=cr,rn[sn++]=dr,rn[sn++]=Zs,cr=t.id,dr=t.overflow,Zs=e),e=fp(e,r.children),e.flags|=4096,e)}function Yy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),If(t.return,e,n)}function vh(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xx(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Pt(t,e,r.children,n),r=De.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yy(t,n,e);else if(t.tag===19)Yy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Ie(De,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&yc(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),vh(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&yc(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}vh(e,!0,n,null,i);break;case"together":vh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Mu(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _r(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),ti|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=us(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=us(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VI(t,e,n){switch(e.tag){case 3:wx(e),lo();break;case 5:q_(e);break;case 1:zt(e.type)&&dc(e);break;case 4:ip(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;Ie(mc,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Ie(De,De.current&1),e.flags|=128,null):n&e.child.childLanes?_x(t,e,n):(Ie(De,De.current&1),t=_r(t,e,n),t!==null?t.sibling:null);Ie(De,De.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xx(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ie(De,De.current),r)break;return null;case 22:case 23:return e.lanes=0,yx(t,e,n)}return _r(t,e,n)}var Ex,Of,Sx,Tx;Ex=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Of=function(){};Sx=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Bs(Wn.current);var i=null;switch(n){case"input":s=tf(t,s),r=tf(t,r),i=[];break;case"select":s=Le({},s,{value:void 0}),r=Le({},r,{value:void 0}),i=[];break;case"textarea":s=sf(t,s),r=sf(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=uc)}af(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var l=s[c];for(o in l)l.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&($a.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var u=r[c];if(l=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==l&&(u!=null||l!=null))if(c==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(n||(n={}),n[o]=u[o])}else n||(i||(i=[]),i.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(i=i||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(i=i||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&($a.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&be("scroll",t),i||l===u||(i=[])):(i=i||[]).push(c,u))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Tx=function(t,e,n,r){n!==r&&(e.flags|=4)};function ha(t,e){if(!Ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function _t(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function FI(t,e,n){var r=e.pendingProps;switch(Xm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(e),null;case 1:return zt(e.type)&&cc(),_t(e),null;case 3:return r=e.stateNode,co(),Pe(Ut),Pe(kt),ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(du(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,_n!==null&&(Uf(_n),_n=null))),Of(t,e),_t(e),null;case 5:op(e);var s=Bs(Za.current);if(n=e.type,t!==null&&e.stateNode!=null)Sx(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(U(166));return _t(e),null}if(t=Bs(Wn.current),du(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[$n]=e,r[Ya]=i,t=(e.mode&1)!==0,n){case"dialog":be("cancel",r),be("close",r);break;case"iframe":case"object":case"embed":be("load",r);break;case"video":case"audio":for(s=0;s<_a.length;s++)be(_a[s],r);break;case"source":be("error",r);break;case"img":case"image":case"link":be("error",r),be("load",r);break;case"details":be("toggle",r);break;case"input":oy(r,i),be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},be("invalid",r);break;case"textarea":ly(r,i),be("invalid",r)}af(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var l=i[o];o==="children"?typeof l=="string"?r.textContent!==l&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,l,t),s=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(i.suppressHydrationWarning!==!0&&cu(r.textContent,l,t),s=["children",""+l]):$a.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&be("scroll",r)}switch(n){case"input":nu(r),ay(r,i,!0);break;case"textarea":nu(r),uy(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=uc)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Xw(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[$n]=e,t[Ya]=r,Ex(t,e,!1,!1),e.stateNode=t;e:{switch(o=lf(n,r),n){case"dialog":be("cancel",t),be("close",t),s=r;break;case"iframe":case"object":case"embed":be("load",t),s=r;break;case"video":case"audio":for(s=0;s<_a.length;s++)be(_a[s],t);s=r;break;case"source":be("error",t),s=r;break;case"img":case"image":case"link":be("error",t),be("load",t),s=r;break;case"details":be("toggle",t),s=r;break;case"input":oy(t,r),s=tf(t,r),be("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=Le({},r,{value:void 0}),be("invalid",t);break;case"textarea":ly(t,r),s=sf(t,r),be("invalid",t);break;default:s=r}af(n,s),l=s;for(i in l)if(l.hasOwnProperty(i)){var u=l[i];i==="style"?t_(t,u):i==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Zw(t,u)):i==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ua(t,u):typeof u=="number"&&Ua(t,""+u):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($a.hasOwnProperty(i)?u!=null&&i==="onScroll"&&be("scroll",t):u!=null&&jm(t,i,u,o))}switch(n){case"input":nu(t),ay(t,r,!1);break;case"textarea":nu(t),uy(t);break;case"option":r.value!=null&&t.setAttribute("value",""+fs(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Ki(t,!!r.multiple,i,!1):r.defaultValue!=null&&Ki(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=uc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _t(e),null;case 6:if(t&&e.stateNode!=null)Tx(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(U(166));if(n=Bs(Za.current),Bs(Wn.current),du(e)){if(r=e.stateNode,n=e.memoizedProps,r[$n]=e,(i=r.nodeValue!==n)&&(t=Yt,t!==null))switch(t.tag){case 3:cu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&cu(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=e,e.stateNode=r}return _t(e),null;case 13:if(Pe(De),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ae&&Qt!==null&&e.mode&1&&!(e.flags&128))U_(),lo(),e.flags|=98560,i=!1;else if(i=du(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(U(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(U(317));i[$n]=e}else lo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_t(e),i=!1}else _n!==null&&(Uf(_n),_n=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||De.current&1?Ze===0&&(Ze=3):wp())),e.updateQueue!==null&&(e.flags|=4),_t(e),null);case 4:return co(),Of(t,e),t===null&&Ja(e.stateNode.containerInfo),_t(e),null;case 10:return np(e.type._context),_t(e),null;case 17:return zt(e.type)&&cc(),_t(e),null;case 19:if(Pe(De),i=e.memoizedState,i===null)return _t(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ha(i,!1);else{if(Ze!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=yc(t),o!==null){for(e.flags|=128,ha(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ie(De,De.current&1|2),e.child}t=t.sibling}i.tail!==null&&He()>fo&&(e.flags|=128,r=!0,ha(i,!1),e.lanes=4194304)}else{if(!r)if(t=yc(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ha(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ae)return _t(e),null}else 2*He()-i.renderingStartTime>fo&&n!==1073741824&&(e.flags|=128,r=!0,ha(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=He(),e.sibling=null,n=De.current,Ie(De,r?n&1|2:n&1),e):(_t(e),null);case 22:case 23:return vp(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Jt&1073741824&&(_t(e),e.subtreeFlags&6&&(e.flags|=8192)):_t(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function BI(t,e){switch(Xm(e),e.tag){case 1:return zt(e.type)&&cc(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return co(),Pe(Ut),Pe(kt),ap(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return op(e),null;case 13:if(Pe(De),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));lo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Pe(De),null;case 4:return co(),null;case 10:return np(e.type._context),null;case 22:case 23:return vp(),null;case 24:return null;default:return null}}var mu=!1,St=!1,$I=typeof WeakSet=="function"?WeakSet:Set,q=null;function Hi(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Be(t,e,r)}else n.current=null}function Mf(t,e,n){try{n()}catch(r){Be(t,e,r)}}var Xy=!1;function UI(t,e){if(vf=oc,t=R_(),Qm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,l=-1,u=-1,c=0,h=0,p=t,g=null;t:for(;;){for(var E;p!==n||s!==0&&p.nodeType!==3||(l=o+s),p!==i||r!==0&&p.nodeType!==3||(u=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(E=p.firstChild)!==null;)g=p,p=E;for(;;){if(p===t)break t;if(g===n&&++c===s&&(l=o),g===i&&++h===r&&(u=o),(E=p.nextSibling)!==null)break;p=g,g=p.parentNode}p=E}n=l===-1||u===-1?null:{start:l,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(wf={focusedElem:t,selectionRange:n},oc=!1,q=e;q!==null;)if(e=q,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,q=t;else for(;q!==null;){e=q;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var I=k.memoizedProps,R=k.memoizedState,x=e.stateNode,y=x.getSnapshotBeforeUpdate(e.elementType===e.type?I:vn(e.type,I),R);x.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(A){Be(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,q=t;break}q=e.return}return k=Xy,Xy=!1,k}function Aa(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&Mf(e,n,i)}s=s.next}while(s!==r)}}function id(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lf(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function kx(t){var e=t.alternate;e!==null&&(t.alternate=null,kx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[$n],delete e[Ya],delete e[Ef],delete e[TI],delete e[kI])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ix(t){return t.tag===5||t.tag===3||t.tag===4}function Zy(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ix(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function jf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=uc));else if(r!==4&&(t=t.child,t!==null))for(jf(t,e,n),t=t.sibling;t!==null;)jf(t,e,n),t=t.sibling}function Vf(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Vf(t,e,n),t=t.sibling;t!==null;)Vf(t,e,n),t=t.sibling}var dt=null,wn=!1;function Fr(t,e,n){for(n=n.child;n!==null;)Cx(t,e,n),n=n.sibling}function Cx(t,e,n){if(Hn&&typeof Hn.onCommitFiberUnmount=="function")try{Hn.onCommitFiberUnmount(Yc,n)}catch{}switch(n.tag){case 5:St||Hi(n,e);case 6:var r=dt,s=wn;dt=null,Fr(t,e,n),dt=r,wn=s,dt!==null&&(wn?(t=dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):dt.removeChild(n.stateNode));break;case 18:dt!==null&&(wn?(t=dt,n=n.stateNode,t.nodeType===8?dh(t.parentNode,n):t.nodeType===1&&dh(t,n),Ga(t)):dh(dt,n.stateNode));break;case 4:r=dt,s=wn,dt=n.stateNode.containerInfo,wn=!0,Fr(t,e,n),dt=r,wn=s;break;case 0:case 11:case 14:case 15:if(!St&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&Mf(n,e,o),s=s.next}while(s!==r)}Fr(t,e,n);break;case 1:if(!St&&(Hi(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){Be(n,e,l)}Fr(t,e,n);break;case 21:Fr(t,e,n);break;case 22:n.mode&1?(St=(r=St)||n.memoizedState!==null,Fr(t,e,n),St=r):Fr(t,e,n);break;default:Fr(t,e,n)}}function e0(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new $I),e.forEach(function(r){var s=YI.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function yn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:dt=l.stateNode,wn=!1;break e;case 3:dt=l.stateNode.containerInfo,wn=!0;break e;case 4:dt=l.stateNode.containerInfo,wn=!0;break e}l=l.return}if(dt===null)throw Error(U(160));Cx(i,o,s),dt=null,wn=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){Be(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)bx(e,t),e=e.sibling}function bx(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(yn(e,t),Ln(t),r&4){try{Aa(3,t,t.return),id(3,t)}catch(I){Be(t,t.return,I)}try{Aa(5,t,t.return)}catch(I){Be(t,t.return,I)}}break;case 1:yn(e,t),Ln(t),r&512&&n!==null&&Hi(n,n.return);break;case 5:if(yn(e,t),Ln(t),r&512&&n!==null&&Hi(n,n.return),t.flags&32){var s=t.stateNode;try{Ua(s,"")}catch(I){Be(t,t.return,I)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,l=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{l==="input"&&i.type==="radio"&&i.name!=null&&Qw(s,i),lf(l,o);var c=lf(l,i);for(o=0;o<u.length;o+=2){var h=u[o],p=u[o+1];h==="style"?t_(s,p):h==="dangerouslySetInnerHTML"?Zw(s,p):h==="children"?Ua(s,p):jm(s,h,p,c)}switch(l){case"input":nf(s,i);break;case"textarea":Yw(s,i);break;case"select":var g=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var E=i.value;E!=null?Ki(s,!!i.multiple,E,!1):g!==!!i.multiple&&(i.defaultValue!=null?Ki(s,!!i.multiple,i.defaultValue,!0):Ki(s,!!i.multiple,i.multiple?[]:"",!1))}s[Ya]=i}catch(I){Be(t,t.return,I)}}break;case 6:if(yn(e,t),Ln(t),r&4){if(t.stateNode===null)throw Error(U(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(I){Be(t,t.return,I)}}break;case 3:if(yn(e,t),Ln(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ga(e.containerInfo)}catch(I){Be(t,t.return,I)}break;case 4:yn(e,t),Ln(t);break;case 13:yn(e,t),Ln(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(gp=He())),r&4&&e0(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(St=(c=St)||h,yn(e,t),St=c):yn(e,t),Ln(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(q=t,h=t.child;h!==null;){for(p=q=h;q!==null;){switch(g=q,E=g.child,g.tag){case 0:case 11:case 14:case 15:Aa(4,g,g.return);break;case 1:Hi(g,g.return);var k=g.stateNode;if(typeof k.componentWillUnmount=="function"){r=g,n=g.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(I){Be(r,n,I)}}break;case 5:Hi(g,g.return);break;case 22:if(g.memoizedState!==null){n0(p);continue}}E!==null?(E.return=g,q=E):n0(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{s=p.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(l=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=e_("display",o))}catch(I){Be(t,t.return,I)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(I){Be(t,t.return,I)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:yn(e,t),Ln(t),r&4&&e0(t);break;case 21:break;default:yn(e,t),Ln(t)}}function Ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ix(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Ua(s,""),r.flags&=-33);var i=Zy(t);Vf(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,l=Zy(t);jf(t,l,o);break;default:throw Error(U(161))}}catch(u){Be(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function zI(t,e,n){q=t,Rx(t)}function Rx(t,e,n){for(var r=(t.mode&1)!==0;q!==null;){var s=q,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||mu;if(!o){var l=s.alternate,u=l!==null&&l.memoizedState!==null||St;l=mu;var c=St;if(mu=o,(St=u)&&!c)for(q=s;q!==null;)o=q,u=o.child,o.tag===22&&o.memoizedState!==null?r0(s):u!==null?(u.return=o,q=u):r0(s);for(;i!==null;)q=i,Rx(i),i=i.sibling;q=s,mu=l,St=c}t0(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,q=i):t0(t)}}function t0(t){for(;q!==null;){var e=q;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:St||id(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!St)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:vn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Fy(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Fy(e,o,n)}break;case 5:var l=e.stateNode;if(n===null&&e.flags&4){n=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&Ga(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}St||e.flags&512&&Lf(e)}catch(g){Be(e,e.return,g)}}if(e===t){q=null;break}if(n=e.sibling,n!==null){n.return=e.return,q=n;break}q=e.return}}function n0(t){for(;q!==null;){var e=q;if(e===t){q=null;break}var n=e.sibling;if(n!==null){n.return=e.return,q=n;break}q=e.return}}function r0(t){for(;q!==null;){var e=q;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{id(4,e)}catch(u){Be(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(u){Be(e,s,u)}}var i=e.return;try{Lf(e)}catch(u){Be(e,i,u)}break;case 5:var o=e.return;try{Lf(e)}catch(u){Be(e,o,u)}}}catch(u){Be(e,e.return,u)}if(e===t){q=null;break}var l=e.sibling;if(l!==null){l.return=e.return,q=l;break}q=e.return}}var HI=Math.ceil,_c=Ir.ReactCurrentDispatcher,mp=Ir.ReactCurrentOwner,an=Ir.ReactCurrentBatchConfig,ge=0,ot=null,Je=null,ft=0,Jt=0,Wi=Ts(0),Ze=0,rl=null,ti=0,od=0,pp=0,Na=null,Ft=null,gp=0,fo=1/0,ar=null,xc=!1,Ff=null,as=null,pu=!1,Zr=null,Ec=0,Da=0,Bf=null,Lu=-1,ju=0;function Nt(){return ge&6?He():Lu!==-1?Lu:Lu=He()}function ls(t){return t.mode&1?ge&2&&ft!==0?ft&-ft:CI.transition!==null?(ju===0&&(ju=f_()),ju):(t=Ee,t!==0||(t=window.event,t=t===void 0?16:__(t.type)),t):1}function Sn(t,e,n,r){if(50<Da)throw Da=0,Bf=null,Error(U(185));vl(t,n,r),(!(ge&2)||t!==ot)&&(t===ot&&(!(ge&2)&&(od|=n),Ze===4&&qr(t,ft)),Ht(t,r),n===1&&ge===0&&!(e.mode&1)&&(fo=He()+500,nd&&ks()))}function Ht(t,e){var n=t.callbackNode;Ck(t,e);var r=ic(t,t===ot?ft:0);if(r===0)n!==null&&hy(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&hy(n),e===1)t.tag===0?II(s0.bind(null,t)):F_(s0.bind(null,t)),EI(function(){!(ge&6)&&ks()}),n=null;else{switch(m_(r)){case 1:n=Um;break;case 4:n=d_;break;case 16:n=sc;break;case 536870912:n=h_;break;default:n=sc}n=jx(n,Px.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Px(t,e){if(Lu=-1,ju=0,ge&6)throw Error(U(327));var n=t.callbackNode;if(Zi()&&t.callbackNode!==n)return null;var r=ic(t,t===ot?ft:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Sc(t,r);else{e=r;var s=ge;ge|=2;var i=Nx();(ot!==t||ft!==e)&&(ar=null,fo=He()+500,Hs(t,e));do try{qI();break}catch(l){Ax(t,l)}while(!0);tp(),_c.current=i,ge=s,Je!==null?e=0:(ot=null,ft=0,e=Ze)}if(e!==0){if(e===2&&(s=ff(t),s!==0&&(r=s,e=$f(t,s))),e===1)throw n=rl,Hs(t,0),qr(t,r),Ht(t,He()),n;if(e===6)qr(t,r);else{if(s=t.current.alternate,!(r&30)&&!WI(s)&&(e=Sc(t,r),e===2&&(i=ff(t),i!==0&&(r=i,e=$f(t,i))),e===1))throw n=rl,Hs(t,0),qr(t,r),Ht(t,He()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(U(345));case 2:Ms(t,Ft,ar);break;case 3:if(qr(t,r),(r&130023424)===r&&(e=gp+500-He(),10<e)){if(ic(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Nt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=xf(Ms.bind(null,t,Ft,ar),e);break}Ms(t,Ft,ar);break;case 4:if(qr(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-En(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=He()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*HI(r/1960))-r,10<r){t.timeoutHandle=xf(Ms.bind(null,t,Ft,ar),r);break}Ms(t,Ft,ar);break;case 5:Ms(t,Ft,ar);break;default:throw Error(U(329))}}}return Ht(t,He()),t.callbackNode===n?Px.bind(null,t):null}function $f(t,e){var n=Na;return t.current.memoizedState.isDehydrated&&(Hs(t,e).flags|=256),t=Sc(t,e),t!==2&&(e=Ft,Ft=n,e!==null&&Uf(e)),t}function Uf(t){Ft===null?Ft=t:Ft.push.apply(Ft,t)}function WI(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!kn(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qr(t,e){for(e&=~pp,e&=~od,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-En(e),r=1<<n;t[n]=-1,e&=~r}}function s0(t){if(ge&6)throw Error(U(327));Zi();var e=ic(t,0);if(!(e&1))return Ht(t,He()),null;var n=Sc(t,e);if(t.tag!==0&&n===2){var r=ff(t);r!==0&&(e=r,n=$f(t,r))}if(n===1)throw n=rl,Hs(t,0),qr(t,e),Ht(t,He()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ms(t,Ft,ar),Ht(t,He()),null}function yp(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(fo=He()+500,nd&&ks())}}function ni(t){Zr!==null&&Zr.tag===0&&!(ge&6)&&Zi();var e=ge;ge|=1;var n=an.transition,r=Ee;try{if(an.transition=null,Ee=1,t)return t()}finally{Ee=r,an.transition=n,ge=e,!(ge&6)&&ks()}}function vp(){Jt=Wi.current,Pe(Wi)}function Hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,xI(n)),Je!==null)for(n=Je.return;n!==null;){var r=n;switch(Xm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cc();break;case 3:co(),Pe(Ut),Pe(kt),ap();break;case 5:op(r);break;case 4:co();break;case 13:Pe(De);break;case 19:Pe(De);break;case 10:np(r.type._context);break;case 22:case 23:vp()}n=n.return}if(ot=t,Je=t=us(t.current,null),ft=Jt=e,Ze=0,rl=null,pp=od=ti=0,Ft=Na=null,Fs!==null){for(e=0;e<Fs.length;e++)if(n=Fs[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Fs=null}return t}function Ax(t,e){do{var n=Je;try{if(tp(),Du.current=wc,vc){for(var r=Oe.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}vc=!1}if(ei=0,rt=Ye=Oe=null,Pa=!1,el=0,mp.current=null,n===null||n.return===null){Ze=1,rl=e,Je=null;break}e:{var i=t,o=n.return,l=n,u=e;if(e=ft,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,h=l,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var g=h.alternate;g?(h.updateQueue=g.updateQueue,h.memoizedState=g.memoizedState,h.lanes=g.lanes):(h.updateQueue=null,h.memoizedState=null)}var E=Wy(o);if(E!==null){E.flags&=-257,Gy(E,o,l,i,e),E.mode&1&&Hy(i,c,e),e=E,u=c;var k=e.updateQueue;if(k===null){var I=new Set;I.add(u),e.updateQueue=I}else k.add(u);break e}else{if(!(e&1)){Hy(i,c,e),wp();break e}u=Error(U(426))}}else if(Ae&&l.mode&1){var R=Wy(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Gy(R,o,l,i,e),Zm(ho(u,l));break e}}i=u=ho(u,l),Ze!==4&&(Ze=2),Na===null?Na=[i]:Na.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var x=mx(i,u,e);Vy(i,x);break e;case 1:l=u;var y=i.type,_=i.stateNode;if(!(i.flags&128)&&(typeof y.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(as===null||!as.has(_)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=px(i,l,e);Vy(i,A);break e}}i=i.return}while(i!==null)}Ox(n)}catch(O){e=O,Je===n&&n!==null&&(Je=n=n.return);continue}break}while(!0)}function Nx(){var t=_c.current;return _c.current=wc,t===null?wc:t}function wp(){(Ze===0||Ze===3||Ze===2)&&(Ze=4),ot===null||!(ti&268435455)&&!(od&268435455)||qr(ot,ft)}function Sc(t,e){var n=ge;ge|=2;var r=Nx();(ot!==t||ft!==e)&&(ar=null,Hs(t,e));do try{GI();break}catch(s){Ax(t,s)}while(!0);if(tp(),ge=n,_c.current=r,Je!==null)throw Error(U(261));return ot=null,ft=0,Ze}function GI(){for(;Je!==null;)Dx(Je)}function qI(){for(;Je!==null&&!vk();)Dx(Je)}function Dx(t){var e=Lx(t.alternate,t,Jt);t.memoizedProps=t.pendingProps,e===null?Ox(t):Je=e,mp.current=null}function Ox(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=BI(n,e),n!==null){n.flags&=32767,Je=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ze=6,Je=null;return}}else if(n=FI(n,e,Jt),n!==null){Je=n;return}if(e=e.sibling,e!==null){Je=e;return}Je=e=t}while(e!==null);Ze===0&&(Ze=5)}function Ms(t,e,n){var r=Ee,s=an.transition;try{an.transition=null,Ee=1,KI(t,e,n,r)}finally{an.transition=s,Ee=r}return null}function KI(t,e,n,r){do Zi();while(Zr!==null);if(ge&6)throw Error(U(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bk(t,i),t===ot&&(Je=ot=null,ft=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||pu||(pu=!0,jx(sc,function(){return Zi(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=an.transition,an.transition=null;var o=Ee;Ee=1;var l=ge;ge|=4,mp.current=null,UI(t,n),bx(n,t),mI(wf),oc=!!vf,wf=vf=null,t.current=n,zI(n),wk(),ge=l,Ee=o,an.transition=i}else t.current=n;if(pu&&(pu=!1,Zr=t,Ec=s),i=t.pendingLanes,i===0&&(as=null),Ek(n.stateNode),Ht(t,He()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(xc)throw xc=!1,t=Ff,Ff=null,t;return Ec&1&&t.tag!==0&&Zi(),i=t.pendingLanes,i&1?t===Bf?Da++:(Da=0,Bf=t):Da=0,ks(),null}function Zi(){if(Zr!==null){var t=m_(Ec),e=an.transition,n=Ee;try{if(an.transition=null,Ee=16>t?16:t,Zr===null)var r=!1;else{if(t=Zr,Zr=null,Ec=0,ge&6)throw Error(U(331));var s=ge;for(ge|=4,q=t.current;q!==null;){var i=q,o=i.child;if(q.flags&16){var l=i.deletions;if(l!==null){for(var u=0;u<l.length;u++){var c=l[u];for(q=c;q!==null;){var h=q;switch(h.tag){case 0:case 11:case 15:Aa(8,h,i)}var p=h.child;if(p!==null)p.return=h,q=p;else for(;q!==null;){h=q;var g=h.sibling,E=h.return;if(kx(h),h===c){q=null;break}if(g!==null){g.return=E,q=g;break}q=E}}}var k=i.alternate;if(k!==null){var I=k.child;if(I!==null){k.child=null;do{var R=I.sibling;I.sibling=null,I=R}while(I!==null)}}q=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,q=o;else e:for(;q!==null;){if(i=q,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Aa(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,q=x;break e}q=i.return}}var y=t.current;for(q=y;q!==null;){o=q;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,q=_;else e:for(o=y;q!==null;){if(l=q,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:id(9,l)}}catch(O){Be(l,l.return,O)}if(l===o){q=null;break e}var A=l.sibling;if(A!==null){A.return=l.return,q=A;break e}q=l.return}}if(ge=s,ks(),Hn&&typeof Hn.onPostCommitFiberRoot=="function")try{Hn.onPostCommitFiberRoot(Yc,t)}catch{}r=!0}return r}finally{Ee=n,an.transition=e}}return!1}function i0(t,e,n){e=ho(n,e),e=mx(t,e,1),t=os(t,e,1),e=Nt(),t!==null&&(vl(t,1,e),Ht(t,e))}function Be(t,e,n){if(t.tag===3)i0(t,t,n);else for(;e!==null;){if(e.tag===3){i0(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(as===null||!as.has(r))){t=ho(n,t),t=px(e,t,1),e=os(e,t,1),t=Nt(),e!==null&&(vl(e,1,t),Ht(e,t));break}}e=e.return}}function JI(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Nt(),t.pingedLanes|=t.suspendedLanes&n,ot===t&&(ft&n)===n&&(Ze===4||Ze===3&&(ft&130023424)===ft&&500>He()-gp?Hs(t,0):pp|=n),Ht(t,e)}function Mx(t,e){e===0&&(t.mode&1?(e=iu,iu<<=1,!(iu&130023424)&&(iu=4194304)):e=1);var n=Nt();t=wr(t,e),t!==null&&(vl(t,e,n),Ht(t,n))}function QI(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Mx(t,n)}function YI(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(U(314))}r!==null&&r.delete(e),Mx(t,n)}var Lx;Lx=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ut.current)Bt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Bt=!1,VI(t,e,n);Bt=!!(t.flags&131072)}else Bt=!1,Ae&&e.flags&1048576&&B_(e,fc,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Mu(t,e),t=e.pendingProps;var s=ao(e,kt.current);Xi(e,n),s=up(null,e,r,t,s,n);var i=cp();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,zt(r)?(i=!0,dc(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,sp(e),s.updater=sd,e.stateNode=s,s._reactInternals=e,bf(e,r,t,n),e=Af(null,e,r,!0,i,n)):(e.tag=0,Ae&&i&&Ym(e),Pt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Mu(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=ZI(r),t=vn(r,t),s){case 0:e=Pf(null,e,r,t,n);break e;case 1:e=Jy(null,e,r,t,n);break e;case 11:e=qy(null,e,r,t,n);break e;case 14:e=Ky(null,e,r,vn(r.type,t),n);break e}throw Error(U(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Pf(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Jy(t,e,r,s,n);case 3:e:{if(wx(e),t===null)throw Error(U(387));r=e.pendingProps,i=e.memoizedState,s=i.element,G_(t,e),gc(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=ho(Error(U(423)),e),e=Qy(t,e,r,n,s);break e}else if(r!==s){s=ho(Error(U(424)),e),e=Qy(t,e,r,n,s);break e}else for(Qt=is(e.stateNode.containerInfo.firstChild),Yt=e,Ae=!0,_n=null,n=H_(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===s){e=_r(t,e,n);break e}Pt(t,e,r,n)}e=e.child}return e;case 5:return q_(e),t===null&&kf(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_f(r,s)?o=null:i!==null&&_f(r,i)&&(e.flags|=32),vx(t,e),Pt(t,e,o,n),e.child;case 6:return t===null&&kf(e),null;case 13:return _x(t,e,n);case 4:return ip(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=uo(e,null,r,n):Pt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),qy(t,e,r,s,n);case 7:return Pt(t,e,e.pendingProps,n),e.child;case 8:return Pt(t,e,e.pendingProps.children,n),e.child;case 12:return Pt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,Ie(mc,r._currentValue),r._currentValue=o,i!==null)if(kn(i.value,o)){if(i.children===s.children&&!Ut.current){e=_r(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var l=i.dependencies;if(l!==null){o=i.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(i.tag===1){u=mr(-1,n&-n),u.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?u.next=u:(u.next=h.next,h.next=u),c.pending=u}}i.lanes|=n,u=i.alternate,u!==null&&(u.lanes|=n),If(i.return,n,e),l.lanes|=n;break}u=u.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(U(341));o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),If(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Pt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Xi(e,n),s=un(s),r=r(s),e.flags|=1,Pt(t,e,r,n),e.child;case 14:return r=e.type,s=vn(r,e.pendingProps),s=vn(r.type,s),Ky(t,e,r,s,n);case 15:return gx(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:vn(r,s),Mu(t,e),e.tag=1,zt(r)?(t=!0,dc(e)):t=!1,Xi(e,n),fx(e,r,s),bf(e,r,s,n),Af(null,e,r,!0,t,n);case 19:return xx(t,e,n);case 22:return yx(t,e,n)}throw Error(U(156,e.tag))};function jx(t,e){return c_(t,e)}function XI(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(t,e,n,r){return new XI(t,e,n,r)}function _p(t){return t=t.prototype,!(!t||!t.isReactComponent)}function ZI(t){if(typeof t=="function")return _p(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Fm)return 11;if(t===Bm)return 14}return 2}function us(t,e){var n=t.alternate;return n===null?(n=on(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Vu(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")_p(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Mi:return Ws(n.children,s,i,e);case Vm:o=8,s|=8;break;case Yh:return t=on(12,n,e,s|2),t.elementType=Yh,t.lanes=i,t;case Xh:return t=on(13,n,e,s),t.elementType=Xh,t.lanes=i,t;case Zh:return t=on(19,n,e,s),t.elementType=Zh,t.lanes=i,t;case qw:return ad(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ww:o=10;break e;case Gw:o=9;break e;case Fm:o=11;break e;case Bm:o=14;break e;case Hr:o=16,r=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=on(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function Ws(t,e,n,r){return t=on(7,t,r,e),t.lanes=n,t}function ad(t,e,n,r){return t=on(22,t,r,e),t.elementType=qw,t.lanes=n,t.stateNode={isHidden:!1},t}function wh(t,e,n){return t=on(6,t,null,e),t.lanes=n,t}function _h(t,e,n){return e=on(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function eC(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function xp(t,e,n,r,s,i,o,l,u){return t=new eC(t,e,n,l,u),e===1?(e=1,i===!0&&(e|=8)):e=0,i=on(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sp(i),t}function tC(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Oi,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Vx(t){if(!t)return ms;t=t._reactInternals;e:{if(li(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(zt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(zt(n))return V_(t,n,e)}return e}function Fx(t,e,n,r,s,i,o,l,u){return t=xp(n,r,!0,t,s,i,o,l,u),t.context=Vx(null),n=t.current,r=Nt(),s=ls(n),i=mr(r,s),i.callback=e??null,os(n,i,s),t.current.lanes=s,vl(t,s,r),Ht(t,r),t}function ld(t,e,n,r){var s=e.current,i=Nt(),o=ls(s);return n=Vx(n),e.context===null?e.context=n:e.pendingContext=n,e=mr(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=os(s,e,o),t!==null&&(Sn(t,s,o,i),Nu(t,s,o)),o}function Tc(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function o0(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ep(t,e){o0(t,e),(t=t.alternate)&&o0(t,e)}function nC(){return null}var Bx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Sp(t){this._internalRoot=t}ud.prototype.render=Sp.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));ld(t,e,null,null)};ud.prototype.unmount=Sp.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ni(function(){ld(null,t,null,null)}),e[vr]=null}};function ud(t){this._internalRoot=t}ud.prototype.unstable_scheduleHydration=function(t){if(t){var e=y_();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Gr.length&&e!==0&&e<Gr[n].priority;n++);Gr.splice(n,0,t),n===0&&w_(t)}};function Tp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function a0(){}function rC(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=Tc(o);i.call(c)}}var o=Fx(e,r,t,0,null,!1,!1,"",a0);return t._reactRootContainer=o,t[vr]=o.current,Ja(t.nodeType===8?t.parentNode:t),ni(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var l=r;r=function(){var c=Tc(u);l.call(c)}}var u=xp(t,0,!1,null,null,!1,!1,"",a0);return t._reactRootContainer=u,t[vr]=u.current,Ja(t.nodeType===8?t.parentNode:t),ni(function(){ld(e,u,n,r)}),u}function dd(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var l=s;s=function(){var u=Tc(o);l.call(u)}}ld(e,o,t,s)}else o=rC(n,e,t,s,r);return Tc(o)}p_=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=wa(e.pendingLanes);n!==0&&(zm(e,n|1),Ht(e,He()),!(ge&6)&&(fo=He()+500,ks()))}break;case 13:ni(function(){var r=wr(t,1);if(r!==null){var s=Nt();Sn(r,t,1,s)}}),Ep(t,1)}};Hm=function(t){if(t.tag===13){var e=wr(t,134217728);if(e!==null){var n=Nt();Sn(e,t,134217728,n)}Ep(t,134217728)}};g_=function(t){if(t.tag===13){var e=ls(t),n=wr(t,e);if(n!==null){var r=Nt();Sn(n,t,e,r)}Ep(t,e)}};y_=function(){return Ee};v_=function(t,e){var n=Ee;try{return Ee=t,e()}finally{Ee=n}};cf=function(t,e,n){switch(e){case"input":if(nf(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=td(r);if(!s)throw Error(U(90));Jw(r),nf(r,s)}}}break;case"textarea":Yw(t,n);break;case"select":e=n.value,e!=null&&Ki(t,!!n.multiple,e,!1)}};s_=yp;i_=ni;var sC={usingClientEntryPoint:!1,Events:[_l,Fi,td,n_,r_,yp]},fa={findFiberByHostInstance:Vs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},iC={bundleType:fa.bundleType,version:fa.version,rendererPackageName:fa.rendererPackageName,rendererConfig:fa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ir.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=l_(t),t===null?null:t.stateNode},findFiberByHostInstance:fa.findFiberByHostInstance||nC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var gu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!gu.isDisabled&&gu.supportsFiber)try{Yc=gu.inject(iC),Hn=gu}catch{}}en.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;en.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tp(e))throw Error(U(200));return tC(t,e,null,n)};en.createRoot=function(t,e){if(!Tp(t))throw Error(U(299));var n=!1,r="",s=Bx;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=xp(t,1,!1,null,null,n,!1,r,s),t[vr]=e.current,Ja(t.nodeType===8?t.parentNode:t),new Sp(e)};en.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=l_(e),t=t===null?null:t.stateNode,t};en.flushSync=function(t){return ni(t)};en.hydrate=function(t,e,n){if(!cd(e))throw Error(U(200));return dd(null,t,e,!0,n)};en.hydrateRoot=function(t,e,n){if(!Tp(t))throw Error(U(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Bx;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Fx(e,null,t,1,n??null,s,!1,i,o),t[vr]=e.current,Ja(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new ud(e)};en.render=function(t,e,n){if(!cd(e))throw Error(U(200));return dd(null,t,e,!1,n)};en.unmountComponentAtNode=function(t){if(!cd(t))throw Error(U(40));return t._reactRootContainer?(ni(function(){dd(null,null,t,!1,function(){t._reactRootContainer=null,t[vr]=null})}),!0):!1};en.unstable_batchedUpdates=yp;en.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return dd(t,e,n,!1,r)};en.version="18.3.1-next-f1338f8080-20240426";function $x(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE($x)}catch(t){console.error(t)}}$x(),$w.exports=en;var oC=$w.exports,l0=oC;Jh.createRoot=l0.createRoot,Jh.hydrateRoot=l0.hydrateRoot;var kp={};Object.defineProperty(kp,"__esModule",{value:!0});kp.parse=fC;kp.serialize=mC;const aC=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,lC=/^[\u0021-\u003A\u003C-\u007E]*$/,uC=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,cC=/^[\u0020-\u003A\u003D-\u007E]*$/,dC=Object.prototype.toString,hC=(()=>{const t=function(){};return t.prototype=Object.create(null),t})();function fC(t,e){const n=new hC,r=t.length;if(r<2)return n;const s=(e==null?void 0:e.decode)||pC;let i=0;do{const o=t.indexOf("=",i);if(o===-1)break;const l=t.indexOf(";",i),u=l===-1?r:l;if(o>u){i=t.lastIndexOf(";",o-1)+1;continue}const c=u0(t,i,o),h=c0(t,o,c),p=t.slice(c,h);if(n[p]===void 0){let g=u0(t,o+1,u),E=c0(t,u,g);const k=s(t.slice(g,E));n[p]=k}i=u+1}while(i<r);return n}function u0(t,e,n){do{const r=t.charCodeAt(e);if(r!==32&&r!==9)return e}while(++e<n);return n}function c0(t,e,n){for(;e>n;){const r=t.charCodeAt(--e);if(r!==32&&r!==9)return e+1}return n}function mC(t,e,n){const r=(n==null?void 0:n.encode)||encodeURIComponent;if(!aC.test(t))throw new TypeError(`argument name is invalid: ${t}`);const s=r(e);if(!lC.test(s))throw new TypeError(`argument val is invalid: ${e}`);let i=t+"="+s;if(!n)return i;if(n.maxAge!==void 0){if(!Number.isInteger(n.maxAge))throw new TypeError(`option maxAge is invalid: ${n.maxAge}`);i+="; Max-Age="+n.maxAge}if(n.domain){if(!uC.test(n.domain))throw new TypeError(`option domain is invalid: ${n.domain}`);i+="; Domain="+n.domain}if(n.path){if(!cC.test(n.path))throw new TypeError(`option path is invalid: ${n.path}`);i+="; Path="+n.path}if(n.expires){if(!gC(n.expires)||!Number.isFinite(n.expires.valueOf()))throw new TypeError(`option expires is invalid: ${n.expires}`);i+="; Expires="+n.expires.toUTCString()}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.partitioned&&(i+="; Partitioned"),n.priority)switch(typeof n.priority=="string"?n.priority.toLowerCase():void 0){case"low":i+="; Priority=Low";break;case"medium":i+="; Priority=Medium";break;case"high":i+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${n.priority}`)}if(n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:case"strict":i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"none":i+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${n.sameSite}`)}return i}function pC(t){if(t.indexOf("%")===-1)return t;try{return decodeURIComponent(t)}catch{return t}}function gC(t){return dC.call(t)==="[object Date]"}/**
 * react-router v7.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var d0="popstate";function yC(t={}){function e(r,s){let{pathname:i,search:o,hash:l}=r.location;return zf("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:sl(s)}return wC(e,n,null,t)}function Ne(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function In(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function vC(){return Math.random().toString(36).substring(2,10)}function h0(t,e){return{usr:t.state,key:t.key,idx:e}}function zf(t,e,n=null,r){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Ao(e):e,state:n,key:e&&e.key||r||vC()}}function sl({pathname:t="/",search:e="",hash:n=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(t+=n.charAt(0)==="#"?n:"#"+n),t}function Ao(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substring(n),t=t.substring(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substring(r),t=t.substring(0,r)),t&&(e.pathname=t)}return e}function wC(t,e,n,r={}){let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,l="POP",u=null,c=h();c==null&&(c=0,o.replaceState({...o.state,idx:c},""));function h(){return(o.state||{idx:null}).idx}function p(){l="POP";let R=h(),x=R==null?null:R-c;c=R,u&&u({action:l,location:I.location,delta:x})}function g(R,x){l="PUSH";let y=zf(I.location,R,x);c=h()+1;let _=h0(y,c),A=I.createHref(y);try{o.pushState(_,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&u&&u({action:l,location:I.location,delta:1})}function E(R,x){l="REPLACE";let y=zf(I.location,R,x);c=h();let _=h0(y,c),A=I.createHref(y);o.replaceState(_,"",A),i&&u&&u({action:l,location:I.location,delta:0})}function k(R){let x=s.location.origin!=="null"?s.location.origin:s.location.href,y=typeof R=="string"?R:sl(R);return y=y.replace(/ $/,"%20"),Ne(x,`No window.location.(origin|href) available to create URL for href: ${y}`),new URL(y,x)}let I={get action(){return l},get location(){return t(s,o)},listen(R){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(d0,p),u=R,()=>{s.removeEventListener(d0,p),u=null}},createHref(R){return e(s,R)},createURL:k,encodeLocation(R){let x=k(R);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:g,replace:E,go(R){return o.go(R)}};return I}function Ux(t,e,n="/"){return _C(t,e,n,!1)}function _C(t,e,n,r){let s=typeof e=="string"?Ao(e):e,i=xr(s.pathname||"/",n);if(i==null)return null;let o=zx(t);xC(o);let l=null;for(let u=0;l==null&&u<o.length;++u){let c=NC(i);l=PC(o[u],c,r)}return l}function zx(t,e=[],n=[],r=""){let s=(i,o,l)=>{let u={relativePath:l===void 0?i.path||"":l,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};u.relativePath.startsWith("/")&&(Ne(u.relativePath.startsWith(r),`Absolute route path "${u.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),u.relativePath=u.relativePath.slice(r.length));let c=pr([r,u.relativePath]),h=n.concat(u);i.children&&i.children.length>0&&(Ne(i.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${c}".`),zx(i.children,e,h,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:bC(c,i.index),routesMeta:h})};return t.forEach((i,o)=>{var l;if(i.path===""||!((l=i.path)!=null&&l.includes("?")))s(i,o);else for(let u of Hx(i.path))s(i,o,u)}),e}function Hx(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Hx(r.join("/")),l=[];return l.push(...o.map(u=>u===""?i:[i,u].join("/"))),s&&l.push(...o),l.map(u=>t.startsWith("/")&&u===""?"/":u)}function xC(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:RC(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}var EC=/^:[\w-]+$/,SC=3,TC=2,kC=1,IC=10,CC=-2,f0=t=>t==="*";function bC(t,e){let n=t.split("/"),r=n.length;return n.some(f0)&&(r+=CC),e&&(r+=TC),n.filter(s=>!f0(s)).reduce((s,i)=>s+(EC.test(i)?SC:i===""?kC:IC),r)}function RC(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function PC(t,e,n=!1){let{routesMeta:r}=t,s={},i="/",o=[];for(let l=0;l<r.length;++l){let u=r[l],c=l===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",p=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},h),g=u.route;if(!p&&c&&n&&!r[r.length-1].route.index&&(p=kc({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},h)),!p)return null;Object.assign(s,p.params),o.push({params:s,pathname:pr([i,p.pathname]),pathnameBase:LC(pr([i,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(i=pr([i,p.pathnameBase]))}return o}function kc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=AC(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:r.reduce((c,{paramName:h,isOptional:p},g)=>{if(h==="*"){let k=l[g]||"";o=i.slice(0,i.length-k.length).replace(/(.)\/+$/,"$1")}const E=l[g];return p&&!E?c[h]=void 0:c[h]=(E||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function AC(t,e=!1,n=!0){In(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,u)=>(r.push({paramName:l,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function NC(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return In(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function xr(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function DC(t,e="/"){let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Ao(t):t;return{pathname:n?n.startsWith("/")?n:OC(n,e):e,search:jC(r),hash:VC(s)}}function OC(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function xh(t,e,n,r){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function MC(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ip(t){let e=MC(t);return e.map((n,r)=>r===e.length-1?n.pathname:n.pathnameBase)}function Cp(t,e,n,r=!1){let s;typeof t=="string"?s=Ao(t):(s={...t},Ne(!s.pathname||!s.pathname.includes("?"),xh("?","pathname","search",s)),Ne(!s.pathname||!s.pathname.includes("#"),xh("#","pathname","hash",s)),Ne(!s.search||!s.search.includes("#"),xh("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=n;else{let p=e.length-1;if(!r&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),p-=1;s.pathname=g.join("/")}l=p>=0?e[p]:"/"}let u=DC(s,l),c=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||h)&&(u.pathname+="/"),u}var pr=t=>t.join("/").replace(/\/\/+/g,"/"),LC=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jC=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,VC=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function FC(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Wx=["POST","PUT","PATCH","DELETE"];new Set(Wx);var BC=["GET",...Wx];new Set(BC);var No=P.createContext(null);No.displayName="DataRouter";var hd=P.createContext(null);hd.displayName="DataRouterState";var Gx=P.createContext({isTransitioning:!1});Gx.displayName="ViewTransition";var $C=P.createContext(new Map);$C.displayName="Fetchers";var UC=P.createContext(null);UC.displayName="Await";var bn=P.createContext(null);bn.displayName="Navigation";var El=P.createContext(null);El.displayName="Location";var Rn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Rn.displayName="Route";var bp=P.createContext(null);bp.displayName="RouteError";function zC(t,{relative:e}={}){Ne(Do(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=P.useContext(bn),{hash:s,pathname:i,search:o}=Tl(t,{relative:e}),l=i;return n!=="/"&&(l=i==="/"?n:pr([n,i])),r.createHref({pathname:l,search:o,hash:s})}function Do(){return P.useContext(El)!=null}function Is(){return Ne(Do(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(El).location}var qx="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kx(t){P.useContext(bn).static||P.useLayoutEffect(t)}function Sl(){let{isDataRoute:t}=P.useContext(Rn);return t?sb():HC()}function HC(){Ne(Do(),"useNavigate() may be used only in the context of a <Router> component.");let t=P.useContext(No),{basename:e,navigator:n}=P.useContext(bn),{matches:r}=P.useContext(Rn),{pathname:s}=Is(),i=JSON.stringify(Ip(r)),o=P.useRef(!1);return Kx(()=>{o.current=!0}),P.useCallback((u,c={})=>{if(In(o.current,qx),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=Cp(u,JSON.parse(i),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:pr([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,i,s,t])}var WC=P.createContext(null);function GC(t){let e=P.useContext(Rn).outlet;return e&&P.createElement(WC.Provider,{value:t},e)}function Tl(t,{relative:e}={}){let{matches:n}=P.useContext(Rn),{pathname:r}=Is(),s=JSON.stringify(Ip(n));return P.useMemo(()=>Cp(t,JSON.parse(s),r,e==="path"),[t,s,r,e])}function qC(t,e){return Jx(t,e)}function Jx(t,e,n,r){var y;Ne(Do(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:i}=P.useContext(bn),{matches:o}=P.useContext(Rn),l=o[o.length-1],u=l?l.params:{},c=l?l.pathname:"/",h=l?l.pathnameBase:"/",p=l&&l.route;{let _=p&&p.path||"";Qx(c,!p||_.endsWith("*")||_.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${c}" (under <Route path="${_}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${_}"> to <Route path="${_==="/"?"*":`${_}/*`}">.`)}let g=Is(),E;if(e){let _=typeof e=="string"?Ao(e):e;Ne(h==="/"||((y=_.pathname)==null?void 0:y.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${_.pathname}" was given in the \`location\` prop.`),E=_}else E=g;let k=E.pathname||"/",I=k;if(h!=="/"){let _=h.replace(/^\//,"").split("/");I="/"+k.replace(/^\//,"").split("/").slice(_.length).join("/")}let R=!i&&n&&n.matches&&n.matches.length>0?n.matches:Ux(t,{pathname:I});In(p||R!=null,`No routes matched location "${E.pathname}${E.search}${E.hash}" `),In(R==null||R[R.length-1].route.element!==void 0||R[R.length-1].route.Component!==void 0||R[R.length-1].route.lazy!==void 0,`Matched leaf route at location "${E.pathname}${E.search}${E.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let x=XC(R&&R.map(_=>Object.assign({},_,{params:Object.assign({},u,_.params),pathname:pr([h,s.encodeLocation?s.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?h:pr([h,s.encodeLocation?s.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),o,n,r);return e&&x?P.createElement(El.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...E},navigationType:"POP"}},x):x}function KC(){let t=rb(),e=FC(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},i={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=P.createElement(P.Fragment,null,P.createElement("p",null,"💿 Hey developer 👋"),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:i},"ErrorBoundary")," or"," ",P.createElement("code",{style:i},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},e),n?P.createElement("pre",{style:s},n):null,o)}var JC=P.createElement(KC,null),QC=class extends P.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){console.error("React Router caught the following error during render",t,e)}render(){return this.state.error!==void 0?P.createElement(Rn.Provider,{value:this.props.routeContext},P.createElement(bp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function YC({routeContext:t,match:e,children:n}){let r=P.useContext(No);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),P.createElement(Rn.Provider,{value:t},n)}function XC(t,e=[],n=null,r=null){if(t==null){if(!n)return null;if(n.errors)t=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,i=n==null?void 0:n.errors;if(i!=null){let u=s.findIndex(c=>c.route.id&&(i==null?void 0:i[c.route.id])!==void 0);Ne(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(i).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let o=!1,l=-1;if(n)for(let u=0;u<s.length;u++){let c=s[u];if((c.route.HydrateFallback||c.route.hydrateFallbackElement)&&(l=u),c.route.id){let{loaderData:h,errors:p}=n,g=c.route.loader&&!h.hasOwnProperty(c.route.id)&&(!p||p[c.route.id]===void 0);if(c.route.lazy||g){o=!0,l>=0?s=s.slice(0,l+1):s=[s[0]];break}}}return s.reduceRight((u,c,h)=>{let p,g=!1,E=null,k=null;n&&(p=i&&c.route.id?i[c.route.id]:void 0,E=c.route.errorElement||JC,o&&(l<0&&h===0?(Qx("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,k=null):l===h&&(g=!0,k=c.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,h+1)),R=()=>{let x;return p?x=E:g?x=k:c.route.Component?x=P.createElement(c.route.Component,null):c.route.element?x=c.route.element:x=u,P.createElement(YC,{match:c,routeContext:{outlet:u,matches:I,isDataRoute:n!=null},children:x})};return n&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?P.createElement(QC,{location:n.location,revalidation:n.revalidation,component:E,error:p,children:R(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):R()},null)}function Rp(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function ZC(t){let e=P.useContext(No);return Ne(e,Rp(t)),e}function eb(t){let e=P.useContext(hd);return Ne(e,Rp(t)),e}function tb(t){let e=P.useContext(Rn);return Ne(e,Rp(t)),e}function Pp(t){let e=tb(t),n=e.matches[e.matches.length-1];return Ne(n.route.id,`${t} can only be used on routes that contain a unique "id"`),n.route.id}function nb(){return Pp("useRouteId")}function rb(){var r;let t=P.useContext(bp),e=eb("useRouteError"),n=Pp("useRouteError");return t!==void 0?t:(r=e.errors)==null?void 0:r[n]}function sb(){let{router:t}=ZC("useNavigate"),e=Pp("useNavigate"),n=P.useRef(!1);return Kx(()=>{n.current=!0}),P.useCallback(async(s,i={})=>{In(n.current,qx),n.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var m0={};function Qx(t,e,n){!e&&!m0[t]&&(m0[t]=!0,In(!1,n))}P.memo(ib);function ib({routes:t,future:e,state:n}){return Jx(t,void 0,n,e)}function ob({to:t,replace:e,state:n,relative:r}){Ne(Do(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=P.useContext(bn);In(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=P.useContext(Rn),{pathname:o}=Is(),l=Sl(),u=Cp(t,Ip(i),o,r==="path"),c=JSON.stringify(u);return P.useEffect(()=>{l(JSON.parse(c),{replace:e,state:n,relative:r})},[l,c,r,e,n]),null}function ab(t){return GC(t.context)}function Ur(t){Ne(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function lb({basename:t="/",children:e=null,location:n,navigationType:r="POP",navigator:s,static:i=!1}){Ne(!Do(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=P.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof n=="string"&&(n=Ao(n));let{pathname:u="/",search:c="",hash:h="",state:p=null,key:g="default"}=n,E=P.useMemo(()=>{let k=xr(u,o);return k==null?null:{location:{pathname:k,search:c,hash:h,state:p,key:g},navigationType:r}},[o,u,c,h,p,g,r]);return In(E!=null,`<Router basename="${o}"> is not able to match the URL "${u}${c}${h}" because it does not start with the basename, so the <Router> won't render anything.`),E==null?null:P.createElement(bn.Provider,{value:l},P.createElement(El.Provider,{children:e,value:E}))}function ub({children:t,location:e}){return qC(Hf(t),e)}function Hf(t,e=[]){let n=[];return P.Children.forEach(t,(r,s)=>{if(!P.isValidElement(r))return;let i=[...e,s];if(r.type===P.Fragment){n.push.apply(n,Hf(r.props.children,i));return}Ne(r.type===Ur,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Ne(!r.props.index||!r.props.children,"An index route cannot have child routes.");let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Hf(r.props.children,i)),n.push(o)}),n}var Fu="get",Bu="application/x-www-form-urlencoded";function fd(t){return t!=null&&typeof t.tagName=="string"}function cb(t){return fd(t)&&t.tagName.toLowerCase()==="button"}function db(t){return fd(t)&&t.tagName.toLowerCase()==="form"}function hb(t){return fd(t)&&t.tagName.toLowerCase()==="input"}function fb(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mb(t,e){return t.button===0&&(!e||e==="_self")&&!fb(t)}var yu=null;function pb(){if(yu===null)try{new FormData(document.createElement("form"),0),yu=!1}catch{yu=!0}return yu}var gb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Eh(t){return t!=null&&!gb.has(t)?(In(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Bu}"`),null):t}function yb(t,e){let n,r,s,i,o;if(db(t)){let l=t.getAttribute("action");r=l?xr(l,e):null,n=t.getAttribute("method")||Fu,s=Eh(t.getAttribute("enctype"))||Bu,i=new FormData(t)}else if(cb(t)||hb(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||l.getAttribute("action");if(r=u?xr(u,e):null,n=t.getAttribute("formmethod")||l.getAttribute("method")||Fu,s=Eh(t.getAttribute("formenctype"))||Eh(l.getAttribute("enctype"))||Bu,i=new FormData(l,t),!pb()){let{name:c,type:h,value:p}=t;if(h==="image"){let g=c?`${c}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else c&&i.append(c,p)}}else{if(fd(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Fu,r=null,s=Bu,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:i,body:o}}function Ap(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}async function vb(t,e){if(t.id in e)return e[t.id];try{let n=await import(t.module);return e[t.id]=n,n}catch(n){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wb(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _b(t,e,n){let r=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await vb(i,n);return o.links?o.links():[]}return[]}));return Tb(r.flat(1).filter(wb).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function p0(t,e,n,r,s,i){let o=(u,c)=>n[c]?u.route.id!==n[c].route.id:!0,l=(u,c)=>{var h;return n[c].pathname!==u.pathname||((h=n[c].route.path)==null?void 0:h.endsWith("*"))&&n[c].params["*"]!==u.params["*"]};return i==="assets"?e.filter((u,c)=>o(u,c)||l(u,c)):i==="data"?e.filter((u,c)=>{var p;let h=r.routes[u.route.id];if(!h||!h.hasLoader)return!1;if(o(u,c)||l(u,c))return!0;if(u.route.shouldRevalidate){let g=u.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((p=n[0])==null?void 0:p.params)||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function xb(t,e,{includeHydrateFallback:n}={}){return Eb(t.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),n&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Eb(t){return[...new Set(t)]}function Sb(t){let e={},n=Object.keys(t).sort();for(let r of n)e[r]=t[r];return e}function Tb(t,e){let n=new Set;return new Set(e),t.reduce((r,s)=>{let i=JSON.stringify(Sb(s));return n.has(i)||(n.add(i),r.push({key:i,link:s})),r},[])}function kb(t,e){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname="_root.data":e&&xr(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function Yx(){let t=P.useContext(No);return Ap(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Ib(){let t=P.useContext(hd);return Ap(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Np=P.createContext(void 0);Np.displayName="FrameworkContext";function Xx(){let t=P.useContext(Np);return Ap(t,"You must render this element inside a <HydratedRouter> element"),t}function Cb(t,e){let n=P.useContext(Np),[r,s]=P.useState(!1),[i,o]=P.useState(!1),{onFocus:l,onBlur:u,onMouseEnter:c,onMouseLeave:h,onTouchStart:p}=e,g=P.useRef(null);P.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let I=x=>{x.forEach(y=>{o(y.isIntersecting)})},R=new IntersectionObserver(I,{threshold:.5});return g.current&&R.observe(g.current),()=>{R.disconnect()}}},[t]),P.useEffect(()=>{if(r){let I=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(I)}}},[r]);let E=()=>{s(!0)},k=()=>{s(!1),o(!1)};return n?t!=="intent"?[i,g,{}]:[i,g,{onFocus:ma(l,E),onBlur:ma(u,k),onMouseEnter:ma(c,E),onMouseLeave:ma(h,k),onTouchStart:ma(p,E)}]:[!1,g,{}]}function ma(t,e){return n=>{t&&t(n),n.defaultPrevented||e(n)}}function bb({page:t,...e}){let{router:n}=Yx(),r=P.useMemo(()=>Ux(n.routes,t,n.basename),[n.routes,t,n.basename]);return r?P.createElement(Pb,{page:t,matches:r,...e}):null}function Rb(t){let{manifest:e,routeModules:n}=Xx(),[r,s]=P.useState([]);return P.useEffect(()=>{let i=!1;return _b(t,e,n).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,n]),r}function Pb({page:t,matches:e,...n}){let r=Is(),{manifest:s,routeModules:i}=Xx(),{basename:o}=Yx(),{loaderData:l,matches:u}=Ib(),c=P.useMemo(()=>p0(t,e,u,s,r,"data"),[t,e,u,s,r]),h=P.useMemo(()=>p0(t,e,u,s,r,"assets"),[t,e,u,s,r]),p=P.useMemo(()=>{if(t===r.pathname+r.search+r.hash)return[];let k=new Set,I=!1;if(e.forEach(x=>{var _;let y=s.routes[x.route.id];!y||!y.hasLoader||(!c.some(A=>A.route.id===x.route.id)&&x.route.id in l&&((_=i[x.route.id])!=null&&_.shouldRevalidate)||y.hasClientLoader?I=!0:k.add(x.route.id))}),k.size===0)return[];let R=kb(t,o);return I&&k.size>0&&R.searchParams.set("_routes",e.filter(x=>k.has(x.route.id)).map(x=>x.route.id).join(",")),[R.pathname+R.search]},[o,l,r,s,c,e,t,i]),g=P.useMemo(()=>xb(h,s),[h,s]),E=Rb(h);return P.createElement(P.Fragment,null,p.map(k=>P.createElement("link",{key:k,rel:"prefetch",as:"fetch",href:k,...n})),g.map(k=>P.createElement("link",{key:k,rel:"modulepreload",href:k,...n})),E.map(({key:k,link:I})=>P.createElement("link",{key:k,...I})))}function Ab(...t){return e=>{t.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var Zx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Zx&&(window.__reactRouterVersion="7.4.1")}catch{}function Nb({basename:t,children:e,window:n}){let r=P.useRef();r.current==null&&(r.current=yC({window:n,v5Compat:!0}));let s=r.current,[i,o]=P.useState({action:s.action,location:s.location}),l=P.useCallback(u=>{P.startTransition(()=>o(u))},[o]);return P.useLayoutEffect(()=>s.listen(l),[s,l]),P.createElement(lb,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var eE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,md=P.forwardRef(function({onClick:e,discover:n="render",prefetch:r="none",relative:s,reloadDocument:i,replace:o,state:l,target:u,to:c,preventScrollReset:h,viewTransition:p,...g},E){let{basename:k}=P.useContext(bn),I=typeof c=="string"&&eE.test(c),R,x=!1;if(typeof c=="string"&&I&&(R=c,Zx))try{let T=new URL(window.location.href),C=c.startsWith("//")?new URL(T.protocol+c):new URL(c),N=xr(C.pathname,k);C.origin===T.origin&&N!=null?c=N+C.search+C.hash:x=!0}catch{In(!1,`<Link to="${c}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let y=zC(c,{relative:s}),[_,A,O]=Cb(r,g),M=Lb(c,{replace:o,state:l,target:u,preventScrollReset:h,relative:s,viewTransition:p});function S(T){e&&e(T),T.defaultPrevented||M(T)}let v=P.createElement("a",{...g,...O,href:R||y,onClick:x||i?e:S,ref:Ab(E,A),target:u,"data-discover":!I&&n==="render"?"true":void 0});return _&&!I?P.createElement(P.Fragment,null,v,P.createElement(bb,{page:y})):v});md.displayName="Link";var Db=P.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:r="",end:s=!1,style:i,to:o,viewTransition:l,children:u,...c},h){let p=Tl(o,{relative:c.relative}),g=Is(),E=P.useContext(hd),{navigator:k,basename:I}=P.useContext(bn),R=E!=null&&$b(p)&&l===!0,x=k.encodeLocation?k.encodeLocation(p).pathname:p.pathname,y=g.pathname,_=E&&E.navigation&&E.navigation.location?E.navigation.location.pathname:null;n||(y=y.toLowerCase(),_=_?_.toLowerCase():null,x=x.toLowerCase()),_&&I&&(_=xr(_,I)||_);const A=x!=="/"&&x.endsWith("/")?x.length-1:x.length;let O=y===x||!s&&y.startsWith(x)&&y.charAt(A)==="/",M=_!=null&&(_===x||!s&&_.startsWith(x)&&_.charAt(x.length)==="/"),S={isActive:O,isPending:M,isTransitioning:R},v=O?e:void 0,T;typeof r=="function"?T=r(S):T=[r,O?"active":null,M?"pending":null,R?"transitioning":null].filter(Boolean).join(" ");let C=typeof i=="function"?i(S):i;return P.createElement(md,{...c,"aria-current":v,className:T,ref:h,style:C,to:o,viewTransition:l},typeof u=="function"?u(S):u)});Db.displayName="NavLink";var Ob=P.forwardRef(({discover:t="render",fetcherKey:e,navigate:n,reloadDocument:r,replace:s,state:i,method:o=Fu,action:l,onSubmit:u,relative:c,preventScrollReset:h,viewTransition:p,...g},E)=>{let k=Fb(),I=Bb(l,{relative:c}),R=o.toLowerCase()==="get"?"get":"post",x=typeof l=="string"&&eE.test(l),y=_=>{if(u&&u(_),_.defaultPrevented)return;_.preventDefault();let A=_.nativeEvent.submitter,O=(A==null?void 0:A.getAttribute("formmethod"))||o;k(A||_.currentTarget,{fetcherKey:e,method:O,navigate:n,replace:s,state:i,relative:c,preventScrollReset:h,viewTransition:p})};return P.createElement("form",{ref:E,method:R,action:I,onSubmit:r?u:y,...g,"data-discover":!x&&t==="render"?"true":void 0})});Ob.displayName="Form";function Mb(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tE(t){let e=P.useContext(No);return Ne(e,Mb(t)),e}function Lb(t,{target:e,replace:n,state:r,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=Sl(),u=Is(),c=Tl(t,{relative:i});return P.useCallback(h=>{if(mb(h,e)){h.preventDefault();let p=n!==void 0?n:sl(u)===sl(c);l(t,{replace:p,state:r,preventScrollReset:s,relative:i,viewTransition:o})}},[u,l,c,n,r,e,t,s,i,o])}var jb=0,Vb=()=>`__${String(++jb)}__`;function Fb(){let{router:t}=tE("useSubmit"),{basename:e}=P.useContext(bn),n=nb();return P.useCallback(async(r,s={})=>{let{action:i,method:o,encType:l,formData:u,body:c}=yb(r,e);if(s.navigate===!1){let h=s.fetcherKey||Vb();await t.fetch(h,n,s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:u,body:c,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:n,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,n])}function Bb(t,{relative:e}={}){let{basename:n}=P.useContext(bn),r=P.useContext(Rn);Ne(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),i={...Tl(t||".",{relative:e})},o=Is();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),u=l.getAll("index");if(u.some(h=>h==="")){l.delete("index"),u.filter(p=>p).forEach(p=>l.append("index",p));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(i.pathname=i.pathname==="/"?n:pr([n,i.pathname])),sl(i)}function $b(t,e={}){let n=P.useContext(Gx);Ne(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=tE("useViewTransitionState"),s=Tl(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=xr(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=xr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return kc(s.pathname,o)!=null||kc(s.pathname,i)!=null}new TextEncoder;const Ub={},g0=t=>{let e;const n=new Set,r=(h,p)=>{const g=typeof h=="function"?h(e):h;if(!Object.is(g,e)){const E=e;e=p??(typeof g!="object"||g===null)?g:Object.assign({},e,g),n.forEach(k=>k(e,E))}},s=()=>e,u={setState:r,getState:s,getInitialState:()=>c,subscribe:h=>(n.add(h),()=>n.delete(h)),destroy:()=>{(Ub?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,s,u);return u},zb=t=>t?g0(t):g0;var nE={exports:{}},rE={},sE={exports:{}},iE={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mo=P;function Hb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wb=typeof Object.is=="function"?Object.is:Hb,Gb=mo.useState,qb=mo.useEffect,Kb=mo.useLayoutEffect,Jb=mo.useDebugValue;function Qb(t,e){var n=e(),r=Gb({inst:{value:n,getSnapshot:e}}),s=r[0].inst,i=r[1];return Kb(function(){s.value=n,s.getSnapshot=e,Sh(s)&&i({inst:s})},[t,n,e]),qb(function(){return Sh(s)&&i({inst:s}),t(function(){Sh(s)&&i({inst:s})})},[t]),Jb(n),n}function Sh(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wb(t,n)}catch{return!0}}function Yb(t,e){return e()}var Xb=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Yb:Qb;iE.useSyncExternalStore=mo.useSyncExternalStore!==void 0?mo.useSyncExternalStore:Xb;sE.exports=iE;var Zb=sE.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pd=P,eR=Zb;function tR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var nR=typeof Object.is=="function"?Object.is:tR,rR=eR.useSyncExternalStore,sR=pd.useRef,iR=pd.useEffect,oR=pd.useMemo,aR=pd.useDebugValue;rE.useSyncExternalStoreWithSelector=function(t,e,n,r,s){var i=sR(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=oR(function(){function u(E){if(!c){if(c=!0,h=E,E=r(E),s!==void 0&&o.hasValue){var k=o.value;if(s(k,E))return p=k}return p=E}if(k=p,nR(h,E))return k;var I=r(E);return s!==void 0&&s(k,I)?(h=E,k):(h=E,p=I)}var c=!1,h,p,g=n===void 0?null:n;return[function(){return u(e())},g===null?void 0:function(){return u(g())}]},[e,n,r,s]);var l=rR(t,i[0],i[1]);return iR(function(){o.hasValue=!0,o.value=l},[l]),aR(l),l};nE.exports=rE;var lR=nE.exports;const uR=Jc(lR),oE={},{useDebugValue:cR}=Ys,{useSyncExternalStoreWithSelector:dR}=uR;let y0=!1;const hR=t=>t;function fR(t,e=hR,n){(oE?"production":void 0)!=="production"&&n&&!y0&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),y0=!0);const r=dR(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return cR(r),r}const v0=t=>{(oE?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?zb(t):t,n=(r,s)=>fR(e,r,s);return Object.assign(n,e),n},aE=t=>t?v0(t):v0,lE={TB12:"Tom Brady","The GOAT":"Tom Brady","The Sheriff":"Peyton Manning","Big Ben":"Ben Roethlisberger","A-Rod":"Aaron Rodgers","Joe Cool":"Joe Montana","Captain America":"Roger Staubach","Matty Ice":"Matt Ryan",Dak:"Dak Prescott",Tua:"Tua Tagovailoa","The Snake":"Ken Stabler","The Mad Bomber":"Daryle Lamonica","The Punky QB":"Jim McMahon","Air McNair":"Steve McNair",Fitzmagic:"Ryan Fitzpatrick"},Ri=t=>{const e=t.toLowerCase().replace(/'/g,""),n=Object.entries(lE).find(([i])=>i.toLowerCase()===e);if(n)return n[1];if(ke[t])return t;const r=Object.keys(ke).filter(i=>i.toLowerCase().replace(/'/g,"")===e);if(r.length===1)return r[0];const s=Object.keys(ke).filter(i=>{const o=i.toLowerCase().replace(/'/g,"");return o.includes(e)||e.includes(o)});return s.length===1?s[0]:null},ke={"Tom Brady":{name:"Tom Brady",wins:251,teams:["Patriots","Buccaneers"]},"Peyton Manning":{name:"Peyton Manning",wins:186,teams:["Colts","Broncos"]},"Brett Favre":{name:"Brett Favre",wins:186,teams:["Packers","Jets","Vikings"]},"Drew Brees":{name:"Drew Brees",wins:172,teams:["Chargers","Saints"]},"Ben Roethlisberger":{name:"Ben Roethlisberger",wins:165,teams:["Steelers"]},"John Elway":{name:"John Elway",wins:148,teams:["Broncos"]},"Dan Marino":{name:"Dan Marino",wins:147,teams:["Dolphins"]},"Aaron Rodgers":{name:"Aaron Rodgers",wins:153,teams:["Packers","Jets"]},"Philip Rivers":{name:"Philip Rivers",wins:134,teams:["Chargers","Colts"]},"Fran Tarkenton":{name:"Fran Tarkenton",wins:124,teams:["Vikings","Giants"]},"Johnny Unitas":{name:"Johnny Unitas",wins:118,teams:["Colts","Chargers"]},"Eli Manning":{name:"Eli Manning",wins:117,teams:["Giants"]},"Joe Montana":{name:"Joe Montana",wins:117,teams:["49ers","Chiefs"]},"Terry Bradshaw":{name:"Terry Bradshaw",wins:107,teams:["Steelers"]},"Warren Moon":{name:"Warren Moon",wins:102,teams:["Seahawks","Oilers","Vikings","Chiefs"]},"Jim Kelly":{name:"Jim Kelly",wins:101,teams:["Bills"]},"Russell Wilson":{name:"Russell Wilson",wins:113,teams:["Seahawks","Broncos"]},"Steve Young":{name:"Steve Young",wins:94,teams:["49ers"]},"Troy Aikman":{name:"Troy Aikman",wins:94,teams:["Cowboys"]},"Roger Staubach":{name:"Roger Staubach",wins:85,teams:["Cowboys"]},"Patrick Mahomes":{name:"Patrick Mahomes",wins:89,teams:["Chiefs"]},"Matt Ryan":{name:"Matt Ryan",wins:124,teams:["Falcons","Colts"]},"Drew Bledsoe":{name:"Drew Bledsoe",wins:98,teams:["Patriots","Bills","Cowboys"]},"Donovan McNabb":{name:"Donovan McNabb",wins:98,teams:["Eagles","Commanders","Vikings"]},"Carson Palmer":{name:"Carson Palmer",wins:92,teams:["Bengals","Raiders","Cardinals"]},"Tony Romo":{name:"Tony Romo",wins:78,teams:["Cowboys"]},"Matthew Stafford":{name:"Matthew Stafford",wins:108,teams:["Lions","Rams"]},"Kirk Cousins":{name:"Kirk Cousins",wins:78,teams:["Commanders","Vikings"]},"Derek Carr":{name:"Derek Carr",wins:77,teams:["Saints","Raiders"]},"Dak Prescott":{name:"Dak Prescott",wins:76,teams:["Cowboys"]},"Lamar Jackson":{name:"Lamar Jackson",wins:70,teams:["Ravens"]},"Josh Allen":{name:"Josh Allen",wins:76,teams:["Bills"]},"Joe Burrow":{name:"Joe Burrow",wins:38,teams:["Bengals"]},"Justin Herbert":{name:"Justin Herbert",wins:41,teams:["Chargers"]},"Tua Tagovailoa":{name:"Tua Tagovailoa",wins:40,teams:["Dolphins"]},"Trevor Lawrence":{name:"Trevor Lawrence",wins:22,teams:["Jaguars"]},"Mark Brunell":{name:"Mark Brunell",wins:69,teams:["Jaguars","Commanders","Saints","Jets"]},"David Garrard":{name:"David Garrard",wins:39,teams:["Jaguars","Jets"]},"Blake Bortles":{name:"Blake Bortles",wins:24,teams:["Jaguars","Rams","Broncos","Packers","Saints"]},"Nick Foles":{name:"Nick Foles",wins:29,teams:["Jaguars","Eagles","Rams","Chiefs","Bears","Colts"]},"Gardner Minshew":{name:"Gardner Minshew",wins:7,teams:["Jaguars","Eagles","Colts"]},"Byron Leftwich":{name:"Byron Leftwich",wins:24,teams:["Steelers","Jaguars","Falcons","Buccaneers"]},"Chad Henne":{name:"Chad Henne",wins:18,teams:["Jaguars","Dolphins","Chiefs"]},"C.J. Beathard":{name:"C.J. Beathard",wins:2,teams:["Jaguars","49ers"]},"Mike Glennon":{name:"Mike Glennon",wins:6,teams:["Jaguars","Buccaneers","Bears","Cardinals","Giants","Dolphins"]},"Jake Luton":{name:"Jake Luton",wins:0,teams:["Seahawks","Jaguars","Dolphins","Vikings"]},"Josh Johnson":{name:"Josh Johnson",wins:1,teams:["Jaguars","Buccaneers","49ers","Browns","Bengals","Jets","Commanders","Ravens","Broncos","Texans","Raiders","Cowboys"]},"Nathan Rourke":{name:"Nathan Rourke",wins:0,teams:["Jaguars"]},"Ken Stabler":{name:"Ken Stabler",wins:96,teams:["Raiders","Oilers","Saints"]},"Bob Griese":{name:"Bob Griese",wins:92,teams:["Dolphins"]},"Len Dawson":{name:"Len Dawson",wins:94,teams:["Steelers","Browns","Chiefs"]},"Bart Starr":{name:"Bart Starr",wins:94,teams:["Packers"]},"Sonny Jurgensen":{name:"Sonny Jurgensen",wins:69,teams:["Eagles","Commanders"]},"Otto Graham":{name:"Otto Graham",wins:105,teams:["Browns"]},"Sid Luckman":{name:"Sid Luckman",wins:94,teams:["Bears"]},"Sammy Baugh":{name:"Sammy Baugh",wins:77,teams:["Commanders"]},"Bobby Layne":{name:"Bobby Layne",wins:66,teams:["Bears","Bulldogs","Lions","Steelers"]},"Y.A. Tittle":{name:"Y.A. Tittle",wins:78,teams:["Colts","49ers","Giants"]},"Norm Van Brocklin":{name:"Norm Van Brocklin",wins:66,teams:["Rams","Eagles","Vikings"]},"George Blanda":{name:"George Blanda",wins:83,teams:["Bears","Colts","Oilers","Raiders"]},"John Brodie":{name:"John Brodie",wins:74,teams:["49ers"]},"Roman Gabriel":{name:"Roman Gabriel",wins:86,teams:["Rams","Eagles"]},"Daryle Lamonica":{name:"Daryle Lamonica",wins:66,teams:["Bills","Raiders"]},"Billy Kilmer":{name:"Billy Kilmer",wins:69,teams:["49ers","Saints","Commanders"]},"Ken Anderson":{name:"Ken Anderson",wins:91,teams:["Bengals"]},"Jim Hart":{name:"Jim Hart",wins:87,teams:["Cardinals","Commanders"]},"Archie Manning":{name:"Archie Manning",wins:35,teams:["Saints","Oilers","Vikings"]},"Dan Fouts":{name:"Dan Fouts",wins:86,teams:["Chargers"]},"Jim Plunkett":{name:"Jim Plunkett",wins:72,teams:["Patriots","49ers","Raiders"]},"Bert Jones":{name:"Bert Jones",wins:46,teams:["Colts","Rams"]},"Brian Sipe":{name:"Brian Sipe",wins:57,teams:["Browns"]},"Joe Flacco":{name:"Joe Flacco",wins:98,teams:["Ravens","Broncos","Jets","Browns","Colts"]},"Steve Grogan":{name:"Steve Grogan",wins:75,teams:["Patriots"]},"Phil Simms":{name:"Phil Simms",wins:95,teams:["Giants"]},"Jim McMahon":{name:"Jim McMahon",wins:67,teams:["Bears","Chargers","Eagles","Vikings","Cardinals","Packers"]},"Boomer Esiason":{name:"Boomer Esiason",wins:80,teams:["Bengals","Jets","Cardinals"]},"Mark Rypien":{name:"Mark Rypien",wins:45,teams:["Commanders","Browns","Rams","Eagles","Colts"]},"Steve McNair":{name:"Steve McNair",wins:91,teams:["Titans","Oilers","Ravens"]},"Kurt Warner":{name:"Kurt Warner",wins:67,teams:["Rams","Giants","Cardinals"]},"Rich Gannon":{name:"Rich Gannon",wins:76,teams:["Vikings","Commanders","Chiefs","Raiders"]},"Jeff Garcia":{name:"Jeff Garcia",wins:58,teams:["49ers","Browns","Lions","Eagles","Buccaneers"]},"Trent Green":{name:"Trent Green",wins:56,teams:["Chiefs","Commanders","Rams","Dolphins"]},"Jake Plummer":{name:"Jake Plummer",wins:69,teams:["Cardinals","Broncos"]},"Marc Bulger":{name:"Marc Bulger",wins:42,teams:["Rams"]},"Michael Vick":{name:"Michael Vick",wins:61,teams:["Steelers","Falcons","Eagles","Jets"]},"Matt Hasselbeck":{name:"Matt Hasselbeck",wins:85,teams:["Titans","Seahawks","Packers","Colts"]},"Andrew Luck":{name:"Andrew Luck",wins:53,teams:["Colts"]},"Vinny Testaverde":{name:"Vinny Testaverde",wins:90,teams:["Buccaneers","Browns","Ravens","Jets","Cowboys","Patriots","Panthers"]},"Deshaun Watson":{name:"Deshaun Watson",wins:28,teams:["Texans","Browns"]},"Matt Schaub":{name:"Matt Schaub",wins:46,teams:["Texans","Falcons","Raiders","Ravens"]},"David Carr":{name:"David Carr",wins:23,teams:["Texans","Panthers","Giants","49ers"]},"Case Keenum":{name:"Case Keenum",wins:29,teams:["Texans","Vikings","Broncos","Commanders","Browns","Bills","Rams"]},"Ryan Fitzpatrick":{name:"Ryan Fitzpatrick",wins:59,teams:["Titans","Bills","Texans","Jets","Buccaneers","Dolphins","Commanders"]},"Brian Hoyer":{name:"Brian Hoyer",wins:16,teams:["Texans","Patriots","Cardinals","Browns","Bears","49ers","Colts","Raiders"]},"T.J. Yates":{name:"T.J. Yates",wins:4,teams:["Texans","Falcons","Dolphins"]},"Brandon Weeden":{name:"Brandon Weeden",wins:5,teams:["Texans","Browns","Cowboys","Titans"]},"Ryan Mallett":{name:"Ryan Mallett",wins:3,teams:["Texans","Ravens"]},"Tom Savage":{name:"Tom Savage",wins:2,teams:["Texans","49ers"]},"Davis Mills":{name:"Davis Mills",wins:5,teams:["Texans"]},"Tyrod Taylor":{name:"Tyrod Taylor",wins:24,teams:["Texans","Bills","Browns","Chargers","Giants"]},"Jeff Driskel":{name:"Jeff Driskel",wins:1,teams:["Texans","Bengals","Lions","Broncos","49ers"]},"Kyle Allen":{name:"Kyle Allen",wins:2,teams:["Texans","Panthers","Commanders","Bills"]},"Scott Hunter":{name:"Scott Hunter",wins:6,teams:["Packers","Bills","Falcons","Lions","Bengals"]},"Jordan Love":{name:"Jordan Love",wins:21,teams:["Packers"]},"Don Horn":{name:"Don Horn",wins:4,teams:["Packers","Broncos","Chargers","Browns"]},"Zeke Bratkowski":{name:"Zeke Bratkowski",wins:12,teams:["Packers","Bears","Rams"]},"John Hadl":{name:"John Hadl",wins:82,teams:["Packers","Chargers","Rams","Oilers"]},"David Whitehurst":{name:"David Whitehurst",wins:17,teams:["Packers","Chiefs"]},"Lynn Dickey":{name:"Lynn Dickey",wins:25,teams:["Packers","Oilers","Chiefs"]},"Randy Wright":{name:"Randy Wright",wins:4,teams:["Packers"]},"Anthony Dilweg":{name:"Anthony Dilweg",wins:2,teams:["Packers"]},"Mike Tomczak":{name:"Mike Tomczak",wins:42,teams:["Steelers","Bears","Packers","Browns","Commanders"]},"Blair Kiel":{name:"Blair Kiel",wins:0,teams:["Packers","Colts","Buccaneers"]},"Don Majkowski":{name:"Don Majkowski",wins:27,teams:["Packers","Colts","Lions"]},"Ty Detmer":{name:"Ty Detmer",wins:4,teams:["Packers","Eagles","49ers","Browns","Lions","Falcons"]},"Doug Pederson":{name:"Doug Pederson",wins:2,teams:["Packers","Eagles","Browns","Dolphins"]},"Matt Flynn":{name:"Matt Flynn",wins:3,teams:["Packers","Seahawks","Raiders","Bills","Jets","Saints"]},"Brett Hundley":{name:"Brett Hundley",wins:3,teams:["Packers","Seahawks","Cardinals","Colts"]},"Tim Boyle":{name:"Tim Boyle",wins:0,teams:["Packers","Lions","Jets"]},"Elvis Grbac":{name:"Elvis Grbac",wins:31,teams:["Chiefs","49ers","Ravens"]},"Damon Huard":{name:"Damon Huard",wins:14,teams:["Chiefs","Dolphins","Patriots","49ers"]},"Brodie Croyle":{name:"Brodie Croyle",wins:0,teams:["Chiefs"]},"Kerry Collins":{name:"Kerry Collins",wins:81,teams:["Titans","Panthers","Giants","Raiders","Colts"]},"Jake Locker":{name:"Jake Locker",wins:9,teams:["Titans"]},"Marcus Mariota":{name:"Marcus Mariota",wins:29,teams:["Titans","Raiders","Falcons","Eagles"]},"Matt Cassel":{name:"Matt Cassel",wins:33,teams:["Titans","Patriots","Chiefs","Vikings","Bills","Cowboys","Lions"]},"Blaine Gabbert":{name:"Blaine Gabbert",wins:13,teams:["Titans","Jaguars","49ers","Cardinals","Chiefs","Buccaneers"]},"Rusty Smith":{name:"Rusty Smith",wins:0,teams:["Titans"]},"Alex Hasselbeck":{name:"Alex Hasselbeck",wins:0,teams:["Titans"]},"Jay Cutler":{name:"Jay Cutler",wins:74,teams:["Broncos","Bears","Dolphins"]},"Joe Theismann":{name:"Joe Theismann",wins:77,teams:["Commanders"]},"Cam Newton":{name:"Cam Newton",wins:75,teams:["Panthers","Patriots","Panthers"]},"Alex Smith":{name:"Alex Smith",wins:99,teams:["49ers","Chiefs","Commanders"]},"Dave Krieg":{name:"Dave Krieg",wins:98,teams:["Seahawks","Chiefs","Lions","Cardinals","Titans","Bears"]},"Andy Dalton":{name:"Andy Dalton",wins:84,teams:["Bengals","Cowboys","Bears","Bills","Panthers"]},"Randall Cunningham":{name:"Randall Cunningham",wins:82,teams:["Eagles","Vikings","Cowboys","Ravens"]},"Jared Goff":{name:"Jared Goff",wins:81,teams:["Rams","Lions"]},"Craig Morton":{name:"Craig Morton",wins:81,teams:["Cowboys","Giants","Broncos","Raiders"]},"Ryan Tannehill":{name:"Ryan Tannehill",wins:81,teams:["Dolphins","Titans"]},"Joe Ferguson":{name:"Joe Ferguson",wins:79,teams:["Bills","Lions","Buccaneers"]},"Ron Jaworski":{name:"Ron Jaworski",wins:73,teams:["Eagles","Dolphins","Chiefs"]},"Brad Johnson":{name:"Brad Johnson",wins:72,teams:["Vikings","Buccaneers","Cowboys"]},"Chris Chandler":{name:"Chris Chandler",wins:67,teams:["Colts","Buccaneers","Oilers","Falcons","Bears","Rams","Titans"]},"Jim Harbaugh":{name:"Jim Harbaugh",wins:66,teams:["Bears","Colts","Ravens","Chargers","Lions","Panthers"]},"Charlie Conerly":{name:"Charlie Conerly",wins:65,teams:["Giants"]},"Jack Kemp":{name:"Jack Kemp",wins:64,teams:["Bills","Chargers","Lions"]},"Jim Everett":{name:"Jim Everett",wins:63,teams:["Rams","Saints","Chargers"]},"Earl Morrall":{name:"Earl Morrall",wins:63,teams:["49ers","Steelers","Lions","Colts","Dolphins","Ravens"]},"Jake Delhomme":{name:"Jake Delhomme",wins:56,teams:["Panthers","Browns","Texans"]},"Bobby Hebert":{name:"Bobby Hebert",wins:56,teams:["Saints","Falcons"]},"Dan Pastorini":{name:"Dan Pastorini",wins:56,teams:["Oilers","Raiders","Rams","Eagles"]},"Milt Plum":{name:"Milt Plum",wins:56,teams:["Browns","Lions","Giants","Colts"]},"Neil O'Donnell":{name:"Neil O'Donnell",wins:55,teams:["Steelers","Jets","Titans","Bengals"]},"Joe Namath":{name:"Joe Namath",wins:62,teams:["Jets","Rams"],ties:4},"Danny White":{name:"Danny White",wins:53,teams:["Cowboys"]},"Jay Schroeder":{name:"Jay Schroeder",wins:51,teams:["Commanders","Raiders","Bengals","Cardinals"]},"Steve Bartkowski":{name:"Steve Bartkowski",wins:50,teams:["Falcons","Rams"]},"Charley Johnson":{name:"Charley Johnson",wins:50,teams:["Cardinals","Oilers","Broncos","Chargers"]},"Trent Dilfer":{name:"Trent Dilfer",wins:50,teams:["Buccaneers","Ravens","Seahawks","Browns","49ers"]},"Frank Ryan":{name:"Frank Ryan",wins:56,teams:["Rams","Browns","Commanders"]},"Tommy Kramer":{name:"Tommy Kramer",wins:54,teams:["Vikings","Saints"]},"C.J. Stroud":{name:"C.J. Stroud",wins:19,teams:["Texans"]},"Baker Mayfield":{name:"Baker Mayfield",wins:50,teams:["Browns","Panthers","Rams","Buccaneers"]},"Brandon Allen":{name:"Brandon Allen",wins:2,teams:["Broncos","Bengals","Titans"]},"Tyson Bagent":{name:"Tyson Bagent",wins:2,teams:["Bears"]},"Stetson Bennett":{name:"Stetson Bennett",wins:0,teams:["Rams"]},"Jacoby Brissett":{name:"Jacoby Brissett",wins:19,teams:["Patriots","Colts","Dolphins","Browns","Commanders","Cardinals"]},"Jake Browning":{name:"Jake Browning",wins:4,teams:["Bengals"]},"Shane Buechele":{name:"Shane Buechele",wins:0,teams:["Chiefs","Bills"]},"Sean Clifford":{name:"Sean Clifford",wins:0,teams:["Packers"]},"Sam Darnold":{name:"Sam Darnold",wins:35,teams:["Jets","Panthers","49ers","Vikings","Seahawks"]},"Tommy DeVito":{name:"Tommy DeVito",wins:3,teams:["Giants"]},"Ben DiNucci":{name:"Ben DiNucci",wins:0,teams:["Cowboys","Broncos","Saints"]},"Joshua Dobbs":{name:"Joshua Dobbs",wins:3,teams:["Steelers","Jaguars","Browns","Titans","Cardinals","Vikings","Patriots"]},"Sam Ehlinger":{name:"Sam Ehlinger",wins:0,teams:["Colts","Broncos"]},"Jayden Daniels":{name:"Jayden Daniels",wins:12,teams:["Commanders"]},"Justin Fields":{name:"Justin Fields",wins:14,teams:["Bears","Jets"]},"Jake Fromm":{name:"Jake Fromm",wins:0,teams:["Bills","Giants","Commanders","Lions"]},"Jimmy Garoppolo":{name:"Jimmy Garoppolo",wins:43,teams:["Patriots","49ers","Raiders","Rams"]},"Will Grier":{name:"Will Grier",wins:0,teams:["Panthers","Cowboys","Patriots"]},"Jake Haener":{name:"Jake Haener",wins:0,teams:["Saints"]},"Jaren Hall":{name:"Jaren Hall",wins:0,teams:["Vikings","Seahawks"]},"Sam Hartman":{name:"Sam Hartman",wins:0,teams:["Commanders"]},"Taylor Heinicke":{name:"Taylor Heinicke",wins:13,teams:["Vikings","Panthers","Commanders","Falcons","Chargers"]},"Hendon Hooker":{name:"Hendon Hooker",wins:0,teams:["Lions"]},"Sam Howell":{name:"Sam Howell",wins:4,teams:["Commanders","Seahawks"]},"Jalen Hurts":{name:"Jalen Hurts",wins:46,teams:["Eagles"]},"Daniel Jones":{name:"Daniel Jones",wins:24,teams:["Giants","Colts"]},"Emory Jones":{name:"Emory Jones",wins:0,teams:["Falcons"]},"Mac Jones":{name:"Mac Jones",wins:20,teams:["Patriots","49ers"]},"Trey Lance":{name:"Trey Lance",wins:2,teams:["49ers","Cowboys","Chargers"]},"Devin Leary":{name:"Devin Leary",wins:0,teams:["Ravens"]},"Will Levis":{name:"Will Levis",wins:5,teams:["Titans"]},"Drew Lock":{name:"Drew Lock",wins:10,teams:["Broncos","Seahawks"]},"Adrian Martinez":{name:"Adrian Martinez",wins:0,teams:["Jets"]},"Drake Maye":{name:"Drake Maye",wins:3,teams:["Patriots"]},"J.J. McCarthy":{name:"J.J. McCarthy",wins:0,teams:["Vikings"]},"Tanner McKee":{name:"Tanner McKee",wins:0,teams:["Eagles"]},"Joe Milton III":{name:"Joe Milton III",wins:0,teams:["Cowboys"]},"Tanner Mordecai":{name:"Tanner Mordecai",wins:0,teams:["49ers"]},"Nick Mullens":{name:"Nick Mullens",wins:5,teams:["49ers","Browns","Vikings","Jaguars"]},"Kyler Murray":{name:"Kyler Murray",wins:36,teams:["Cardinals"]},"Bo Nix":{name:"Bo Nix",wins:10,teams:["Broncos"]},"Aidan O'Connell":{name:"Aidan O'Connell",wins:3,teams:["Raiders"]},"Chris Oladokun":{name:"Chris Oladokun",wins:0,teams:["Steelers","Chiefs"]},"Michael Penix Jr.":{name:"Michael Penix Jr.",wins:0,teams:["Falcons"]},"Kenny Pickett":{name:"Kenny Pickett",wins:15,teams:["Steelers","Browns"]},"Jack Plummer":{name:"Jack Plummer",wins:0,teams:["Panthers"]},"Michael Pratt":{name:"Michael Pratt",wins:0,teams:["Buccaneers"]},"Brock Purdy":{name:"Brock Purdy",wins:23,teams:["49ers"]},"Spencer Rattler":{name:"Spencer Rattler",wins:0,teams:["Saints"]},"Austin Reed":{name:"Austin Reed",wins:0,teams:["Bears"]},"Anthony Richardson":{name:"Anthony Richardson",wins:8,teams:["Colts"]},"Mason Rudolph":{name:"Mason Rudolph",wins:8,teams:["Steelers"]},"Cooper Rush":{name:"Cooper Rush",wins:9,teams:["Cowboys","Ravens"]},"Brett Rypien":{name:"Brett Rypien",wins:2,teams:["Broncos","Rams","Seahawks","Vikings"]},"Kedon Slovis":{name:"Kedon Slovis",wins:0,teams:["Texans"]},"Geno Smith":{name:"Geno Smith",wins:40,teams:["Jets","Giants","Chargers","Seahawks","Raiders"]},"Jarrett Stidham":{name:"Jarrett Stidham",wins:0,teams:["Patriots","Raiders","Broncos"]},"Skylar Thompson":{name:"Skylar Thompson",wins:1,teams:["Dolphins","Steelers"]},"Dorian Thompson-Robinson":{name:"Dorian Thompson-Robinson",wins:1,teams:["Browns","Eagles"]},"Kyle Trask":{name:"Kyle Trask",wins:0,teams:["Buccaneers"]},"Jordan Travis":{name:"Jordan Travis",wins:0,teams:["Jets"]},"Mitchell Trubisky":{name:"Mitchell Trubisky",wins:31,teams:["Bears","Bills","Steelers","Bills"]},"Clayton Tune":{name:"Clayton Tune",wins:0,teams:["Cardinals"]},"Mike White":{name:"Mike White",wins:2,teams:["Jets","Dolphins","Bills"]},"Caleb Williams":{name:"Caleb Williams",wins:5,teams:["Bears"]},"Malik Willis":{name:"Malik Willis",wins:3,teams:["Titans","Packers"]},"Zach Wilson":{name:"Zach Wilson",wins:12,teams:["Jets","Dolphins"]},"Jameis Winston":{name:"Jameis Winston",wins:36,teams:["Buccaneers","Saints","Giants"]},"John Wolford":{name:"John Wolford",wins:1,teams:["Rams","Jaguars"]},"Logan Woodside":{name:"Logan Woodside",wins:0,teams:["Titans","Falcons","Bengals"]},"Bryce Young":{name:"Bryce Young",wins:6,teams:["Panthers"]},"Bailey Zappe":{name:"Bailey Zappe",wins:4,teams:["Patriots","Chiefs"]},"Ken O'Brien":{name:"Ken O'Brien",wins:50,teams:["Jets","Eagles"],ties:1},"Chad Pennington":{name:"Chad Pennington",wins:44,teams:["Jets","Dolphins"],ties:0},"Richard Todd":{name:"Richard Todd",wins:48,teams:["Jets","Saints"],ties:1}},it=t=>{const e=t.split(" ");return e[e.length-1]},mR=(t,e)=>{const n=it(t),r=it(e);if(n===r)return!0;const s={Commanders:"Redskins",Titans:"Oilers"};return s[n]===r||s[r]===n};function jn(t,e){const n=Ri(t);if(!n)return null;const r=ke[n];if(!r)return null;const s=it(e);return r.teams.map(it).some(l=>mR(l,s))?r:null}function vu(t,e){const n=t.toLowerCase().trim(),r=Object.entries(lE).find(([i])=>i.toLowerCase()===n);if(r)return`${e} / '${r[0]}'`;const s=Object.entries(ke).find(([i])=>{var l;return((l=i.split(" ").pop())==null?void 0:l.toLowerCase())===n});return s?s[0]:(n===e.toLowerCase(),e)}function Th(t,e,n){const r=t.toLowerCase().trim();if(!r)return[];const s=it(e);return Object.entries(ke).filter(([i,o])=>n.includes(i)||!o.teams.map(it).includes(s)?!1:i.toLowerCase().includes(r)).map(([i,o])=>({name:i,wins:o.wins})).sort((i,o)=>i.name.localeCompare(o.name))}const Wf=new Map,pR=(()=>{const t=new Map;for(const[n,r]of Object.entries(ke))for(const s of r.teams){const i=it(s);t.has(i)||t.set(i,[]),t.get(i).push({qb:n,wins:r.wins})}const e=new Map;for(const[n,r]of t.entries()){const s=r.sort((i,o)=>o.wins-i.wins).slice(0,3);e.set(n,s.map(i=>i.qb))}return e})();function gR(t){const e=new Set,n=[];let r=0;for(const s of t){const i=it(s);let o=null,l=-1;for(const[u,c]of Object.entries(ke))e.has(u)||!c.teams.map(it).includes(i)||c.wins>l&&(l=c.wins,o=u);o&&(e.add(o),r+=l,n.push({team:s,qb:o,wins:l}))}return{score:r,picks:n}}const Gf=(()=>{const t=new Set,e=["Tom Brady","Drew Brees","Aaron Rodgers","Brett Favre","Joe Montana","Peyton Manning","John Elway","Dan Marino","Steve Young","Fran Tarkenton","Johnny Unitas","Terry Bradshaw","Warren Moon","Jim Kelly","Otto Graham"];for(const[n,r]of Object.entries(ke))r.teams.length>=3&&r.wins>=100&&t.add(n),r.wins>=150&&t.add(n),e.includes(n)&&t.add(n);return t})();let Ic=0,qf=0;function yR(t,e){var s;let n=0;const r=new Map;for(const[i,o]of Object.entries(ke))if(!e.has(i))for(const l of o.teams){const u=it(l);r.has(u)||r.set(u,[]),(s=r.get(u))==null||s.push(o.wins)}for(const i of t){const o=it(i),l=r.get(o)||[];l.length>0&&(n+=Math.max(...l))}return n}function Kf(t,e,n,r,s,i,o=0,l){Ic++;const u=Date.now()-i;if(u>3e4)return console.warn(`[OptimalScore] Timeout hit at depth ${o}, elapsed: ${u}ms, recursionCount: ${Ic}`),s;if(t.length===0)return n>s.score?{score:n,picks:[...r]}:s;if(n+yR(t,e)<=l)return s;const p=`${t.join(",")}-${Array.from(e).sort().join("|")}-${n}`,g=Wf.get(p);if(g&&g.score>=s.score)return qf++,g;const E=t[0],k=it(E),I=t.slice(1),x=(pR.get(k)||[]).filter(y=>ke[y]&&!e.has(y)).sort((y,_)=>{const A=ke[y],O=ke[_];if(!A||!O)return 0;const M=I.filter(v=>A.teams.map(it).includes(it(v))).length,S=I.filter(v=>O.teams.map(it).includes(it(v))).length;return M!==S?S-M:O.wins-A.wins});for(const y of x){if(e.has(y))continue;const _=ke[y];if(!_)continue;if(Gf.has(y)&&_.teams.length>1&&I.length>=3&&I.find(M=>{const S=it(M);return _.teams.map(it).includes(S)})){const M=Kf(I,e,n,r,s,i,o+1,l);M.score>s.score&&(s=M);continue}e.add(y),r.push({team:E,qb:y,wins:_.wins});const A=Kf(I,e,n+_.wins,r,s,i,o+1,l);A.score>s.score&&(s=A),e.delete(y),r.pop()}return Wf.set(p,{...s}),s}function w0(t){try{Ic=0,qf=0;const e=Date.now();console.log(`[OptimalScore] calculateOptimalScore called at ${new Date(e).toISOString()}`),console.log("[OptimalScore] teamSequence:",t),Wf.clear();const n=gR(t),r=3e4,s=10,i=Date.now(),o=Kf(t,new Set,0,[],n,i,0,n.score),l=Date.now()-i;console.log(`[OptimalScore] Calculation finished in ${l}ms, recursionCount: ${Ic}, memoHitCount: ${qf}`),l>r-s&&console.warn("[OptimalScore] Timeout likely hit, falling back to greedy.");const u=new Set,c=new Set,h=new Set;for(const I of o.picks)Gf.has(I.qb)&&u.add(I.qb);for(const I of Gf)u.has(I)||c.add(I);console.log("[OptimalScore] Primed QBs used:",Array.from(u)),console.log("[OptimalScore] Primed QBs skipped:",Array.from(c)),console.log("[OptimalScore] Primed QBs deferred:",Array.from(h));const p=n.score>o.score;console.log("[OptimalScore] Greedy method outperformed optimized:",p),console.log("[OptimalScore] Optimized method took:",l,"ms");const g=o.score===n.score&&l>=r-s,E=o.score<=n.score;let k;return E?g?k="greedy-timeout":k="greedy-matched":k="optimized",console.log("[OptimalScore] Greedy score:",n.score,n.picks),console.log("[OptimalScore] Optimized score:",o.score,o.picks),console.log("[OptimalScore] Returning",E?"greedy":"optimized","result"),E?{maxScore:n.score,optimalPicks:n.picks,usedTimeout:g,usedGreedy:!0,resultType:k}:{maxScore:o.score,optimalPicks:o.picks,usedTimeout:!1,usedGreedy:!1,resultType:k}}catch(e){return console.error("[OptimalScore] Error during calculation:",e),{maxScore:0,optimalPicks:[],usedTimeout:!0,usedGreedy:!0,resultType:"greedy-timeout"}}}function vR(t){return new Promise((e,n)=>{const r=new Worker(new URL("/assets/optimalScoreWorker-Dcl06zRF.js",import.meta.url),{type:"module"});r.onmessage=s=>{e(s.data),r.terminate()},r.onerror=s=>{n(s),r.terminate()},r.postMessage(t)})}const wR=3;let $u=null;function _R(t,e=20){const r=[...t].sort(()=>Math.random()-.5).slice(0,e),s=Math.floor(Math.random()*2)+1;for(let i=0;i<s;i++){const o=Math.floor(Math.random()*(e-s-1)),l=e-1-i;r[l]=r[o]}for(let i=r.length-1;i>0;i--){const o=Math.floor(Math.random()*(i+1));[r[i],r[o]]=[r[o],r[i]]}return r}const xR=(t,e,n)=>((n===0||!$u)&&($u=_R(e)),$u[n]),ER=()=>{$u=null},SR=(t,e)=>{if(!Array.isArray(t))throw new Error("❌ updateRecentTeams received invalid recentTeams argument");return[e,...t].slice(0,wR)},me=aE(t=>({currentTeam:null,picks:[],usedQBs:[],isGameOver:!1,showScore:!1,totalScore:0,currentPickUsedHelp:!1,isEasyMode:!0,isModeLocked:!1,scores:[],optimalScore:0,optimalPicks:[],usedTimeout:!1,gameStartTime:null,gameEndTime:null,gameMode:null,initializeGame:()=>t(e=>(ER(),{currentTeam:null,picks:[],usedQBs:[],isGameOver:!1,showScore:!1,totalScore:0,currentPickUsedHelp:!1,optimalScore:0,optimalPicks:[],usedTimeout:!1,gameStartTime:Date.now(),gameEndTime:null,gameMode:e.gameMode})),setCurrentTeam:e=>t(()=>({currentTeam:e})),addPick:(e,n,r,s=!1)=>t(i=>({picks:[...i.picks,{qb:e,wins:n,displayName:r,team:i.currentTeam||"",usedHelp:s}],usedQBs:[...i.usedQBs,e]})),updateScore:e=>t(n=>({totalScore:n.totalScore+e})),toggleScore:()=>t(e=>({showScore:!e.showScore})),setIsGameOver:e=>t(n=>{if(e){if(n.gameMode==="practice"){const r=n.picks.map(l=>l.team),{maxScore:s,optimalPicks:i,usedTimeout:o}=w0(r);return{isGameOver:e,optimalScore:s,optimalPicks:i,usedTimeout:o,gameEndTime:Date.now()}}if(n.gameMode==="daily"&&n.picks.length>0){const r=new Date,s=r.getFullYear(),i=String(r.getMonth()+1).padStart(2,"0"),o=String(r.getDate()).padStart(2,"0"),l=`dailyChallenge-${s}-${i}-${o}`,u=`dailyChallengeMeta-${s}-${i}-${o}`;let c=n.optimalScore,h=n.optimalPicks;const p=localStorage.getItem(u);if(p)try{const E=JSON.parse(p);typeof E.optimalScore=="number"&&(c=E.optimalScore),Array.isArray(E.optimalPicks)&&(h=E.optimalPicks)}catch{}const g={score:n.totalScore,picks:n.picks,timestamp:Date.now(),optimalScore:c,optimalPicks:h};console.log("[setIsGameOver] Saving to localStorage:",{key:l,result:g}),localStorage.setItem(l,JSON.stringify(g))}return{isGameOver:e,gameEndTime:Date.now()}}return{isGameOver:e}}),clearScores:()=>t(()=>({scores:[]})),setCurrentPickUsedHelp:()=>t(()=>({currentPickUsedHelp:!0})),toggleEasyMode:()=>t(e=>({isEasyMode:!e.isEasyMode})),setModeLocked:e=>t(()=>({isModeLocked:e})),calculateOptimalPath:()=>t(e=>{if(e.gameMode==="practice"){const n=e.picks.map(o=>o.team),{maxScore:r,optimalPicks:s,usedTimeout:i}=w0(n);return{optimalScore:r,optimalPicks:s,usedTimeout:i}}return e}),setGameMode:e=>t(()=>({gameMode:e}))})),TR=()=>{const t=Sl(),{initializeGame:e}=me(),n=r=>{r.preventDefault(),e(),t("/")};return f.jsxs("div",{className:"min-h-screen bg-neutral-50 dark:bg-neutral-900 text-gray-800 dark:text-gray-200",children:[f.jsx("header",{className:"bg-white dark:bg-black border-b border-neutral-200 dark:border-neutral-800",children:f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-2 flex items-center justify-between",children:[f.jsxs("a",{href:"/",onClick:n,className:"flex items-center gap-2 group",children:[f.jsx("img",{src:"/logo.svg",alt:"StatStack Logo",className:"w-6 h-6"}),f.jsx("span",{className:"text-xl font-serif font-semibold tracking-tight text-chalk-green group-hover:text-chalk-green/80 transition-colors",children:"StatStack"})]}),f.jsxs(md,{to:"/leaderboard",className:"text-sm text-gray-600 dark:text-gray-400 font-sans hover:text-main dark:hover:text-main-dark transition-colors flex items-center gap-2",children:[f.jsx("span",{children:"🏆"}),f.jsx("span",{children:"Leaderboard"})]})]})}),f.jsx("main",{className:"relative",children:f.jsx(ab,{})})]})},kR={"qb-wins":{id:"qb-wins",title:"QB Wins Challenge",description:"Pick 20 quarterbacks. Reach 2,500 career wins. No repeats.",accentColor:"#1e3a8a",enabled:!0},"defensive-sacks":{id:"defensive-sacks",title:"Sacks Challenge",description:"Name the NFL's greatest pass rushers. Target: 1,500 career sacks.",accentColor:"#991b1b",enabled:!1}},IR=({challenge:t})=>{const e=Sl(),{initializeGame:n}=me(),r=()=>{t.enabled&&(n(),e(`/game/${t.id}`))};return f.jsxs("div",{onClick:r,className:`
        relative rounded-2xl bg-white dark:bg-black border border-gray-200 dark:border-gray-800
        p-8 transition-all duration-200 group
        ${t.enabled?"hover:shadow-lg hover:-translate-y-[1px] cursor-pointer hover:bg-opacity-50":"opacity-60 cursor-not-allowed"}
      `,style:{borderTop:`6px solid ${t.accentColor}`,...t.enabled&&{"--accent-color":t.accentColor,"--accent-bg":`${t.accentColor}10`,"&:hover":{backgroundColor:"var(--accent-bg)"}}},children:[f.jsx("h2",{className:`
          font-serif text-[1.75rem] leading-tight font-semibold mb-4 
          text-gray-900 dark:text-white
          ${t.enabled?"group-hover:underline decoration-[var(--accent-color)] decoration-2 underline-offset-4":""}
        `,children:t.title}),f.jsx("p",{className:"text-[0.9rem] text-gray-500 dark:text-gray-400 leading-relaxed",children:t.description}),!t.enabled&&f.jsx("div",{className:"mt-6",children:f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400 font-medium tracking-wide uppercase",children:"Coming Soon"})})]})},CR=()=>f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:f.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16",children:[f.jsx("h1",{className:"font-serif text-4xl font-bold mb-3 text-gray-900 dark:text-white",children:"Choose Your Challenge"}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg mb-12",children:"Test your NFL knowledge with our collection of challenges."}),f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8",children:Object.values(kR).map(t=>f.jsx(IR,{challenge:t},t.id))})]})}),bR=[{name:"Arizona Cardinals",url:"https://a.espncdn.com/i/teamlogos/nfl/500/ari.png"},{name:"Atlanta Falcons",url:"https://a.espncdn.com/i/teamlogos/nfl/500/atl.png"},{name:"Baltimore Ravens",url:"https://a.espncdn.com/i/teamlogos/nfl/500/bal.png"},{name:"Buffalo Bills",url:"https://a.espncdn.com/i/teamlogos/nfl/500/buf.png"},{name:"Carolina Panthers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/car.png"},{name:"Chicago Bears",url:"https://a.espncdn.com/i/teamlogos/nfl/500/chi.png"},{name:"Cincinnati Bengals",url:"https://a.espncdn.com/i/teamlogos/nfl/500/cin.png"},{name:"Cleveland Browns",url:"https://a.espncdn.com/i/teamlogos/nfl/500/cle.png"},{name:"Dallas Cowboys",url:"https://a.espncdn.com/i/teamlogos/nfl/500/dal.png"},{name:"Denver Broncos",url:"https://a.espncdn.com/i/teamlogos/nfl/500/den.png"},{name:"Detroit Lions",url:"https://a.espncdn.com/i/teamlogos/nfl/500/det.png"},{name:"Green Bay Packers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/gb.png"},{name:"Houston Texans",url:"https://a.espncdn.com/i/teamlogos/nfl/500/hou.png"},{name:"Indianapolis Colts",url:"https://a.espncdn.com/i/teamlogos/nfl/500/ind.png"},{name:"Jacksonville Jaguars",url:"https://a.espncdn.com/i/teamlogos/nfl/500/jax.png"},{name:"Kansas City Chiefs",url:"https://a.espncdn.com/i/teamlogos/nfl/500/kc.png"},{name:"Las Vegas Raiders",url:"https://a.espncdn.com/i/teamlogos/nfl/500/lv.png"},{name:"Los Angeles Chargers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/lac.png"},{name:"Los Angeles Rams",url:"https://a.espncdn.com/i/teamlogos/nfl/500/lar.png"},{name:"Miami Dolphins",url:"https://a.espncdn.com/i/teamlogos/nfl/500/mia.png"},{name:"Minnesota Vikings",url:"https://a.espncdn.com/i/teamlogos/nfl/500/min.png"},{name:"New England Patriots",url:"https://a.espncdn.com/i/teamlogos/nfl/500/ne.png"},{name:"New Orleans Saints",url:"https://a.espncdn.com/i/teamlogos/nfl/500/no.png"},{name:"New York Giants",url:"https://a.espncdn.com/i/teamlogos/nfl/500/nyg.png"},{name:"New York Jets",url:"https://a.espncdn.com/i/teamlogos/nfl/500/nyj.png"},{name:"Philadelphia Eagles",url:"https://a.espncdn.com/i/teamlogos/nfl/500/phi.png"},{name:"Pittsburgh Steelers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/pit.png"},{name:"San Francisco 49ers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/sf.png"},{name:"Seattle Seahawks",url:"https://a.espncdn.com/i/teamlogos/nfl/500/sea.png"},{name:"Tampa Bay Buccaneers",url:"https://a.espncdn.com/i/teamlogos/nfl/500/tb.png"},{name:"Tennessee Titans",url:"https://a.espncdn.com/i/teamlogos/nfl/500/ten.png"},{name:"Washington Commanders",url:"https://a.espncdn.com/i/teamlogos/nfl/500/wsh.png"}];function il(t){var e;if(t)return(e=bR.find(n=>n.name===t))==null?void 0:e.url}const eo={"Arizona Cardinals":"text-[#97233F] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Atlanta Falcons":"text-[#A71930] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Baltimore Ravens":"text-[#241773] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Buffalo Bills":"text-[#00338D] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Carolina Panthers":"text-[#0085CA] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Chicago Bears":"text-[#0B162A] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Cincinnati Bengals":"text-[#FB4F14] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Cleveland Browns":"text-[#311D00] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Dallas Cowboys":"text-[#003594] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Denver Broncos":"text-[#FB4F14] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Detroit Lions":"text-[#0076B6] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Green Bay Packers":"text-[#203731] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Houston Texans":"text-[#03202F] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Indianapolis Colts":"text-[#002C5F] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Jacksonville Jaguars":"text-[#101820] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Kansas City Chiefs":"text-[#E31837] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Las Vegas Raiders":"text-[#000000] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Los Angeles Chargers":"text-[#FFC20E] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Los Angeles Rams":"text-[#003594] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Miami Dolphins":"text-[#008E97] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Minnesota Vikings":"text-[#4F2683] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","New England Patriots":"text-[#002244] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","New Orleans Saints":"text-[#D3BC8D] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","New York Giants":"text-[#0B2265] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","New York Jets":"text-[#125740] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Philadelphia Eagles":"text-[#004C54] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Pittsburgh Steelers":"text-[#FFB612] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","San Francisco 49ers":"text-[#AA0000] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Seattle Seahawks":"text-[#002244] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Tampa Bay Buccaneers":"text-[#D50A0A] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Tennessee Titans":"text-[#0C2340] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]","Washington Commanders":"text-[#773141] [text-shadow:_-1px_-1px_0_#fff,_1px_-1px_0_#fff,_-1px_1px_0_#fff,_1px_1px_0_#fff]"},RR={};function PR(t,e){let n;try{n=t()}catch{return}return{getItem:s=>{var i;const o=u=>u===null?null:JSON.parse(u,void 0),l=(i=n.getItem(s))!=null?i:null;return l instanceof Promise?l.then(o):o(l)},setItem:(s,i)=>n.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>n.removeItem(s)}}const ol=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return ol(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return ol(r)(n)}}}},AR=(t,e)=>(n,r,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:R=>R,version:0,merge:(R,x)=>({...x,...R}),...e},o=!1;const l=new Set,u=new Set;let c;try{c=i.getStorage()}catch{}if(!c)return t((...R)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...R)},r,s);const h=ol(i.serialize),p=()=>{const R=i.partialize({...r()});let x;const y=h({state:R,version:i.version}).then(_=>c.setItem(i.name,_)).catch(_=>{x=_});if(x)throw x;return y},g=s.setState;s.setState=(R,x)=>{g(R,x),p()};const E=t((...R)=>{n(...R),p()},r,s);let k;const I=()=>{var R;if(!c)return;o=!1,l.forEach(y=>y(r()));const x=((R=i.onRehydrateStorage)==null?void 0:R.call(i,r()))||void 0;return ol(c.getItem.bind(c))(i.name).then(y=>{if(y)return i.deserialize(y)}).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return i.migrate(y.state,y.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return y.state}).then(y=>{var _;return k=i.merge(y,(_=r())!=null?_:E),n(k,!0),p()}).then(()=>{x==null||x(k,void 0),o=!0,u.forEach(y=>y(k))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:R=>{i={...i,...R},R.getStorage&&(c=R.getStorage())},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>I(),hasHydrated:()=>o,onHydrate:R=>(l.add(R),()=>{l.delete(R)}),onFinishHydration:R=>(u.add(R),()=>{u.delete(R)})},I(),k||E},NR=(t,e)=>(n,r,s)=>{let i={storage:PR(()=>localStorage),partialize:I=>I,version:0,merge:(I,R)=>({...R,...I}),...e},o=!1;const l=new Set,u=new Set;let c=i.storage;if(!c)return t((...I)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),n(...I)},r,s);const h=()=>{const I=i.partialize({...r()});return c.setItem(i.name,{state:I,version:i.version})},p=s.setState;s.setState=(I,R)=>{p(I,R),h()};const g=t((...I)=>{n(...I),h()},r,s);s.getInitialState=()=>g;let E;const k=()=>{var I,R;if(!c)return;o=!1,l.forEach(y=>{var _;return y((_=r())!=null?_:g)});const x=((R=i.onRehydrateStorage)==null?void 0:R.call(i,(I=r())!=null?I:g))||void 0;return ol(c.getItem.bind(c))(i.name).then(y=>{if(y)if(typeof y.version=="number"&&y.version!==i.version){if(i.migrate)return[!0,i.migrate(y.state,y.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,y.state];return[!1,void 0]}).then(y=>{var _;const[A,O]=y;if(E=i.merge(O,(_=r())!=null?_:g),n(E,!0),A)return h()}).then(()=>{x==null||x(E,void 0),E=r(),o=!0,u.forEach(y=>y(E))}).catch(y=>{x==null||x(void 0,y)})};return s.persist={setOptions:I=>{i={...i,...I},I.storage&&(c=I.storage)},clearStorage:()=>{c==null||c.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>k(),hasHydrated:()=>o,onHydrate:I=>(l.add(I),()=>{l.delete(I)}),onFinishHydration:I=>(u.add(I),()=>{u.delete(I)})},i.skipHydration||k(),E||g},DR=(t,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((RR?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),AR(t,e)):NR(t,e),OR=DR,Dp=aE()(OR((t,e)=>({qbWinsLeaderboard:[],addGameRecord:n=>{const r={...n,id:crypto.randomUUID(),timestamp:Date.now()},s=[...e().qbWinsLeaderboard];if(!n.playerName){const o=[...s,r];return o.sort((l,u)=>u.score!==l.score?u.score-l.score:l.timestamp-u.timestamp),o.findIndex(l=>l.id===r.id)<10}s.push(r),s.sort((o,l)=>l.score!==o.score?l.score-o.score:o.timestamp-l.timestamp);const i=s.slice(0,100);return t({qbWinsLeaderboard:i}),i.findIndex(o=>o.id===r.id)<10},getTopTen:()=>e().qbWinsLeaderboard.slice(0,10),getGameRecord:n=>e().qbWinsLeaderboard.find(r=>r.id===n)||null,resetLeaderboard:()=>{t({qbWinsLeaderboard:[]})}}),{name:"statstack-leaderboard"})),MR=({onSubmit:t,onCancel:e})=>{const[n,r]=P.useState(""),s=i=>{i.preventDefault(),t(n.trim()||"Anonymous")};return f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 max-w-md w-full mx-4 shadow-xl",children:[f.jsx("h2",{className:"text-2xl font-sans text-main dark:text-main-dark mb-4",children:"🎉 Congratulations!"}),f.jsx("p",{className:"text-muted dark:text-muted-dark mb-6",children:"You've made it to the leaderboard! Enter your name to be remembered for posterity."}),f.jsxs("form",{onSubmit:s,className:"space-y-4",children:[f.jsx("input",{type:"text",value:n,onChange:i=>r(i.target.value),placeholder:"Enter your name",maxLength:20,className:"w-full px-4 py-2 bg-white dark:bg-neutral-900 border border-neutral-200 dark:border-neutral-700 rounded-lg text-main dark:text-main-dark focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0}),f.jsxs("div",{className:"flex justify-end gap-3",children:[f.jsx("button",{type:"button",onClick:e,className:"px-4 py-2 text-sm border rounded-md text-main hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-neutral-700 transition-colors",children:"Skip"}),f.jsx("button",{type:"submit",className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors",children:"Submit"})]})]})]})})},LR=[["Q","W","E","R","T","Y","U","I","O","P"],["A","S","D","F","G","H","J","K","L"],["Z","X","C","V","B","N","M"]],jR=({onKeyPress:t,onBackspace:e,onEnter:n,isDisabled:r})=>f.jsxs("div",{className:"w-full max-w-[540px] mx-auto px-1 sm:px-2 mt-4",children:[LR.map((s,i)=>f.jsxs("div",{className:"flex justify-center gap-[6px] mb-[6px]",children:[i===2&&f.jsx("button",{onClick:n,disabled:r,className:"keyboard-key keyboard-key-special bg-slate-300 dark:bg-neutral-600 font-medium",children:"Enter"}),s.map(o=>f.jsx("button",{onClick:()=>t(o),disabled:r,className:"keyboard-key flex-1 bg-slate-200 dark:bg-neutral-700",children:o},o)),i===2&&f.jsx("button",{onClick:e,disabled:r,className:"keyboard-key keyboard-key-special bg-slate-300 dark:bg-neutral-600 font-medium",children:"←"})]},i)),f.jsx("div",{className:"flex justify-center",children:f.jsx("button",{onClick:()=>t(" "),disabled:r,className:"keyboard-key bg-slate-200 dark:bg-neutral-700 w-[calc(100%-100px)]",children:"space"})}),f.jsx("style",{children:`
        .keyboard-key {
          height: 58px;
          min-width: 40px;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 4px;
          font-weight: 500;
          font-size: 14px;
          text-transform: uppercase;
          user-select: none;
          -webkit-user-select: none;
          touch-action: manipulation;
        }

        .keyboard-key-special {
          flex: 2;
          min-width: 65px;
        }

        @media (max-width: 639px) {
          .keyboard-key {
            height: 52px;
            min-width: 32px;
            font-size: 13px;
          }

          .keyboard-key-special {
            min-width: 50px;
            width: 50px;
            flex: none;
          }
        }

        .keyboard-key:disabled {
          opacity: 0.5;
          cursor: not-allowed;
        }

        .keyboard-key:not(:disabled):active {
          background-color: var(--color-neutral-400) !important;
        }
      `})]}),VR=["Nice pick.","Clean throw.","Stats don't lie.","Solid call.","Well played.","That'll work.","Stacked up.","You're rolling.","On the board.","Keep stacking.","QB1 energy.","That's a win.","Smart play.","Count it.","Stack it.","Another W.","Strong pick.","Money throw.","Sharp guess.","You eat stats.","Playmaker move.","Clockwork.","Right on time.","That'll stack.","W after W.","You knew that one.","Scored big.","Another strike.","No notes.","You're dialed in.","Easy mode.","Built different.","W-machine.","You live here.","Got that dog.","Elite brain.","Football savant.","You read the tape.","No luck needed.","Stat hawk.","Stack god.","Hall of Fame pick.","Undefeated mind.","Too easy.","Pick of the day.","You studied.","Clutch input.","Knew it.","W certified.","Keep cooking."],FR=["Nope. Wrong team.","Didn't play there.","Try again.","That's not it.","Not on that roster.","Bad read.","No dice.","Missed it.","Recheck your list.","Swing and a miss.","That's fiction.","False start.","Check your stats.","Never happened.","Nah, that's wrong.","Wild guess?","You just made that up.","Try the right sport.","Check the helmet.","That's a reach.","L+ratio.","Wrong guy.","Gaslit yourself.","What year was that?","Nice imagination.","In a dream, maybe.","Not even close.","You sure?","Bro, what?","Cope harder.","Not on tape.","That QB? Really?","Bold miss.","Cut by preseason.","Google that one.","Nah. Just nah.","Your source lied.","Stats reject that.","QB not found.","Not in this timeline.","Check your fandom.","That's a Madden pick.","Time-travel fail.","Guess again.","Hard no.","Brain fog?","You're cold.","Reality says no.","Fantasy draft maybe."],BR=["Used already.","Double dipping?","You picked him.","Try someone else.","We counted that one.","Reused guess.","That one's in.","Already tallied.","He's on your list.","Old news.","That one's done.","Memory check.","Again? Really?","Rerun alert.","Stat déjà vu.","One and done.","Run it back less.","He's off the board.","No repeats.","Try originality.","Seen that movie.","Dude… again?","He's in the books.","We saw that.","That stat is stale.","Get new ideas.","Once is enough.","Used. Not usable.","Try variety.","Not again.","You on loop?","Brain buffering?","Stats stuck?","You like him, huh?","He's resting now.","Can't do reruns.","Respect the rules.","Repeat repelled.","Roster's full.","Clock's ticking.","Already locked in.","Tally'd already.","Old pick energy.","Let him go.","Stat's expired.","That ship sailed.","On cooldown.","Rinse less, repeat never."],$R=["AI for the assist!","You used the help. Fair.","With a lil' help!","You got there… assisted.","W via autopilot.","Guided to greatness.","Correct-ish.","That was… efficient.","No shame in help.","Tally logs it. We notice.","Call it a cheat code!","System says yes.","We'll count it. Barely.","Correct (boosted).","Support mode: enabled.","W with training wheels.","That's a soft win.","Auto-win applied.","Helper delivered.","Brain rest round.","One for the algorithm.","Guided guess accepted.","You phoned a friend.","Correct, technically.","Let's keep it moving."],or=20;function kh(t){if(!t||t.length===0)return"";const e=Math.floor(Math.random()*t.length);return t[e]}const UR=({isVisible:t,score:e,onComplete:n})=>{const[r,s]=P.useState(!1),[i,o]=P.useState(!1),[l,u]=P.useState(!1);return P.useEffect(()=>{if(t){s(!0);const c=setTimeout(()=>{o(!0)},750),h=setTimeout(()=>{e!==void 0&&u(!0)},1500),p=setTimeout(()=>{s(!1),o(!1),u(!1),n&&n()},2e3);return()=>{clearTimeout(c),clearTimeout(h),clearTimeout(p)}}else s(!1),o(!1),u(!1)},[t,e,n]),t?f.jsxs("div",{className:"fixed inset-0 z-50 pointer-events-none",children:[f.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-[2px]"}),f.jsxs("div",{className:"absolute inset-0 flex items-center justify-center",children:[f.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:f.jsxs("div",{className:"flame-wrapper",children:[f.jsx("div",{className:"flame red"}),f.jsx("div",{className:"flame orange"}),f.jsx("div",{className:"flame gold"})]})}),f.jsxs("div",{className:"relative text-center z-10",children:[f.jsx("div",{className:`transition-opacity duration-500 text-4xl md:text-5xl lg:text-6xl font-bold text-yellow-400 
            ${r?"opacity-100":"opacity-0"}`,children:"YOU GOT THE GOAT"}),f.jsx("div",{className:`transition-opacity duration-500 text-4xl md:text-5xl lg:text-6xl font-bold text-red-500 
            ${i?"opacity-100":"opacity-0"}`,children:"LET'S F#%KING GO"}),e!==void 0&&f.jsxs("div",{className:`transition-all duration-500 text-[120px] md:text-[160px] font-black text-[#4CAF50]
              ${l?"opacity-100 scale-100":"opacity-0 scale-90"}
              drop-shadow-[0_0_20px_rgba(76,175,80,0.8)]
              [-webkit-text-stroke:2px_white]`,children:["+",e]})]})]})]}):null},zR=({isVisible:t,score:e,currentRound:n,onContinue:r})=>(P.useEffect(()=>{if(t){const s=new Audio("/whistle.mp3");s.volume=.3,s.play().catch(()=>{})}},[t]),t?f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 font-sans",role:"dialog","aria-modal":"true",children:f.jsxs("div",{className:"relative text-center px-8 py-16 sm:px-16 sm:py-20 rounded-xl border border-white/10 shadow-lg bg-[length:120px_1px] bg-repeat-x max-w-lg w-full",style:{backgroundImage:"repeating-linear-gradient(to right, rgba(255,255,255,0.07), rgba(255,255,255,0.07) 1px, transparent 1px, transparent 120px)"},children:[f.jsx("h1",{className:"text-white text-5xl sm:text-6xl font-bold tracking-wide mb-8",children:"HALFTIME"}),f.jsxs("div",{className:"relative flex justify-center items-center",children:[f.jsx("div",{style:{transform:"perspective(600px) rotateX(25deg)",width:"100%",margin:"0 auto"},className:"transition-transform",children:f.jsxs("svg",{className:"w-full h-64 sm:h-80 opacity-40",viewBox:"0 0 600 240",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",children:[f.jsx("rect",{x:"0",y:"0",width:"600",height:"240",rx:"16",fill:"#fff",fillOpacity:"0.09"}),[...Array(15)].map((s,i)=>f.jsx("line",{x1:40*(i+1),y1:"0",x2:40*(i+1),y2:"240",stroke:"#fff",strokeOpacity:"0.25",strokeWidth:"3"},i)),[...Array(29)].map((s,i)=>f.jsx("rect",{x:20.7*i,y:"110",width:"18",height:"20",rx:"4",fill:"#fff",fillOpacity:"0.18"},i))]})}),f.jsx("img",{src:"/tally-badge.svg",alt:"Tally logo",className:"absolute bottom-8 left-12 w-24 h-24 opacity-95",style:{zIndex:2}}),f.jsxs("div",{className:"absolute top-4 right-8 bg-black/70 border border-white/40 rounded-lg px-5 py-3 flex flex-col items-center",style:{zIndex:2},children:[f.jsx("span",{className:"text-sm text-white/80",children:"Current Score"}),f.jsx("span",{className:"text-3xl font-bold text-white",children:e})]})]}),f.jsxs("p",{className:"text-slate-200 text-2xl sm:text-3xl mb-6 mt-8",children:[20-n," more picks to go"]}),f.jsx("button",{onClick:r,className:"mt-8 px-8 py-4 rounded-lg bg-blue-600 hover:bg-blue-700 text-white font-bold text-xl shadow transition-colors w-full",children:"Start 2nd Half"})]})}):null),uE=({isOpen:t,onClose:e,title:n,children:r})=>{if(!t)return null;const s=i=>{i.target===i.currentTarget&&e()};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-start justify-center pt-4 sm:pt-20 px-3 sm:p-4 bg-black/50 backdrop-blur-sm",onClick:s,children:f.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-xl shadow-xl w-full max-w-lg max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-3 sm:p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:[f.jsx("h2",{className:"text-lg sm:text-2xl font-bold text-main dark:text-main-dark",children:n}),f.jsx("button",{onClick:e,className:"text-neutral-400 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors","aria-label":"Close modal",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),r]})})})},HR=({isOpen:t,onClose:e})=>f.jsx(uE,{isOpen:t,onClose:e,title:"How to Play",children:f.jsxs("div",{className:"space-y-3 sm:space-y-4 text-sm",children:[f.jsxs("section",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-main dark:text-main-dark mb-0.5 sm:mb-1",children:"The Goal"}),f.jsxs("p",{className:"text-sm text-neutral-600 dark:text-neutral-400",children:["Rack up ",f.jsx("span",{className:"font-semibold text-blue-600 dark:text-blue-400",children:"2,500 career wins"})," in just 20 picks."]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-main dark:text-main-dark mb-0.5 sm:mb-1",children:"How to Play"}),f.jsxs("ul",{className:"text-sm text-neutral-600 dark:text-neutral-400 space-y-1 sm:space-y-1.5 list-disc pl-4",children:[f.jsx("li",{children:"Each round shows a random NFL team"}),f.jsx("li",{children:"Name any QB who played for that team"}),f.jsx("li",{children:"Earn their total career wins across all teams"}),f.jsx("li",{children:"No repeats allowed"})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-main dark:text-main-dark mb-0.5 sm:mb-1",children:"Feedback"}),f.jsxs("div",{className:"grid grid-cols-3 gap-1 sm:gap-4",children:[f.jsxs("div",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"text-emerald-500 mt-0.5 text-base sm:text-lg",children:"✓"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-bold text-xs sm:text-sm block",children:"Correct"}),f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2",children:"QB played for team"})]})]}),f.jsxs("div",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"text-amber-500 mt-0.5 text-base sm:text-lg",children:"⟲"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-bold text-xs sm:text-sm block",children:"Already used"}),f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2",children:"No repeats"})]})]}),f.jsxs("div",{className:"flex items-start gap-1.5",children:[f.jsx("span",{className:"text-red-500 mt-0.5 text-base sm:text-lg",children:"×"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("span",{className:"font-bold text-xs sm:text-sm block",children:"Invalid"}),f.jsx("span",{className:"text-xs text-neutral-500 dark:text-neutral-400 line-clamp-2",children:"Wrong team"})]})]})]})]}),f.jsxs("section",{children:[f.jsx("h3",{className:"text-lg sm:text-xl font-bold text-main dark:text-main-dark mb-0.5 sm:mb-1",children:"Example"}),f.jsxs("div",{className:"bg-slate-50 dark:bg-neutral-800 rounded-lg border border-slate-200 dark:border-neutral-700 p-2",children:[f.jsx("div",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"Team: DAL"}),f.jsxs("div",{className:"font-mono text-sm",children:["Guess: Tony Romo",f.jsx("span",{className:"text-emerald-500 ml-1.5",children:"✓"}),f.jsx("span",{className:"text-neutral-600 dark:text-neutral-400 ml-1.5",children:"78 Wins"})]})]})]})]})}),WR=({isOpen:t,onClose:e})=>f.jsx(uE,{isOpen:t,onClose:e,title:"Game Philosophy & Help",children:f.jsxs("div",{className:"space-y-6 text-sm",children:[f.jsxs("section",{children:[f.jsxs("h3",{className:"text-lg font-bold text-main dark:text-main-dark mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"🎯"}),f.jsx("span",{children:"Game Philosophy"})]}),f.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 space-y-2",children:[f.jsx("p",{children:"Tally is a brain-first challenge."}),f.jsx("p",{children:"No hints. No score peeking. No do-overs."}),f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{children:"The real goal?"}),f.jsx("p",{children:"Reach 2,500 wins using nothing but memory and instinct."})]})]})]}),f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-4"}),f.jsxs("section",{children:[f.jsxs("h3",{className:"text-lg font-bold text-main dark:text-main-dark mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"💡"}),f.jsx("span",{children:"Help & Scoring"})]}),f.jsxs("ul",{className:"text-neutral-600 dark:text-neutral-400 space-y-1.5 list-disc pl-4",children:[f.jsx("li",{children:"Your score is the total career wins of all QBs you name"}),f.jsx("li",{children:"Higher win totals mean more points"}),f.jsx("li",{children:"The Help button (💡) shows available QBs for the current team"}),f.jsx("li",{children:"Using help marks that pick with an SOS tag"})]})]}),f.jsx("div",{className:"border-t border-neutral-200 dark:border-neutral-800 my-4"}),f.jsxs("section",{children:[f.jsxs("h3",{className:"text-lg font-bold text-main dark:text-main-dark mb-2 flex items-center gap-2",children:[f.jsx("span",{children:"🌟"}),f.jsx("span",{children:"Play Your Way"})]}),f.jsxs("div",{className:"text-neutral-600 dark:text-neutral-400 space-y-2",children:[f.jsx("p",{children:"The Help button's there if you need it."}),f.jsx("p",{children:"Score tracking is optional."}),f.jsx("p",{children:"No judgment — play how you like."}),f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{children:"But if you finish clean — no help, no peeking — you'll earn a small symbol by your score."}),f.jsxs("div",{className:"mt-3",children:[f.jsx("p",{children:"Not a reward. Not a boost."}),f.jsx("p",{children:"Just a quiet nod that says:"}),f.jsx("p",{className:"font-bold text-main dark:text-main-dark mt-2",children:'"I played it straight."'})]})]})]})]})]})}),GR=({isOpen:t,onClose:e,position:n,onShowHelp:r,onNewGame:s})=>{const[i,o]=P.useState(null),{isEasyMode:l,toggleEasyMode:u,isModeLocked:c,currentTeam:h}=me(),p=[{id:"howToPlay",label:"How to Play"},{id:"cleanPlay",label:"Game Philosophy & Help"}],g=R=>{R.target===R.currentTarget&&e()},E=R=>{o(R),e()},k=()=>{o(null)},I=()=>{h&&(me.setState({currentPickUsedHelp:!0}),e(),r==null||r())};return f.jsxs(f.Fragment,{children:[t&&f.jsx("div",{className:"fixed inset-0 z-50",onClick:g,children:f.jsx("div",{className:"absolute bg-white dark:bg-neutral-800 rounded-lg shadow-lg border border-neutral-200 dark:border-neutral-700 overflow-hidden",style:{top:`${n.top}px`,left:"24px",width:"240px",transform:"translateY(8px)"},children:f.jsxs("div",{className:"py-1",children:[!l&&f.jsx("div",{className:"px-4 py-3.5 border-b border-neutral-200 dark:border-neutral-700",children:f.jsxs("div",{className:"flex flex-col gap-2",children:[f.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-200 font-medium",children:"Need some help?"}),f.jsx("p",{className:"text-xs text-neutral-500 dark:text-neutral-400",children:"I can show you all available QBs for this team, but it will cost you 50% of that QB's wins."}),f.jsx("button",{onClick:I,className:"mt-1 w-full bg-blue-500 hover:bg-blue-600 text-white text-sm font-medium py-2 px-3 rounded-md transition-colors",children:"Show Available QBs"})]})}),f.jsxs("div",{className:"px-4 py-3.5 border-b border-neutral-200 dark:border-neutral-700",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-neutral-700 dark:text-neutral-200",children:"Game Mode"}),f.jsx("button",{onClick:R=>{R.stopPropagation(),c||u()},disabled:c,className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${l?"bg-blue-500":"bg-neutral-200 dark:bg-neutral-700"} ${c?"opacity-50 cursor-not-allowed":""}`,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${l?"translate-x-6":"translate-x-1"}`})})]}),f.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[f.jsx("span",{className:`${l?"":"font-medium"} text-neutral-500 dark:text-neutral-400`,children:"Standard"}),f.jsx("span",{className:`${l?"font-medium":""} text-neutral-500 dark:text-neutral-400`,children:"Easy"})]}),f.jsx("p",{className:"mt-1 text-xs text-neutral-500 dark:text-neutral-400",children:c?"Start a new game to change mode":"Choose your game mode"}),f.jsx("button",{onClick:()=>{s&&s(),e()},className:"mt-2 w-full bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 text-xs font-semibold py-1.5 rounded hover:bg-blue-200 dark:hover:bg-blue-800 transition-colors",children:"New Game"})]}),p.map(R=>f.jsxs("button",{onClick:()=>E(R.id),className:"w-full px-4 py-3.5 text-left text-sm hover:bg-neutral-100 dark:hover:bg-neutral-700 text-neutral-700 dark:text-neutral-200 flex items-center justify-between group transition-colors border-b border-neutral-200 dark:border-neutral-700 last:border-0",children:[f.jsx("span",{children:R.label}),f.jsx("span",{className:"text-neutral-400 dark:text-neutral-500 group-hover:text-neutral-700 dark:group-hover:text-neutral-200 transition-colors",children:"→"})]},R.id))]})})}),f.jsx(HR,{isOpen:i==="howToPlay",onClose:k}),f.jsx(WR,{isOpen:i==="cleanPlay",onClose:k})]})},_0=P.forwardRef(({onClick:t,className:e=""},n)=>{const[r,s]=P.useState(()=>sessionStorage.getItem("infoButtonClicked")==="true"),[i,o]=P.useState(!1),l=P.useRef(),u=P.useRef(Date.now());P.useEffect(()=>{if(r)return;const h=()=>{u.current=Date.now(),o(!1)};window.addEventListener("keydown",h),window.addEventListener("mousedown",h),window.addEventListener("touchstart",h);const p=setInterval(()=>{Date.now()-u.current>=15e3&&(o(!0),clearInterval(l.current))},1e3);return l.current=p,()=>{window.removeEventListener("keydown",h),window.removeEventListener("mousedown",h),window.removeEventListener("touchstart",h),l.current&&clearInterval(l.current)}},[r]);const c=()=>{r||(s(!0),sessionStorage.setItem("infoButtonClicked","true")),o(!1),t()};return f.jsx("button",{ref:n,onClick:c,className:`${e} ${i?"animate-info-pulse":""}`,"aria-label":"Menu",children:f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-4 h-4 sm:w-5 sm:h-5",children:f.jsx("path",{d:"M12 8.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 5.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3zm0 5.25a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})})})}),qR=({onBackToLobby:t})=>{const{totalScore:e,picks:n,gameStartTime:r,gameEndTime:s,gameMode:i}=me(),[o,l]=P.useState(null),[u,c]=P.useState([]),[h,p]=P.useState(""),[g,E]=P.useState(!0),[k,I]=P.useState(!1),[R,x]=P.useState(null),{duration:y,scorePercentage:_}=P.useMemo(()=>{let O=null;k&&R!==null?O=R:r&&s&&(O=Math.floor((s-r)/1e3));const M=o&&o>0?(e/o*100).toFixed(2):"0.00";return{duration:O,scorePercentage:M}},[r,s,e,o,k,R]);P.useEffect(()=>{(async()=>{const M=new Date,S=M.getFullYear(),v=String(M.getMonth()+1).padStart(2,"0"),T=String(M.getDate()).padStart(2,"0"),C=`dailyChallenge-${S}-${v}-${T}`,N=localStorage.getItem(C);let D=!1;if(N){const b=JSON.parse(N);b.picks.length===n.length&&b.score===e&&(D=!0,I(!0),x(b.duration||null))}if(!D&&r&&s){const b=Math.floor((s-r)/1e3),de={score:e,picks:n,timestamp:Date.now(),completed:!0,duration:b,optimalScore:me.getState().optimalScore,optimalPicks:me.getState().optimalPicks};localStorage.setItem(C,JSON.stringify(de))}if(i==="daily"||D){const b=me.getState();l(b.optimalScore),c(b.optimalPicks),p("")}else{const b=n.map(Ue=>Ue.team),de=await vR(b);l(de.maxScore),c(de.optimalPicks),p(de.resultType)}E(!1)})()},[n,e,i,r,s]);const A=O=>{if(O===null)return"--:--";const M=Math.floor(O/60),S=O%60;return`${M}:${S.toString().padStart(2,"0")}`};return g?f.jsx("div",{className:"container mx-auto px-4 py-8 font-sans flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"w-full max-w-[600px] mx-auto bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow p-6 flex flex-col items-center",children:[f.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-main dark:text-main-dark mb-6 tracking-wide text-center",children:"Game Completed"}),f.jsx("div",{className:"text-6xl sm:text-7xl font-black text-emerald-500 dark:text-emerald-400 mb-2 drop-shadow-lg",children:e.toLocaleString()}),f.jsx("div",{className:"text-base text-neutral-500 dark:text-neutral-400 mb-8",children:"Your Score"}),f.jsx("div",{className:"w-16 h-16 border-8 border-blue-400 border-t-transparent rounded-full animate-spin mb-6"}),f.jsx("div",{className:"text-lg text-neutral-500 dark:text-neutral-400 text-center",children:"Finding optimal score…"})]})}):f.jsx("div",{className:"container mx-auto px-2 py-4 font-sans flex flex-col items-center justify-center min-h-screen",children:f.jsxs("div",{className:"w-full max-w-[600px] mx-auto bg-white dark:bg-neutral-900 rounded-xl border border-neutral-200 dark:border-neutral-800 shadow p-4 sm:p-6 flex flex-col items-center",children:[f.jsx("div",{className:"text-2xl sm:text-3xl font-bold text-main dark:text-main-dark mb-6 tracking-wide text-center",children:k?"Previous Game Results":"Game Completed"}),f.jsxs("div",{className:"w-full max-w-[400px] mx-auto mb-6 bg-white dark:bg-neutral-900 rounded-xl shadow p-4",children:[f.jsx("h2",{className:"text-xl font-bold tracking-tight text-center mb-2",children:"🏈 Final Score Breakdown"}),f.jsx("div",{className:"text-sm text-gray-500 text-center mb-4",children:f.jsx("span",{children:"Your Score vs. Maximum Possible"})}),f.jsxs("div",{className:"flex justify-center items-end gap-2 text-4xl font-semibold text-green-600",children:[f.jsx("div",{className:"text-5xl font-bold text-green-600",children:e.toLocaleString()}),f.jsxs("div",{className:"text-2xl text-gray-800 font-normal",children:["/ ",o==null?void 0:o.toLocaleString()]})]}),f.jsxs("div",{className:"text-blue-600 text-xl font-bold text-center mt-2 flex flex-col items-center",children:[_,"% Efficiency",f.jsx("span",{className:"text-xs text-gray-500 mt-1",children:"(Your score divided by the maximum possible score)"})]}),f.jsxs("div",{className:"grid grid-cols-4 gap-4 text-sm text-gray-500 mt-4 pt-2 border-t",children:[f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-semibold text-gray-700",children:"12"}),f.jsx("div",{children:"Games"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-semibold text-gray-700",children:"58.2%"}),f.jsx("div",{children:"Avg Rating"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-semibold text-gray-700",children:"3"}),f.jsx("div",{children:"Streak"})]}),f.jsxs("div",{className:"text-center",children:[f.jsx("div",{className:"font-semibold text-gray-700",children:A(y)}),f.jsx("div",{children:"Duration"})]})]})]}),f.jsxs("div",{className:"flex flex-row gap-4 w-full mb-6",children:[f.jsx("button",{className:"flex-1 bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 rounded-lg transition-colors text-lg",onClick:()=>{const O=`StatStack QB Challenge
Score: ${e}
Optimal: ${o}
Passer Rating: ${_}%`;navigator.clipboard.writeText(O)},children:"Share"}),f.jsx("button",{className:"flex-1 bg-emerald-600 hover:bg-emerald-700 text-white font-bold py-3 rounded-lg transition-colors text-lg",onClick:()=>{t?t():me.setState({isGameOver:!1})},children:"Back to Lobby"})]}),f.jsxs("div",{className:"w-full flex-1 flex flex-col",children:[f.jsxs("h3",{className:"text-base font-semibold text-neutral-400 uppercase tracking-wider mb-2 text-center flex items-center justify-center gap-2",children:["Your Picks ",f.jsx("span",{className:"text-neutral-300 font-normal",children:"/"})," Optimal",h==="greedy-matched"&&f.jsx("sup",{className:"ml-1 text-yellow-400 text-xs align-super",children:"⚡"}),h==="greedy-timeout"&&f.jsx("sup",{className:"ml-1 text-yellow-400 text-xs align-super",children:"⚡⚡"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto rounded-xl bg-neutral-100 dark:bg-neutral-900/60 p-0 max-h-[40vh] border border-neutral-200 dark:border-neutral-800 shadow-sm",children:n.map((O,M)=>{const S=u[M];return f.jsxs("div",{className:"flex items-center justify-between py-1 px-1 border-b border-neutral-200 dark:border-neutral-800 last:border-0 text-sm sm:text-base",style:{gap:0},children:[f.jsxs("div",{className:"flex items-center gap-1 min-w-0 w-[48%]",children:[f.jsx("img",{src:il(O.team),alt:O.team,className:"w-5 h-5 object-contain flex-shrink-0"}),f.jsx("span",{className:"truncate font-medium text-main dark:text-neutral-200",children:O.displayName}),f.jsxs("span",{className:"font-medium text-emerald-500 dark:text-emerald-400 ml-1",children:["+",O.wins]})]}),f.jsx("span",{className:"text-neutral-400 mx-1",children:"/"}),f.jsxs("div",{className:"flex items-center gap-1 min-w-0 w-[48%] justify-end",children:[f.jsx("span",{className:"truncate font-medium text-main dark:text-neutral-200",children:S==null?void 0:S.qb}),f.jsxs("span",{className:"font-medium text-emerald-500 dark:text-emerald-400 ml-1",children:["+",S==null?void 0:S.wins]})]})]},M)})})]})]})})};var $t=function(){return $t=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},$t.apply(this,arguments)};function Op(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function al(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Re="-ms-",Oa="-moz-",_e="-webkit-",cE="comm",gd="rule",Mp="decl",KR="@import",dE="@keyframes",JR="@layer",hE=Math.abs,Lp=String.fromCharCode,Jf=Object.assign;function QR(t,e){return st(t,0)^45?(((e<<2^st(t,0))<<2^st(t,1))<<2^st(t,2))<<2^st(t,3):0}function fE(t){return t.trim()}function lr(t,e){return(t=e.exec(t))?t[0]:t}function ie(t,e,n){return t.replace(e,n)}function Uu(t,e,n){return t.indexOf(e,n)}function st(t,e){return t.charCodeAt(e)|0}function po(t,e,n){return t.slice(e,n)}function Bn(t){return t.length}function mE(t){return t.length}function xa(t,e){return e.push(t),t}function YR(t,e){return t.map(e).join("")}function x0(t,e){return t.filter(function(n){return!lr(n,e)})}var yd=1,go=1,pE=0,dn=0,Ke=0,Oo="";function vd(t,e,n,r,s,i,o,l){return{value:t,root:e,parent:n,type:r,props:s,children:i,line:yd,column:go,length:o,return:"",siblings:l}}function zr(t,e){return Jf(vd("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ii(t){for(;t.root;)t=zr(t.root,{children:[t]});xa(t,t.siblings)}function XR(){return Ke}function ZR(){return Ke=dn>0?st(Oo,--dn):0,go--,Ke===10&&(go=1,yd--),Ke}function Tn(){return Ke=dn<pE?st(Oo,dn++):0,go++,Ke===10&&(go=1,yd++),Ke}function Gs(){return st(Oo,dn)}function zu(){return dn}function wd(t,e){return po(Oo,t,e)}function Qf(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function eP(t){return yd=go=1,pE=Bn(Oo=t),dn=0,[]}function tP(t){return Oo="",t}function Ih(t){return fE(wd(dn-1,Yf(t===91?t+2:t===40?t+1:t)))}function nP(t){for(;(Ke=Gs())&&Ke<33;)Tn();return Qf(t)>2||Qf(Ke)>3?"":" "}function rP(t,e){for(;--e&&Tn()&&!(Ke<48||Ke>102||Ke>57&&Ke<65||Ke>70&&Ke<97););return wd(t,zu()+(e<6&&Gs()==32&&Tn()==32))}function Yf(t){for(;Tn();)switch(Ke){case t:return dn;case 34:case 39:t!==34&&t!==39&&Yf(Ke);break;case 40:t===41&&Yf(t);break;case 92:Tn();break}return dn}function sP(t,e){for(;Tn()&&t+Ke!==57;)if(t+Ke===84&&Gs()===47)break;return"/*"+wd(e,dn-1)+"*"+Lp(t===47?t:Tn())}function iP(t){for(;!Qf(Gs());)Tn();return wd(t,dn)}function oP(t){return tP(Hu("",null,null,null,[""],t=eP(t),0,[0],t))}function Hu(t,e,n,r,s,i,o,l,u){for(var c=0,h=0,p=o,g=0,E=0,k=0,I=1,R=1,x=1,y=0,_="",A=s,O=i,M=r,S=_;R;)switch(k=y,y=Tn()){case 40:if(k!=108&&st(S,p-1)==58){Uu(S+=ie(Ih(y),"&","&\f"),"&\f",hE(c?l[c-1]:0))!=-1&&(x=-1);break}case 34:case 39:case 91:S+=Ih(y);break;case 9:case 10:case 13:case 32:S+=nP(k);break;case 92:S+=rP(zu()-1,7);continue;case 47:switch(Gs()){case 42:case 47:xa(aP(sP(Tn(),zu()),e,n,u),u);break;default:S+="/"}break;case 123*I:l[c++]=Bn(S)*x;case 125*I:case 59:case 0:switch(y){case 0:case 125:R=0;case 59+h:x==-1&&(S=ie(S,/\f/g,"")),E>0&&Bn(S)-p&&xa(E>32?S0(S+";",r,n,p-1,u):S0(ie(S," ","")+";",r,n,p-2,u),u);break;case 59:S+=";";default:if(xa(M=E0(S,e,n,c,h,s,l,_,A=[],O=[],p,i),i),y===123)if(h===0)Hu(S,e,M,M,A,i,p,l,O);else switch(g===99&&st(S,3)===110?100:g){case 100:case 108:case 109:case 115:Hu(t,M,M,r&&xa(E0(t,M,M,0,0,s,l,_,s,A=[],p,O),O),s,O,p,l,r?A:O);break;default:Hu(S,M,M,M,[""],O,0,l,O)}}c=h=E=0,I=x=1,_=S="",p=o;break;case 58:p=1+Bn(S),E=k;default:if(I<1){if(y==123)--I;else if(y==125&&I++==0&&ZR()==125)continue}switch(S+=Lp(y),y*I){case 38:x=h>0?1:(S+="\f",-1);break;case 44:l[c++]=(Bn(S)-1)*x,x=1;break;case 64:Gs()===45&&(S+=Ih(Tn())),g=Gs(),h=p=Bn(_=S+=iP(zu())),y++;break;case 45:k===45&&Bn(S)==2&&(I=0)}}return i}function E0(t,e,n,r,s,i,o,l,u,c,h,p){for(var g=s-1,E=s===0?i:[""],k=mE(E),I=0,R=0,x=0;I<r;++I)for(var y=0,_=po(t,g+1,g=hE(R=o[I])),A=t;y<k;++y)(A=fE(R>0?E[y]+" "+_:ie(_,/&\f/g,E[y])))&&(u[x++]=A);return vd(t,e,n,s===0?gd:l,u,c,h,p)}function aP(t,e,n,r){return vd(t,e,n,cE,Lp(XR()),po(t,2,-2),0,r)}function S0(t,e,n,r,s){return vd(t,e,n,Mp,po(t,0,r),po(t,r+1,-1),r,s)}function gE(t,e,n){switch(QR(t,e)){case 5103:return _e+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _e+t+t;case 4789:return Oa+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _e+t+Oa+t+Re+t+t;case 5936:switch(st(t,e+11)){case 114:return _e+t+Re+ie(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _e+t+Re+ie(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _e+t+Re+ie(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return _e+t+Re+t+t;case 6165:return _e+t+Re+"flex-"+t+t;case 5187:return _e+t+ie(t,/(\w+).+(:[^]+)/,_e+"box-$1$2"+Re+"flex-$1$2")+t;case 5443:return _e+t+Re+"flex-item-"+ie(t,/flex-|-self/g,"")+(lr(t,/flex-|baseline/)?"":Re+"grid-row-"+ie(t,/flex-|-self/g,""))+t;case 4675:return _e+t+Re+"flex-line-pack"+ie(t,/align-content|flex-|-self/g,"")+t;case 5548:return _e+t+Re+ie(t,"shrink","negative")+t;case 5292:return _e+t+Re+ie(t,"basis","preferred-size")+t;case 6060:return _e+"box-"+ie(t,"-grow","")+_e+t+Re+ie(t,"grow","positive")+t;case 4554:return _e+ie(t,/([^-])(transform)/g,"$1"+_e+"$2")+t;case 6187:return ie(ie(ie(t,/(zoom-|grab)/,_e+"$1"),/(image-set)/,_e+"$1"),t,"")+t;case 5495:case 3959:return ie(t,/(image-set\([^]*)/,_e+"$1$`$1");case 4968:return ie(ie(t,/(.+:)(flex-)?(.*)/,_e+"box-pack:$3"+Re+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_e+t+t;case 4200:if(!lr(t,/flex-|baseline/))return Re+"grid-column-align"+po(t,e)+t;break;case 2592:case 3360:return Re+ie(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,s){return e=s,lr(r.props,/grid-\w+-end/)})?~Uu(t+(n=n[e].value),"span",0)?t:Re+ie(t,"-start","")+t+Re+"grid-row-span:"+(~Uu(n,"span",0)?lr(n,/\d+/):+lr(n,/\d+/)-+lr(t,/\d+/))+";":Re+ie(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return lr(r.props,/grid-\w+-start/)})?t:Re+ie(ie(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return ie(t,/(.+)-inline(.+)/,_e+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Bn(t)-1-e>6)switch(st(t,e+1)){case 109:if(st(t,e+4)!==45)break;case 102:return ie(t,/(.+:)(.+)-([^]+)/,"$1"+_e+"$2-$3$1"+Oa+(st(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Uu(t,"stretch",0)?gE(ie(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return ie(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,s,i,o,l,u,c){return Re+s+":"+i+c+(o?Re+s+"-span:"+(l?u:+u-+i)+c:"")+t});case 4949:if(st(t,e+6)===121)return ie(t,":",":"+_e)+t;break;case 6444:switch(st(t,st(t,14)===45?18:11)){case 120:return ie(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+_e+(st(t,14)===45?"inline-":"")+"box$3$1"+_e+"$2$3$1"+Re+"$2box$3")+t;case 100:return ie(t,":",":"+Re)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return ie(t,"scroll-","scroll-snap-")+t}return t}function Cc(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function lP(t,e,n,r){switch(t.type){case JR:if(t.children.length)break;case KR:case Mp:return t.return=t.return||t.value;case cE:return"";case dE:return t.return=t.value+"{"+Cc(t.children,r)+"}";case gd:if(!Bn(t.value=t.props.join(",")))return""}return Bn(n=Cc(t.children,r))?t.return=t.value+"{"+n+"}":""}function uP(t){var e=mE(t);return function(n,r,s,i){for(var o="",l=0;l<e;l++)o+=t[l](n,r,s,i)||"";return o}}function cP(t){return function(e){e.root||(e=e.return)&&t(e)}}function dP(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case Mp:t.return=gE(t.value,t.length,n);return;case dE:return Cc([zr(t,{value:ie(t.value,"@","@"+_e)})],r);case gd:if(t.length)return YR(n=t.props,function(s){switch(lr(s,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ii(zr(t,{props:[ie(s,/:(read-\w+)/,":"+Oa+"$1")]})),Ii(zr(t,{props:[s]})),Jf(t,{props:x0(n,r)});break;case"::placeholder":Ii(zr(t,{props:[ie(s,/:(plac\w+)/,":"+_e+"input-$1")]})),Ii(zr(t,{props:[ie(s,/:(plac\w+)/,":"+Oa+"$1")]})),Ii(zr(t,{props:[ie(s,/:(plac\w+)/,Re+"input-$1")]})),Ii(zr(t,{props:[s]})),Jf(t,{props:x0(n,r)});break}return""})}}var hP={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Kt={},yo=typeof process<"u"&&Kt!==void 0&&(Kt.REACT_APP_SC_ATTR||Kt.SC_ATTR)||"data-styled",yE="active",vE="data-styled-version",_d="6.1.17",jp=`/*!sc*/
`,bc=typeof window<"u"&&"HTMLElement"in window,fP=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Kt!==void 0&&Kt.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Kt.REACT_APP_SC_DISABLE_SPEEDY!==""?Kt.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Kt.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Kt!==void 0&&Kt.SC_DISABLE_SPEEDY!==void 0&&Kt.SC_DISABLE_SPEEDY!==""&&Kt.SC_DISABLE_SPEEDY!=="false"&&Kt.SC_DISABLE_SPEEDY),xd=Object.freeze([]),vo=Object.freeze({});function mP(t,e,n){return n===void 0&&(n=vo),t.theme!==n.theme&&t.theme||e||n.theme}var wE=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),pP=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,gP=/(^-|-$)/g;function T0(t){return t.replace(pP,"-").replace(gP,"")}var yP=/(a)(d)/gi,wu=52,k0=function(t){return String.fromCharCode(t+(t>25?39:97))};function Xf(t){var e,n="";for(e=Math.abs(t);e>wu;e=e/wu|0)n=k0(e%wu)+n;return(k0(e%wu)+n).replace(yP,"$1-$2")}var Ch,_E=5381,Gi=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},xE=function(t){return Gi(_E,t)};function EE(t){return Xf(xE(t)>>>0)}function vP(t){return t.displayName||t.name||"Component"}function bh(t){return typeof t=="string"&&!0}var SE=typeof Symbol=="function"&&Symbol.for,TE=SE?Symbol.for("react.memo"):60115,wP=SE?Symbol.for("react.forward_ref"):60112,_P={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},xP={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},kE={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},EP=((Ch={})[wP]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Ch[TE]=kE,Ch);function I0(t){return("type"in(e=t)&&e.type.$$typeof)===TE?kE:"$$typeof"in t?EP[t.$$typeof]:_P;var e}var SP=Object.defineProperty,TP=Object.getOwnPropertyNames,C0=Object.getOwnPropertySymbols,kP=Object.getOwnPropertyDescriptor,IP=Object.getPrototypeOf,b0=Object.prototype;function IE(t,e,n){if(typeof e!="string"){if(b0){var r=IP(e);r&&r!==b0&&IE(t,r,n)}var s=TP(e);C0&&(s=s.concat(C0(e)));for(var i=I0(t),o=I0(e),l=0;l<s.length;++l){var u=s[l];if(!(u in xP||n&&n[u]||o&&u in o||i&&u in i)){var c=kP(e,u);try{SP(t,u,c)}catch{}}}}return t}function wo(t){return typeof t=="function"}function Vp(t){return typeof t=="object"&&"styledComponentId"in t}function $s(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function Zf(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function ll(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function em(t,e,n){if(n===void 0&&(n=!1),!n&&!ll(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=em(t[r],e[r]);else if(ll(e))for(var r in e)t[r]=em(t[r],e[r]);return t}function Fp(t,e){Object.defineProperty(t,"toString",{value:e})}function kl(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var CP=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,s=r.length,i=s;e>=i;)if((i<<=1)<0)throw kl(16,"".concat(e));this.groupSizes=new Uint32Array(i),this.groupSizes.set(r),this.length=i;for(var o=s;o<i;o++)this.groupSizes[o]=0}for(var l=this.indexOfGroup(e+1),u=(o=0,n.length);o<u;o++)this.tag.insertRule(l,n[o])&&(this.groupSizes[e]++,l++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),s=r+n;this.groupSizes[e]=0;for(var i=r;i<s;i++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],s=this.indexOfGroup(e),i=s+r,o=s;o<i;o++)n+="".concat(this.tag.getRule(o)).concat(jp);return n},t}(),Wu=new Map,Rc=new Map,Gu=1,_u=function(t){if(Wu.has(t))return Wu.get(t);for(;Rc.has(Gu);)Gu++;var e=Gu++;return Wu.set(t,e),Rc.set(e,t),e},bP=function(t,e){Gu=e+1,Wu.set(t,e),Rc.set(e,t)},RP="style[".concat(yo,"][").concat(vE,'="').concat(_d,'"]'),PP=new RegExp("^".concat(yo,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),AP=function(t,e,n){for(var r,s=n.split(","),i=0,o=s.length;i<o;i++)(r=s[i])&&t.registerName(e,r)},NP=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(jp),s=[],i=0,o=r.length;i<o;i++){var l=r[i].trim();if(l){var u=l.match(PP);if(u){var c=0|parseInt(u[1],10),h=u[2];c!==0&&(bP(h,c),AP(t,h,u[3]),t.getTag().insertRules(c,s)),s.length=0}else s.push(l)}}},R0=function(t){for(var e=document.querySelectorAll(RP),n=0,r=e.length;n<r;n++){var s=e[n];s&&s.getAttribute(yo)!==yE&&(NP(t,s),s.parentNode&&s.parentNode.removeChild(s))}};function DP(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var CE=function(t){var e=document.head,n=t||e,r=document.createElement("style"),s=function(l){var u=Array.from(l.querySelectorAll("style[".concat(yo,"]")));return u[u.length-1]}(n),i=s!==void 0?s.nextSibling:null;r.setAttribute(yo,yE),r.setAttribute(vE,_d);var o=DP();return o&&r.setAttribute("nonce",o),n.insertBefore(r,i),r},OP=function(){function t(e){this.element=CE(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,s=0,i=r.length;s<i;s++){var o=r[s];if(o.ownerNode===n)return o}throw kl(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),MP=function(){function t(e){this.element=CE(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),LP=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),P0=bc,jP={isServer:!bc,useCSSOMInjection:!fP},bE=function(){function t(e,n,r){e===void 0&&(e=vo),n===void 0&&(n={});var s=this;this.options=$t($t({},jP),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&bc&&P0&&(P0=!1,R0(this)),Fp(this,function(){return function(i){for(var o=i.getTag(),l=o.length,u="",c=function(p){var g=function(x){return Rc.get(x)}(p);if(g===void 0)return"continue";var E=i.names.get(g),k=o.getGroup(p);if(E===void 0||!E.size||k.length===0)return"continue";var I="".concat(yo,".g").concat(p,'[id="').concat(g,'"]'),R="";E!==void 0&&E.forEach(function(x){x.length>0&&(R+="".concat(x,","))}),u+="".concat(k).concat(I,'{content:"').concat(R,'"}').concat(jp)},h=0;h<l;h++)c(h);return u}(s)})}return t.registerId=function(e){return _u(e)},t.prototype.rehydrate=function(){!this.server&&bc&&R0(this)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t($t($t({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,s=n.target;return n.isServer?new LP(s):r?new OP(s):new MP(s)}(this.options),new CP(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(_u(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(_u(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(_u(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),VP=/&/g,FP=/^\s*\/\/.*$/gm;function RE(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=RE(n.children,e)),n})}function BP(t){var e,n,r,s=vo,i=s.options,o=i===void 0?vo:i,l=s.plugins,u=l===void 0?xd:l,c=function(g,E,k){return k.startsWith(n)&&k.endsWith(n)&&k.replaceAll(n,"").length>0?".".concat(e):g},h=u.slice();h.push(function(g){g.type===gd&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(VP,n).replace(r,c))}),o.prefix&&h.push(dP),h.push(lP);var p=function(g,E,k,I){E===void 0&&(E=""),k===void 0&&(k=""),I===void 0&&(I="&"),e=I,n=E,r=new RegExp("\\".concat(n,"\\b"),"g");var R=g.replace(FP,""),x=oP(k||E?"".concat(k," ").concat(E," { ").concat(R," }"):R);o.namespace&&(x=RE(x,o.namespace));var y=[];return Cc(x,uP(h.concat(cP(function(_){return y.push(_)})))),y};return p.hash=u.length?u.reduce(function(g,E){return E.name||kl(15),Gi(g,E.name)},_E).toString():"",p}var $P=new bE,tm=BP(),PE=Ys.createContext({shouldForwardProp:void 0,styleSheet:$P,stylis:tm});PE.Consumer;Ys.createContext(void 0);function A0(){return P.useContext(PE)}var AE=function(){function t(e,n){var r=this;this.inject=function(s,i){i===void 0&&(i=tm);var o=r.name+i.hash;s.hasNameForId(r.id,o)||s.insertRules(r.id,o,i(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,Fp(this,function(){throw kl(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=tm),this.name+e.hash},t}(),UP=function(t){return t>="A"&&t<="Z"};function N0(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;UP(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var NE=function(t){return t==null||t===!1||t===""},DE=function(t){var e,n,r=[];for(var s in t){var i=t[s];t.hasOwnProperty(s)&&!NE(i)&&(Array.isArray(i)&&i.isCss||wo(i)?r.push("".concat(N0(s),":"),i,";"):ll(i)?r.push.apply(r,al(al(["".concat(s," {")],DE(i),!1),["}"],!1)):r.push("".concat(N0(s),": ").concat((e=s,(n=i)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in hP||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function qs(t,e,n,r){if(NE(t))return[];if(Vp(t))return[".".concat(t.styledComponentId)];if(wo(t)){if(!wo(i=t)||i.prototype&&i.prototype.isReactComponent||!e)return[t];var s=t(e);return qs(s,e,n,r)}var i;return t instanceof AE?n?(t.inject(n,r),[t.getName(r)]):[t]:ll(t)?DE(t):Array.isArray(t)?Array.prototype.concat.apply(xd,t.map(function(o){return qs(o,e,n,r)})):[t.toString()]}function zP(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(wo(n)&&!Vp(n))return!1}return!0}var HP=xE(_d),WP=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&zP(e),this.componentId=n,this.baseHash=Gi(HP,n),this.baseStyle=r,bE.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var s=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))s=$s(s,this.staticRulesId);else{var i=Zf(qs(this.rules,e,n,r)),o=Xf(Gi(this.baseHash,i)>>>0);if(!n.hasNameForId(this.componentId,o)){var l=r(i,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,l)}s=$s(s,o),this.staticRulesId=o}else{for(var u=Gi(this.baseHash,r.hash),c="",h=0;h<this.rules.length;h++){var p=this.rules[h];if(typeof p=="string")c+=p;else if(p){var g=Zf(qs(p,e,n,r));u=Gi(u,g+h),c+=g}}if(c){var E=Xf(u>>>0);n.hasNameForId(this.componentId,E)||n.insertRules(this.componentId,E,r(c,".".concat(E),void 0,this.componentId)),s=$s(s,E)}}return s},t}(),OE=Ys.createContext(void 0);OE.Consumer;var Rh={};function GP(t,e,n){var r=Vp(t),s=t,i=!bh(t),o=e.attrs,l=o===void 0?xd:o,u=e.componentId,c=u===void 0?function(A,O){var M=typeof A!="string"?"sc":T0(A);Rh[M]=(Rh[M]||0)+1;var S="".concat(M,"-").concat(EE(_d+M+Rh[M]));return O?"".concat(O,"-").concat(S):S}(e.displayName,e.parentComponentId):u,h=e.displayName,p=h===void 0?function(A){return bh(A)?"styled.".concat(A):"Styled(".concat(vP(A),")")}(t):h,g=e.displayName&&e.componentId?"".concat(T0(e.displayName),"-").concat(e.componentId):e.componentId||c,E=r&&s.attrs?s.attrs.concat(l).filter(Boolean):l,k=e.shouldForwardProp;if(r&&s.shouldForwardProp){var I=s.shouldForwardProp;if(e.shouldForwardProp){var R=e.shouldForwardProp;k=function(A,O){return I(A,O)&&R(A,O)}}else k=I}var x=new WP(n,g,r?s.componentStyle:void 0);function y(A,O){return function(M,S,v){var T=M.attrs,C=M.componentStyle,N=M.defaultProps,D=M.foldedComponentIds,b=M.styledComponentId,de=M.target,Ue=Ys.useContext(OE),Mt=A0(),Ct=M.shouldForwardProp||Mt.shouldForwardProp,H=mP(S,Ue,N)||vo,K=function(Qe,at,je){for(var Nn,Lt=$t($t({},at),{className:void 0,theme:je}),jt=0;jt<Qe.length;jt+=1){var nn=wo(Nn=Qe[jt])?Nn(Lt):Nn;for(var tt in nn)Lt[tt]=tt==="className"?$s(Lt[tt],nn[tt]):tt==="style"?$t($t({},Lt[tt]),nn[tt]):nn[tt]}return at.className&&(Lt.className=$s(Lt.className,at.className)),Lt}(T,S,H),Q=K.as||de,ve={};for(var oe in K)K[oe]===void 0||oe[0]==="$"||oe==="as"||oe==="theme"&&K.theme===H||(oe==="forwardedAs"?ve.as=K.forwardedAs:Ct&&!Ct(oe,Q)||(ve[oe]=K[oe]));var Te=function(Qe,at){var je=A0(),Nn=Qe.generateAndInjectStyles(at,je.styleSheet,je.stylis);return Nn}(C,K),bt=$s(D,b);return Te&&(bt+=" "+Te),K.className&&(bt+=" "+K.className),ve[bh(Q)&&!wE.has(Q)?"class":"className"]=bt,v&&(ve.ref=v),P.createElement(Q,ve)}(_,A,O)}y.displayName=p;var _=Ys.forwardRef(y);return _.attrs=E,_.componentStyle=x,_.displayName=p,_.shouldForwardProp=k,_.foldedComponentIds=r?$s(s.foldedComponentIds,s.styledComponentId):"",_.styledComponentId=g,_.target=r?s.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(A){this._foldedDefaultProps=r?function(O){for(var M=[],S=1;S<arguments.length;S++)M[S-1]=arguments[S];for(var v=0,T=M;v<T.length;v++)em(O,T[v],!0);return O}({},s.defaultProps,A):A}}),Fp(_,function(){return".".concat(_.styledComponentId)}),i&&IE(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function D0(t,e){for(var n=[t[0]],r=0,s=e.length;r<s;r+=1)n.push(e[r],t[r+1]);return n}var O0=function(t){return Object.assign(t,{isCss:!0})};function ME(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(wo(t)||ll(t))return O0(qs(D0(xd,al([t],e,!0))));var r=t;return e.length===0&&r.length===1&&typeof r[0]=="string"?qs(r):O0(qs(D0(r,e)))}function nm(t,e,n){if(n===void 0&&(n=vo),!e)throw kl(1,e);var r=function(s){for(var i=[],o=1;o<arguments.length;o++)i[o-1]=arguments[o];return t(e,n,ME.apply(void 0,al([s],i,!1)))};return r.attrs=function(s){return nm(t,e,$t($t({},n),{attrs:Array.prototype.concat(n.attrs,s).filter(Boolean)}))},r.withConfig=function(s){return nm(t,e,$t($t({},n),s))},r}var LE=function(t){return nm(GP,t)},Bp=LE;wE.forEach(function(t){Bp[t]=LE(t)});function jE(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=Zf(ME.apply(void 0,al([t],e,!1))),s=EE(r);return new AE(s,r)}var $p={};$p.match=XP;$p.parse=VE;var qP=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,KP=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,JP=/^(?:(min|max)-)?(.+)/,QP=/(em|rem|px|cm|mm|in|pt|pc)?$/,YP=/(dpi|dpcm|dppx)?$/;function XP(t,e){return VE(t).some(function(n){var r=n.inverse,s=n.type==="all"||e.type===n.type;if(s&&r||!(s||r))return!1;var i=n.expressions.every(function(o){var l=o.feature,u=o.modifier,c=o.value,h=e[l];if(!h)return!1;switch(l){case"orientation":case"scan":return h.toLowerCase()===c.toLowerCase();case"width":case"height":case"device-width":case"device-height":c=j0(c),h=j0(h);break;case"resolution":c=L0(c),h=L0(h);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":c=M0(c),h=M0(h);break;case"grid":case"color":case"color-index":case"monochrome":c=parseInt(c,10)||1,h=parseInt(h,10)||0;break}switch(u){case"min":return h>=c;case"max":return h<=c;default:return h===c}});return i&&!r||!i&&r})}function VE(t){return t.split(",").map(function(e){e=e.trim();var n=e.match(qP),r=n[1],s=n[2],i=n[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=s?s.toLowerCase():"all",i=i.match(/\([^\)]+\)/g)||[],o.expressions=i.map(function(l){var u=l.match(KP),c=u[1].toLowerCase().match(JP);return{modifier:c[1],feature:c[2],value:u[2]}}),o})}function M0(t){var e=Number(t),n;return e||(n=t.match(/^(\d+)\s*\/\s*(\d+)$/),e=n[1]/n[2]),e}function L0(t){var e=parseFloat(t),n=String(t).match(YP)[1];switch(n){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function j0(t){var e=parseFloat(t),n=String(t).match(QP)[1];switch(n){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var ZP=$p.match,V0=typeof window<"u"?window.matchMedia:null;function eA(t,e,n){var r=this,s;V0&&!n&&(s=V0.call(window,t)),s?(this.matches=s.matches,this.media=s.media,s.addListener(l)):(this.matches=ZP(t,e),this.media=t),this.addListener=i,this.removeListener=o,this.dispose=u;function i(c){s&&s.addListener(c)}function o(c){s&&s.removeListener(c)}function l(c){r.matches=c.matches,r.media=c.media}function u(){s&&s.removeListener(l)}}function tA(t,e,n){return new eA(t,e,n)}var nA=tA;const rA=Jc(nA);var sA=/[A-Z]/g,iA=/^ms-/,Ph={};function oA(t){return"-"+t.toLowerCase()}function FE(t){if(Ph.hasOwnProperty(t))return Ph[t];var e=t.replace(sA,oA);return Ph[t]=iA.test(e)?"-"+e:e}function aA(t,e){if(t===e)return!0;if(!t||!e)return!1;const n=Object.keys(t),r=Object.keys(e),s=n.length;if(r.length!==s)return!1;for(let i=0;i<s;i++){const o=n[i];if(t[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}var BE={exports:{}},lA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",uA=lA,cA=uA;function $E(){}function UE(){}UE.resetWarningCache=$E;var dA=function(){function t(r,s,i,o,l,u){if(u!==cA){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:UE,resetWarningCache:$E};return n.PropTypes=n,n};BE.exports=dA();var hA=BE.exports;const we=Jc(hA),Rt=we.oneOfType([we.string,we.number]),zE={all:we.bool,grid:we.bool,aural:we.bool,braille:we.bool,handheld:we.bool,print:we.bool,projection:we.bool,screen:we.bool,tty:we.bool,tv:we.bool,embossed:we.bool},fA={orientation:we.oneOf(["portrait","landscape"]),scan:we.oneOf(["progressive","interlace"]),aspectRatio:we.string,deviceAspectRatio:we.string,height:Rt,deviceHeight:Rt,width:Rt,deviceWidth:Rt,color:we.bool,colorIndex:we.bool,monochrome:we.bool,resolution:Rt,type:Object.keys(zE)},{type:c5,...mA}=fA,pA={minAspectRatio:we.string,maxAspectRatio:we.string,minDeviceAspectRatio:we.string,maxDeviceAspectRatio:we.string,minHeight:Rt,maxHeight:Rt,minDeviceHeight:Rt,maxDeviceHeight:Rt,minWidth:Rt,maxWidth:Rt,minDeviceWidth:Rt,maxDeviceWidth:Rt,minColor:we.number,maxColor:we.number,minColorIndex:we.number,maxColorIndex:we.number,minMonochrome:we.number,maxMonochrome:we.number,minResolution:Rt,maxResolution:Rt,...mA},gA={...zE,...pA};var yA={all:gA};const vA=t=>`not ${t}`,wA=(t,e)=>{const n=FE(t);return typeof e=="number"&&(e=`${e}px`),e===!0?n:e===!1?vA(n):`(${n}: ${e})`},_A=t=>t.join(" and "),xA=t=>{const e=[];return Object.keys(yA.all).forEach(n=>{const r=t[n];r!=null&&e.push(wA(n,r))}),_A(e)},EA=P.createContext(void 0),SA=t=>t.query||xA(t),F0=t=>t?Object.keys(t).reduce((n,r)=>(n[FE(r)]=t[r],n),{}):void 0,HE=()=>{const t=P.useRef(!1);return P.useEffect(()=>{t.current=!0},[]),t.current},TA=t=>{const e=P.useContext(EA),n=()=>F0(t)||F0(e),[r,s]=P.useState(n);return P.useEffect(()=>{const i=n();aA(r,i)||s(i)},[t,e]),r},kA=t=>{const e=()=>SA(t),[n,r]=P.useState(e);return P.useEffect(()=>{const s=e();n!==s&&r(s)},[t]),n},IA=(t,e)=>{const n=()=>rA(t,e||{},!!e),[r,s]=P.useState(n),i=HE();return P.useEffect(()=>{if(i){const o=n();return s(o),()=>{o&&o.dispose()}}},[t,e]),r},CA=t=>{const[e,n]=P.useState(t.matches);return P.useEffect(()=>{const r=s=>{n(s.matches)};return t.addListener(r),n(t.matches),()=>{t.removeListener(r)}},[t]),e},bA=(t,e,n)=>{const r=TA(e),s=kA(t);if(!s)throw new Error("Invalid or missing MediaQuery!");const i=IA(s,r),o=CA(i);return HE(),P.useEffect(()=>{},[o]),P.useEffect(()=>()=>{i&&i.dispose()},[]),o},RA=t=>jE`
  0% {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1.2);
    opacity: 0;
  }
  20% {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  60% {
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) scale(1);
    opacity: 1;
  }
  100% {
    top: ${t?"64px":"50%"};
    left: ${t?"calc(100% - 100px)":"44%"};
    transform: ${"translate(-50%, -50%) scale(0.2)"};
    opacity: 0;
  }
`,PA=jE`
  0% {
    text-shadow: 0 0 20px rgba(76, 175, 80, 0.8), 0 0 40px rgba(76, 175, 80, 0.6);
  }
  50% {
    text-shadow: 0 0 30px rgba(76, 175, 80, 1), 0 0 50px rgba(76, 175, 80, 0.8);
  }
  100% {
    text-shadow: 0 0 20px rgba(76, 175, 80, 0.8), 0 0 40px rgba(76, 175, 80, 0.6);
  }
`,AA=Bp.div`
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  z-index: 99999;
  pointer-events: none;
  display: ${t=>t.isVisible?"flex":"none"};
  justify-content: center;
  align-items: center;
  background: rgba(0, 0, 0, 0.5);
`,NA=Bp.div`
  position: absolute;
  font-size: ${t=>t.isMobile?"120px":"160px"};
  font-weight: 900;
  color: #4CAF50;
  animation: ${t=>RA(t.isMobile)} 500ms ease-out forwards,
             ${PA} 0.5s ease-in-out infinite;
  text-align: center;
  text-shadow: 0 0 20px rgba(76, 175, 80, 0.8), 0 0 40px rgba(76, 175, 80, 0.6);
  -webkit-text-stroke: 2px white;
  will-change: transform, opacity;
`,DA=({score:t,onAnimationComplete:e})=>{const[n,r]=P.useState(!1),s=bA({maxWidth:768});return P.useEffect(()=>{const i=setTimeout(()=>{r(!0)},50),o=setTimeout(()=>{r(!1),e()},500);return()=>{clearTimeout(i),clearTimeout(o)}},[t,e]),f.jsx(AA,{isVisible:n,children:f.jsxs(NA,{isMobile:s,children:["+",t]})})},WE=({originalScore:t,isVisible:e,onComplete:n})=>{const[r,s]=P.useState(!1),[i,o]=P.useState(!1),l=P.useRef(!1),u=P.useRef(null);P.useEffect(()=>()=>{u.current&&(clearTimeout(u.current),u.current=null)},[e]),P.useEffect(()=>{e&&!l.current?(s(!0),u.current=setTimeout(()=>{o(!0)},800),u.current=setTimeout(()=>{l.current||(l.current=!0,s(!1),o(!1),n())},2500)):e||(s(!1),o(!1),l.current=!1)},[e,n]);const c=Math.floor(t/2);return f.jsx("div",{className:`fixed inset-0 z-[99999] pointer-events-none backdrop-blur-sm flex items-center justify-center transition-opacity duration-300 ${r?"opacity-100 bg-black/40":"opacity-0"}`,children:f.jsx("div",{className:"relative",children:f.jsxs("div",{className:"text-center space-y-4",children:[f.jsx("div",{className:`transition-all duration-500 ${i?"opacity-50":"opacity-100"}`,children:f.jsxs("div",{className:`text-7xl sm:text-8xl font-black text-black ${i?"line-through":""} 
              drop-shadow-[0_0_20px_rgba(0,0,0,0.8)]
              [-webkit-text-stroke:2px_white]`,children:["+",t.toLocaleString()]})}),f.jsx("div",{className:`transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}`,children:f.jsxs("div",{className:`text-6xl sm:text-7xl font-black text-red-500 animate-bounce
              drop-shadow-[0_0_20px_rgba(239,68,68,0.8)]
              [-webkit-text-stroke:2px_white]`,children:["+",c.toLocaleString()]})}),f.jsx("div",{className:`text-3xl sm:text-4xl font-black text-red-500 tracking-wider transition-all duration-500 ${i?"opacity-100 translate-y-0":"opacity-0 translate-y-4"}
            drop-shadow-[0_0_20px_rgba(239,68,68,0.8)]
            [-webkit-text-stroke:2px_white]`,children:"HELP PENALTY -50%"})]})})})},B0=({value:t,className:e})=>{const[n,r]=P.useState(t),[s,i]=P.useState(!1),o=P.useRef(t);return P.useEffect(()=>{o.current!==t&&(i(!0),setTimeout(()=>{r(t),i(!1),o.current=t},250))},[t]),f.jsxs("span",{className:`inline-block relative w-[2ch] text-center font-mono font-bold text-xl sm:text-2xl ${e||""}`,style:{perspective:"300px"},children:[f.jsx("span",{className:`block transition-transform duration-200 ease-in-out ${s?"flip-anim":""}`,style:{transformOrigin:"50% 100%",display:"inline-block"},children:n}),f.jsx("style",{children:`
        .flip-anim {
          animation: flip-up 0.25s cubic-bezier(0.4,0.2,0.2,1);
        }
        @keyframes flip-up {
          0% { transform: rotateX(0deg); }
          50% { transform: rotateX(-90deg); opacity: 0.5; }
          100% { transform: rotateX(0deg); }
        }
      `})]})},OA=()=>{};var $0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},MA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],l=t[n++],u=((s&7)<<18|(i&63)<<12|(o&63)<<6|l&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},qE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,l=o?t[s+1]:0,u=s+2<t.length,c=u?t[s+2]:0,h=i>>2,p=(i&3)<<4|l>>4;let g=(l&15)<<2|c>>6,E=c&63;u||(E=64,o||(g=64)),r.push(n[h],n[p],n[g],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(GE(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):MA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],l=s<t.length?n[t.charAt(s)]:0;++s;const c=s<t.length?n[t.charAt(s)]:64;++s;const p=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||l==null||c==null||p==null)throw new LA;const g=i<<2|l>>4;if(r.push(g),c!==64){const E=l<<4&240|c>>2;if(r.push(E),p!==64){const k=c<<6&192|p;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class LA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jA=function(t){const e=GE(t);return qE.encodeByteArray(e,!0)},Pc=function(t){return jA(t).replace(/\./g,"")},KE=function(t){try{return qE.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=()=>VA().__FIREBASE_DEFAULTS__,BA=()=>{if(typeof process>"u"||typeof $0>"u")return;const t=$0.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},$A=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&KE(t[1]);return e&&JSON.parse(e)},Ed=()=>{try{return OA()||FA()||BA()||$A()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},JE=t=>{var e,n;return(n=(e=Ed())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},UA=t=>{const e=JE(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},QE=()=>{var t;return(t=Ed())===null||t===void 0?void 0:t.config},YE=t=>{var e;return(e=Ed())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zA{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HA(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pc(JSON.stringify(n)),Pc(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function WA(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function GA(){var t;const e=(t=Ed())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function qA(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function XE(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function KA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function JA(){const t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function QA(){return!GA()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ZE(){try{return typeof indexedDB=="object"}catch{return!1}}function eS(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}function YA(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XA="FirebaseError";class Pn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=XA,Object.setPrototypeOf(this,Pn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ui.prototype.create)}}class ui{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?ZA(i,r):"Error",l=`${this.serviceName}: ${o} (${s}).`;return new Pn(s,l,r)}}function ZA(t,e){return t.replace(eN,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const eN=/\{\$([^}]+)}/g;function tN(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ps(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(U0(i)&&U0(o)){if(!ps(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function U0(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function nN(t,e){const n=new rN(t,e);return n.subscribe.bind(n)}class rN{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");sN(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Ah),s.error===void 0&&(s.error=Ah),s.complete===void 0&&(s.complete=Ah);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function sN(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ah(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iN=1e3,oN=2,aN=4*60*60*1e3,lN=.5;function z0(t,e=iN,n=oN){const r=e*Math.pow(n,t),s=Math.round(lN*r*(Math.random()-.5)*2);return Math.min(aN,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(t){return t&&t._delegate?t._delegate:t}class Cn{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zA;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(s)return null;throw i}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dN(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);r===l&&o.resolve(s)}return s}onInit(e,n){var r;const s=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(s,i);const o=this.instances.get(s);return o&&e(o,s),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:cN(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cN(t){return t===Ls?void 0:t}function dN(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uN(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ue;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ue||(ue={}));const fN={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},mN=ue.INFO,pN={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},gN=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=pN[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Sd{constructor(e){this.name=e,this._logLevel=mN,this._logHandler=gN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fN[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}}const yN=(t,e)=>e.some(n=>t instanceof n);let H0,W0;function vN(){return H0||(H0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wN(){return W0||(W0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const tS=new WeakMap,rm=new WeakMap,nS=new WeakMap,Nh=new WeakMap,Up=new WeakMap;function _N(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(cs(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&tS.set(n,t)}).catch(()=>{}),Up.set(e,t),e}function xN(t){if(rm.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});rm.set(t,e)}let sm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return rm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||nS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return cs(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function EN(t){sm=t(sm)}function SN(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Dh(this),e,...n);return nS.set(r,e.sort?e.sort():[e]),cs(r)}:wN().includes(t)?function(...e){return t.apply(Dh(this),e),cs(tS.get(this))}:function(...e){return cs(t.apply(Dh(this),e))}}function TN(t){return typeof t=="function"?SN(t):(t instanceof IDBTransaction&&xN(t),yN(t,vN())?new Proxy(t,sm):t)}function cs(t){if(t instanceof IDBRequest)return _N(t);if(Nh.has(t))return Nh.get(t);const e=TN(t);return e!==t&&(Nh.set(t,e),Up.set(e,t)),e}const Dh=t=>Up.get(t);function rS(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),l=cs(o);return r&&o.addEventListener("upgradeneeded",u=>{r(cs(o.result),u.oldVersion,u.newVersion,cs(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),l.then(u=>{i&&u.addEventListener("close",()=>i()),s&&u.addEventListener("versionchange",c=>s(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const kN=["get","getKey","getAll","getAllKeys","count"],IN=["put","add","delete","clear"],Oh=new Map;function G0(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Oh.get(e))return Oh.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=IN.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||kN.includes(n)))return;const i=async function(o,...l){const u=this.transaction(o,s?"readwrite":"readonly");let c=u.store;return r&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),s&&u.done]))[0]};return Oh.set(e,i),i}EN(t=>({...t,get:(e,n,r)=>G0(e,n)||t.get(e,n,r),has:(e,n)=>!!G0(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(bN(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function bN(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const im="@firebase/app",q0="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Er=new Sd("@firebase/app"),RN="@firebase/app-compat",PN="@firebase/analytics-compat",AN="@firebase/analytics",NN="@firebase/app-check-compat",DN="@firebase/app-check",ON="@firebase/auth",MN="@firebase/auth-compat",LN="@firebase/database",jN="@firebase/data-connect",VN="@firebase/database-compat",FN="@firebase/functions",BN="@firebase/functions-compat",$N="@firebase/installations",UN="@firebase/installations-compat",zN="@firebase/messaging",HN="@firebase/messaging-compat",WN="@firebase/performance",GN="@firebase/performance-compat",qN="@firebase/remote-config",KN="@firebase/remote-config-compat",JN="@firebase/storage",QN="@firebase/storage-compat",YN="@firebase/firestore",XN="@firebase/vertexai",ZN="@firebase/firestore-compat",eD="firebase",tD="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const om="[DEFAULT]",nD={[im]:"fire-core",[RN]:"fire-core-compat",[AN]:"fire-analytics",[PN]:"fire-analytics-compat",[DN]:"fire-app-check",[NN]:"fire-app-check-compat",[ON]:"fire-auth",[MN]:"fire-auth-compat",[LN]:"fire-rtdb",[jN]:"fire-data-connect",[VN]:"fire-rtdb-compat",[FN]:"fire-fn",[BN]:"fire-fn-compat",[$N]:"fire-iid",[UN]:"fire-iid-compat",[zN]:"fire-fcm",[HN]:"fire-fcm-compat",[WN]:"fire-perf",[GN]:"fire-perf-compat",[qN]:"fire-rc",[KN]:"fire-rc-compat",[JN]:"fire-gcs",[QN]:"fire-gcs-compat",[YN]:"fire-fst",[ZN]:"fire-fst-compat",[XN]:"fire-vertex","fire-js":"fire-js",[eD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ac=new Map,rD=new Map,am=new Map;function K0(t,e){try{t.container.addComponent(e)}catch(n){Er.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jn(t){const e=t.name;if(am.has(e))return Er.debug(`There were multiple attempts to register component ${e}.`),!1;am.set(e,t);for(const n of Ac.values())K0(n,t);for(const n of rD.values())K0(n,t);return!0}function ci(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Un(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ds=new ui("app","Firebase",sD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Cn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ds.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mo=tD;function sS(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:om,automaticDataCollectionEnabled:!1},e),s=r.name;if(typeof s!="string"||!s)throw ds.create("bad-app-name",{appName:String(s)});if(n||(n=QE()),!n)throw ds.create("no-options");const i=Ac.get(s);if(i){if(ps(n,i.options)&&ps(r,i.config))return i;throw ds.create("duplicate-app",{appName:s})}const o=new hN(s);for(const u of am.values())o.addComponent(u);const l=new iD(n,r,o);return Ac.set(s,l),l}function zp(t=om){const e=Ac.get(t);if(!e&&t===om&&QE())return sS();if(!e)throw ds.create("no-app",{appName:t});return e}function ln(t,e,n){var r;let s=(r=nD[t])!==null&&r!==void 0?r:t;n&&(s+=`-${n}`);const i=s.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const l=[`Unable to register library "${s}" with version "${e}":`];i&&l.push(`library name "${s}" contains illegal characters (whitespace or "/")`),i&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Er.warn(l.join(" "));return}Jn(new Cn(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oD="firebase-heartbeat-database",aD=1,ul="firebase-heartbeat-store";let Mh=null;function iS(){return Mh||(Mh=rS(oD,aD,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw ds.create("idb-open",{originalErrorMessage:t.message})})),Mh}async function lD(t){try{const n=(await iS()).transaction(ul),r=await n.objectStore(ul).get(oS(t));return await n.done,r}catch(e){if(e instanceof Pn)Er.warn(e.message);else{const n=ds.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Er.warn(n.message)}}}async function J0(t,e){try{const r=(await iS()).transaction(ul,"readwrite");await r.objectStore(ul).put(e,oS(t)),await r.done}catch(n){if(n instanceof Pn)Er.warn(n.message);else{const r=ds.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Er.warn(r.message)}}}function oS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uD=1024,cD=30;class dD{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fD(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>cD){const o=mD(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Er.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Q0(),{heartbeatsToSend:r,unsentEntries:s}=hD(this._heartbeatsCache.heartbeats),i=Pc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Er.warn(n),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function hD(t,e=uD){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),Y0(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),Y0(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fD{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ZE()?eS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await lD(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return J0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return J0(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function Y0(t){return Pc(JSON.stringify({version:2,heartbeats:t})).length}function mD(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pD(t){Jn(new Cn("platform-logger",e=>new CN(e),"PRIVATE")),Jn(new Cn("heartbeat",e=>new dD(e),"PRIVATE")),ln(im,q0,t),ln(im,q0,"esm2017"),ln("fire-js","")}pD("");var gD="firebase",yD="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln(gD,yD,"app");const aS="@firebase/installations",Hp="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lS=1e4,uS=`w:${Hp}`,cS="FIS_v2",vD="https://firebaseinstallations.googleapis.com/v1",wD=60*60*1e3,_D="installations",xD="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ED={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},ri=new ui(_D,xD,ED);function dS(t){return t instanceof Pn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hS({projectId:t}){return`${vD}/projects/${t}/installations`}function fS(t){return{token:t.token,requestStatus:2,expiresIn:TD(t.expiresIn),creationTime:Date.now()}}async function mS(t,e){const r=(await e.json()).error;return ri.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function pS({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function SD(t,{refreshToken:e}){const n=pS(t);return n.append("Authorization",kD(e)),n}async function gS(t){const e=await t();return e.status>=500&&e.status<600?t():e}function TD(t){return Number(t.replace("s","000"))}function kD(t){return`${cS} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ID({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=hS(t),s=pS(t),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={fid:n,authVersion:cS,appId:t.appId,sdkVersion:uS},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await gS(()=>fetch(r,l));if(u.ok){const c=await u.json();return{fid:c.fid||n,registrationStatus:2,refreshToken:c.refreshToken,authToken:fS(c.authToken)}}else throw await mS("Create Installation",u)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CD(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bD=/^[cdef][\w-]{21}$/,lm="";function RD(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=PD(t);return bD.test(n)?n:lm}catch{return lm}}function PD(t){return CD(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vS=new Map;function wS(t,e){const n=Td(t);_S(n,e),AD(n,e)}function _S(t,e){const n=vS.get(t);if(n)for(const r of n)r(e)}function AD(t,e){const n=ND();n&&n.postMessage({key:t,fid:e}),DD()}let Us=null;function ND(){return!Us&&"BroadcastChannel"in self&&(Us=new BroadcastChannel("[Firebase] FID Change"),Us.onmessage=t=>{_S(t.data.key,t.data.fid)}),Us}function DD(){vS.size===0&&Us&&(Us.close(),Us=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OD="firebase-installations-database",MD=1,si="firebase-installations-store";let Lh=null;function Wp(){return Lh||(Lh=rS(OD,MD,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(si)}}})),Lh}async function Nc(t,e){const n=Td(t),s=(await Wp()).transaction(si,"readwrite"),i=s.objectStore(si),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&wS(t,e.fid),e}async function xS(t){const e=Td(t),r=(await Wp()).transaction(si,"readwrite");await r.objectStore(si).delete(e),await r.done}async function kd(t,e){const n=Td(t),s=(await Wp()).transaction(si,"readwrite"),i=s.objectStore(si),o=await i.get(n),l=e(o);return l===void 0?await i.delete(n):await i.put(l,n),await s.done,l&&(!o||o.fid!==l.fid)&&wS(t,l.fid),l}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t){let e;const n=await kd(t.appConfig,r=>{const s=LD(r),i=jD(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===lm?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function LD(t){const e=t||{fid:RD(),registrationStatus:0};return ES(e)}function jD(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(ri.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=VD(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:FD(t)}:{installationEntry:e}}async function VD(t,e){try{const n=await ID(t,e);return Nc(t.appConfig,n)}catch(n){throw dS(n)&&n.customData.serverCode===409?await xS(t.appConfig):await Nc(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function FD(t){let e=await X0(t.appConfig);for(;e.registrationStatus===1;)await yS(100),e=await X0(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Gp(t);return r||n}return e}function X0(t){return kd(t,e=>{if(!e)throw ri.create("installation-not-found");return ES(e)})}function ES(t){return BD(t)?{fid:t.fid,registrationStatus:0}:t}function BD(t){return t.registrationStatus===1&&t.registrationTime+lS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $D({appConfig:t,heartbeatServiceProvider:e},n){const r=UD(t,n),s=SD(t,n),i=e.getImmediate({optional:!0});if(i){const c=await i.getHeartbeatsHeader();c&&s.append("x-firebase-client",c)}const o={installation:{sdkVersion:uS,appId:t.appId}},l={method:"POST",headers:s,body:JSON.stringify(o)},u=await gS(()=>fetch(r,l));if(u.ok){const c=await u.json();return fS(c)}else throw await mS("Generate Auth Token",u)}function UD(t,{fid:e}){return`${hS(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qp(t,e=!1){let n;const r=await kd(t.appConfig,i=>{if(!SS(i))throw ri.create("not-registered");const o=i.authToken;if(!e&&WD(o))return i;if(o.requestStatus===1)return n=zD(t,e),i;{if(!navigator.onLine)throw ri.create("app-offline");const l=qD(i);return n=HD(t,l),l}});return n?await n:r.authToken}async function zD(t,e){let n=await Z0(t.appConfig);for(;n.authToken.requestStatus===1;)await yS(100),n=await Z0(t.appConfig);const r=n.authToken;return r.requestStatus===0?qp(t,e):r}function Z0(t){return kd(t,e=>{if(!SS(e))throw ri.create("not-registered");const n=e.authToken;return KD(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function HD(t,e){try{const n=await $D(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await Nc(t.appConfig,r),n}catch(n){if(dS(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await xS(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await Nc(t.appConfig,r)}throw n}}function SS(t){return t!==void 0&&t.registrationStatus===2}function WD(t){return t.requestStatus===2&&!GD(t)}function GD(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+wD}function qD(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function KD(t){return t.requestStatus===1&&t.requestTime+lS<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(t){const e=t,{installationEntry:n,registrationPromise:r}=await Gp(e);return r?r.catch(console.error):qp(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function QD(t,e=!1){const n=t;return await YD(n),(await qp(n,e)).token}async function YD(t){const{registrationPromise:e}=await Gp(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XD(t){if(!t||!t.options)throw jh("App Configuration");if(!t.name)throw jh("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw jh(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function jh(t){return ri.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS="installations",ZD="installations-internal",e2=t=>{const e=t.getProvider("app").getImmediate(),n=XD(e),r=ci(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},t2=t=>{const e=t.getProvider("app").getImmediate(),n=ci(e,TS).getImmediate();return{getId:()=>JD(n),getToken:s=>QD(n,s)}};function n2(){Jn(new Cn(TS,e2,"PUBLIC")),Jn(new Cn(ZD,t2,"PRIVATE"))}n2();ln(aS,Hp);ln(aS,Hp,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dc="analytics",r2="firebase_id",s2="origin",i2=60*1e3,o2="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kp="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt=new Sd("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a2={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xt=new ui("analytics","Analytics",a2);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l2(t){if(!t.startsWith(Kp)){const e=Xt.create("invalid-gtag-resource",{gtagURL:t});return Wt.warn(e.message),""}return t}function kS(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function u2(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function c2(t,e){const n=u2("firebase-js-sdk-policy",{createScriptURL:l2}),r=document.createElement("script"),s=`${Kp}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function d2(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function h2(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const u=(await kS(n)).find(c=>c.measurementId===s);u&&await e[u.appId]}}catch(l){Wt.error(l)}t("config",s,i)}async function f2(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const l=await kS(n);for(const u of o){const c=l.find(p=>p.measurementId===u),h=c&&e[c.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){Wt.error(i)}}function m2(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[l,u]=o;await f2(t,e,n,l,u)}else if(i==="config"){const[l,u]=o;await h2(t,e,n,r,l,u)}else if(i==="consent"){const[l,u]=o;t("consent",l,u)}else if(i==="get"){const[l,u,c]=o;t("get",l,u,c)}else if(i==="set"){const[l]=o;t("set",l)}else t(i,...o)}catch(l){Wt.error(l)}}return s}function p2(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=m2(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function g2(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Kp)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=30,v2=1e3;class w2{constructor(e={},n=v2){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const IS=new w2;function _2(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function x2(t){var e;const{appId:n,apiKey:r}=t,s={method:"GET",headers:_2(r)},i=o2.replace("{app-id}",n),o=await fetch(i,s);if(o.status!==200&&o.status!==304){let l="";try{const u=await o.json();!((e=u.error)===null||e===void 0)&&e.message&&(l=u.error.message)}catch{}throw Xt.create("config-fetch-failed",{httpStatus:o.status,responseMessage:l})}return o.json()}async function E2(t,e=IS,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Xt.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Xt.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},l=new k2;return setTimeout(async()=>{l.abort()},i2),CS({appId:r,apiKey:s,measurementId:i},o,l,e)}async function CS(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=IS){var i;const{appId:o,measurementId:l}=t;try{await S2(r,e)}catch(u){if(l)return Wt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:l};throw u}try{const u=await x2(t);return s.deleteThrottleMetadata(o),u}catch(u){const c=u;if(!T2(c)){if(s.deleteThrottleMetadata(o),l)return Wt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:o,measurementId:l};throw u}const h=Number((i=c==null?void 0:c.customData)===null||i===void 0?void 0:i.httpStatus)===503?z0(n,s.intervalMillis,y2):z0(n,s.intervalMillis),p={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(o,p),Wt.debug(`Calling attemptFetch again in ${h} millis`),CS(t,p,r,s)}}function S2(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function T2(t){if(!(t instanceof Pn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class k2{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function I2(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o=Object.assign(Object.assign({},r),{send_to:i});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C2(){if(ZE())try{await eS()}catch(t){return Wt.warn(Xt.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Wt.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function b2(t,e,n,r,s,i,o){var l;const u=E2(t);u.then(E=>{n[E.measurementId]=E.appId,t.options.measurementId&&E.measurementId!==t.options.measurementId&&Wt.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${E.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(E=>Wt.error(E)),e.push(u);const c=C2().then(E=>{if(E)return r.getId()}),[h,p]=await Promise.all([u,c]);g2(i)||c2(i,h.measurementId),s("js",new Date);const g=(l=o==null?void 0:o.config)!==null&&l!==void 0?l:{};return g[s2]="firebase",g.update=!0,p!=null&&(g[r2]=p),s("config",h.measurementId,g),h.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R2{constructor(e){this.app=e}_delete(){return delete Ma[this.app.options.appId],Promise.resolve()}}let Ma={},ev=[];const tv={};let Vh="dataLayer",P2="gtag",nv,bS,rv=!1;function A2(){const t=[];if(XE()&&t.push("This is a browser extension environment."),YA()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:e});Wt.warn(n.message)}}function N2(t,e,n){A2();const r=t.options.appId;if(!r)throw Xt.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Wt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xt.create("no-api-key");if(Ma[r]!=null)throw Xt.create("already-exists",{id:r});if(!rv){d2(Vh);const{wrappedGtag:i,gtagCore:o}=p2(Ma,ev,tv,Vh,P2);bS=i,nv=o,rv=!0}return Ma[r]=b2(t,ev,tv,e,nv,Vh,n),new R2(t)}function D2(t=zp()){t=Cr(t);const e=ci(t,Dc);return e.isInitialized()?e.getImmediate():O2(t)}function O2(t,e={}){const n=ci(t,Dc);if(n.isInitialized()){const s=n.getImmediate();if(ps(e,n.getOptions()))return s;throw Xt.create("already-initialized")}return n.initialize({options:e})}function M2(t,e,n,r){t=Cr(t),I2(bS,Ma[t.app.options.appId],e,n,r).catch(s=>Wt.error(s))}const sv="@firebase/analytics",iv="0.10.12";function L2(){Jn(new Cn(Dc,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return N2(r,s,n)},"PUBLIC")),Jn(new Cn("analytics-internal",t,"PRIVATE")),ln(sv,iv),ln(sv,iv,"esm2017");function t(e){try{const n=e.getProvider(Dc).getImmediate();return{logEvent:(r,s,i)=>M2(n,r,s,i)}}catch(n){throw Xt.create("interop-component-reg-failed",{reason:n})}}}L2();var ov=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var hs,RS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,v){function T(){}T.prototype=v.prototype,S.D=v.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(C,N,D){for(var b=Array(arguments.length-2),de=2;de<arguments.length;de++)b[de-2]=arguments[de];return v.prototype[N].apply(C,b)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(S,v,T){T||(T=0);var C=Array(16);if(typeof v=="string")for(var N=0;16>N;++N)C[N]=v.charCodeAt(T++)|v.charCodeAt(T++)<<8|v.charCodeAt(T++)<<16|v.charCodeAt(T++)<<24;else for(N=0;16>N;++N)C[N]=v[T++]|v[T++]<<8|v[T++]<<16|v[T++]<<24;v=S.g[0],T=S.g[1],N=S.g[2];var D=S.g[3],b=v+(D^T&(N^D))+C[0]+3614090360&4294967295;v=T+(b<<7&4294967295|b>>>25),b=D+(N^v&(T^N))+C[1]+3905402710&4294967295,D=v+(b<<12&4294967295|b>>>20),b=N+(T^D&(v^T))+C[2]+606105819&4294967295,N=D+(b<<17&4294967295|b>>>15),b=T+(v^N&(D^v))+C[3]+3250441966&4294967295,T=N+(b<<22&4294967295|b>>>10),b=v+(D^T&(N^D))+C[4]+4118548399&4294967295,v=T+(b<<7&4294967295|b>>>25),b=D+(N^v&(T^N))+C[5]+1200080426&4294967295,D=v+(b<<12&4294967295|b>>>20),b=N+(T^D&(v^T))+C[6]+2821735955&4294967295,N=D+(b<<17&4294967295|b>>>15),b=T+(v^N&(D^v))+C[7]+4249261313&4294967295,T=N+(b<<22&4294967295|b>>>10),b=v+(D^T&(N^D))+C[8]+1770035416&4294967295,v=T+(b<<7&4294967295|b>>>25),b=D+(N^v&(T^N))+C[9]+2336552879&4294967295,D=v+(b<<12&4294967295|b>>>20),b=N+(T^D&(v^T))+C[10]+4294925233&4294967295,N=D+(b<<17&4294967295|b>>>15),b=T+(v^N&(D^v))+C[11]+2304563134&4294967295,T=N+(b<<22&4294967295|b>>>10),b=v+(D^T&(N^D))+C[12]+1804603682&4294967295,v=T+(b<<7&4294967295|b>>>25),b=D+(N^v&(T^N))+C[13]+4254626195&4294967295,D=v+(b<<12&4294967295|b>>>20),b=N+(T^D&(v^T))+C[14]+2792965006&4294967295,N=D+(b<<17&4294967295|b>>>15),b=T+(v^N&(D^v))+C[15]+1236535329&4294967295,T=N+(b<<22&4294967295|b>>>10),b=v+(N^D&(T^N))+C[1]+4129170786&4294967295,v=T+(b<<5&4294967295|b>>>27),b=D+(T^N&(v^T))+C[6]+3225465664&4294967295,D=v+(b<<9&4294967295|b>>>23),b=N+(v^T&(D^v))+C[11]+643717713&4294967295,N=D+(b<<14&4294967295|b>>>18),b=T+(D^v&(N^D))+C[0]+3921069994&4294967295,T=N+(b<<20&4294967295|b>>>12),b=v+(N^D&(T^N))+C[5]+3593408605&4294967295,v=T+(b<<5&4294967295|b>>>27),b=D+(T^N&(v^T))+C[10]+38016083&4294967295,D=v+(b<<9&4294967295|b>>>23),b=N+(v^T&(D^v))+C[15]+3634488961&4294967295,N=D+(b<<14&4294967295|b>>>18),b=T+(D^v&(N^D))+C[4]+3889429448&4294967295,T=N+(b<<20&4294967295|b>>>12),b=v+(N^D&(T^N))+C[9]+568446438&4294967295,v=T+(b<<5&4294967295|b>>>27),b=D+(T^N&(v^T))+C[14]+3275163606&4294967295,D=v+(b<<9&4294967295|b>>>23),b=N+(v^T&(D^v))+C[3]+4107603335&4294967295,N=D+(b<<14&4294967295|b>>>18),b=T+(D^v&(N^D))+C[8]+1163531501&4294967295,T=N+(b<<20&4294967295|b>>>12),b=v+(N^D&(T^N))+C[13]+2850285829&4294967295,v=T+(b<<5&4294967295|b>>>27),b=D+(T^N&(v^T))+C[2]+4243563512&4294967295,D=v+(b<<9&4294967295|b>>>23),b=N+(v^T&(D^v))+C[7]+1735328473&4294967295,N=D+(b<<14&4294967295|b>>>18),b=T+(D^v&(N^D))+C[12]+2368359562&4294967295,T=N+(b<<20&4294967295|b>>>12),b=v+(T^N^D)+C[5]+4294588738&4294967295,v=T+(b<<4&4294967295|b>>>28),b=D+(v^T^N)+C[8]+2272392833&4294967295,D=v+(b<<11&4294967295|b>>>21),b=N+(D^v^T)+C[11]+1839030562&4294967295,N=D+(b<<16&4294967295|b>>>16),b=T+(N^D^v)+C[14]+4259657740&4294967295,T=N+(b<<23&4294967295|b>>>9),b=v+(T^N^D)+C[1]+2763975236&4294967295,v=T+(b<<4&4294967295|b>>>28),b=D+(v^T^N)+C[4]+1272893353&4294967295,D=v+(b<<11&4294967295|b>>>21),b=N+(D^v^T)+C[7]+4139469664&4294967295,N=D+(b<<16&4294967295|b>>>16),b=T+(N^D^v)+C[10]+3200236656&4294967295,T=N+(b<<23&4294967295|b>>>9),b=v+(T^N^D)+C[13]+681279174&4294967295,v=T+(b<<4&4294967295|b>>>28),b=D+(v^T^N)+C[0]+3936430074&4294967295,D=v+(b<<11&4294967295|b>>>21),b=N+(D^v^T)+C[3]+3572445317&4294967295,N=D+(b<<16&4294967295|b>>>16),b=T+(N^D^v)+C[6]+76029189&4294967295,T=N+(b<<23&4294967295|b>>>9),b=v+(T^N^D)+C[9]+3654602809&4294967295,v=T+(b<<4&4294967295|b>>>28),b=D+(v^T^N)+C[12]+3873151461&4294967295,D=v+(b<<11&4294967295|b>>>21),b=N+(D^v^T)+C[15]+530742520&4294967295,N=D+(b<<16&4294967295|b>>>16),b=T+(N^D^v)+C[2]+3299628645&4294967295,T=N+(b<<23&4294967295|b>>>9),b=v+(N^(T|~D))+C[0]+4096336452&4294967295,v=T+(b<<6&4294967295|b>>>26),b=D+(T^(v|~N))+C[7]+1126891415&4294967295,D=v+(b<<10&4294967295|b>>>22),b=N+(v^(D|~T))+C[14]+2878612391&4294967295,N=D+(b<<15&4294967295|b>>>17),b=T+(D^(N|~v))+C[5]+4237533241&4294967295,T=N+(b<<21&4294967295|b>>>11),b=v+(N^(T|~D))+C[12]+1700485571&4294967295,v=T+(b<<6&4294967295|b>>>26),b=D+(T^(v|~N))+C[3]+2399980690&4294967295,D=v+(b<<10&4294967295|b>>>22),b=N+(v^(D|~T))+C[10]+4293915773&4294967295,N=D+(b<<15&4294967295|b>>>17),b=T+(D^(N|~v))+C[1]+2240044497&4294967295,T=N+(b<<21&4294967295|b>>>11),b=v+(N^(T|~D))+C[8]+1873313359&4294967295,v=T+(b<<6&4294967295|b>>>26),b=D+(T^(v|~N))+C[15]+4264355552&4294967295,D=v+(b<<10&4294967295|b>>>22),b=N+(v^(D|~T))+C[6]+2734768916&4294967295,N=D+(b<<15&4294967295|b>>>17),b=T+(D^(N|~v))+C[13]+1309151649&4294967295,T=N+(b<<21&4294967295|b>>>11),b=v+(N^(T|~D))+C[4]+4149444226&4294967295,v=T+(b<<6&4294967295|b>>>26),b=D+(T^(v|~N))+C[11]+3174756917&4294967295,D=v+(b<<10&4294967295|b>>>22),b=N+(v^(D|~T))+C[2]+718787259&4294967295,N=D+(b<<15&4294967295|b>>>17),b=T+(D^(N|~v))+C[9]+3951481745&4294967295,S.g[0]=S.g[0]+v&4294967295,S.g[1]=S.g[1]+(N+(b<<21&4294967295|b>>>11))&4294967295,S.g[2]=S.g[2]+N&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,v){v===void 0&&(v=S.length);for(var T=v-this.blockSize,C=this.B,N=this.h,D=0;D<v;){if(N==0)for(;D<=T;)s(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<v;)if(C[N++]=S.charCodeAt(D++),N==this.blockSize){s(this,C),N=0;break}}else for(;D<v;)if(C[N++]=S[D++],N==this.blockSize){s(this,C),N=0;break}}this.h=N,this.o+=v},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var v=1;v<S.length-8;++v)S[v]=0;var T=8*this.o;for(v=S.length-8;v<S.length;++v)S[v]=T&255,T/=256;for(this.u(S),S=Array(16),v=T=0;4>v;++v)for(var C=0;32>C;C+=8)S[T++]=this.g[v]>>>C&255;return S};function i(S,v){var T=l;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=v(S)}function o(S,v){this.h=v;for(var T=[],C=!0,N=S.length-1;0<=N;N--){var D=S[N]|0;C&&D==v||(T[N]=D,C=!1)}this.g=T}var l={};function u(S){return-128<=S&&128>S?i(S,function(v){return new o([v|0],0>v?-1:0)}):new o([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return p;if(0>S)return R(c(-S));for(var v=[],T=1,C=0;S>=T;C++)v[C]=S/T|0,T*=4294967296;return new o(v,0)}function h(S,v){if(S.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(S.charAt(0)=="-")return R(h(S.substring(1),v));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(v,8)),C=p,N=0;N<S.length;N+=8){var D=Math.min(8,S.length-N),b=parseInt(S.substring(N,N+D),v);8>D?(D=c(Math.pow(v,D)),C=C.j(D).add(c(b))):(C=C.j(T),C=C.add(c(b)))}return C}var p=u(0),g=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(I(this))return-R(this).m();for(var S=0,v=1,T=0;T<this.g.length;T++){var C=this.i(T);S+=(0<=C?C:4294967296+C)*v,v*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(k(this))return"0";if(I(this))return"-"+R(this).toString(S);for(var v=c(Math.pow(S,6)),T=this,C="";;){var N=A(T,v).g;T=x(T,N.j(v));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=N,k(T))return D+C;for(;6>D.length;)D="0"+D;C=D+C}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function k(S){if(S.h!=0)return!1;for(var v=0;v<S.g.length;v++)if(S.g[v]!=0)return!1;return!0}function I(S){return S.h==-1}t.l=function(S){return S=x(this,S),I(S)?-1:k(S)?0:1};function R(S){for(var v=S.g.length,T=[],C=0;C<v;C++)T[C]=~S.g[C];return new o(T,~S.h).add(g)}t.abs=function(){return I(this)?R(this):this},t.add=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],C=0,N=0;N<=v;N++){var D=C+(this.i(N)&65535)+(S.i(N)&65535),b=(D>>>16)+(this.i(N)>>>16)+(S.i(N)>>>16);C=b>>>16,D&=65535,b&=65535,T[N]=b<<16|D}return new o(T,T[T.length-1]&-2147483648?-1:0)};function x(S,v){return S.add(R(v))}t.j=function(S){if(k(this)||k(S))return p;if(I(this))return I(S)?R(this).j(R(S)):R(R(this).j(S));if(I(S))return R(this.j(R(S)));if(0>this.l(E)&&0>S.l(E))return c(this.m()*S.m());for(var v=this.g.length+S.g.length,T=[],C=0;C<2*v;C++)T[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<S.g.length;N++){var D=this.i(C)>>>16,b=this.i(C)&65535,de=S.i(N)>>>16,Ue=S.i(N)&65535;T[2*C+2*N]+=b*Ue,y(T,2*C+2*N),T[2*C+2*N+1]+=D*Ue,y(T,2*C+2*N+1),T[2*C+2*N+1]+=b*de,y(T,2*C+2*N+1),T[2*C+2*N+2]+=D*de,y(T,2*C+2*N+2)}for(C=0;C<v;C++)T[C]=T[2*C+1]<<16|T[2*C];for(C=v;C<2*v;C++)T[C]=0;return new o(T,0)};function y(S,v){for(;(S[v]&65535)!=S[v];)S[v+1]+=S[v]>>>16,S[v]&=65535,v++}function _(S,v){this.g=S,this.h=v}function A(S,v){if(k(v))throw Error("division by zero");if(k(S))return new _(p,p);if(I(S))return v=A(R(S),v),new _(R(v.g),R(v.h));if(I(v))return v=A(S,R(v)),new _(R(v.g),v.h);if(30<S.g.length){if(I(S)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var T=g,C=v;0>=C.l(S);)T=O(T),C=O(C);var N=M(T,1),D=M(C,1);for(C=M(C,2),T=M(T,2);!k(C);){var b=D.add(C);0>=b.l(S)&&(N=N.add(T),D=b),C=M(C,1),T=M(T,1)}return v=x(S,N.j(v)),new _(N,v)}for(N=p;0<=S.l(v);){for(T=Math.max(1,Math.floor(S.m()/v.m())),C=Math.ceil(Math.log(T)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),D=c(T),b=D.j(v);I(b)||0<b.l(S);)T-=C,D=c(T),b=D.j(v);k(D)&&(D=g),N=N.add(D),S=x(S,b)}return new _(N,S)}t.A=function(S){return A(this,S).h},t.and=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],C=0;C<v;C++)T[C]=this.i(C)&S.i(C);return new o(T,this.h&S.h)},t.or=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],C=0;C<v;C++)T[C]=this.i(C)|S.i(C);return new o(T,this.h|S.h)},t.xor=function(S){for(var v=Math.max(this.g.length,S.g.length),T=[],C=0;C<v;C++)T[C]=this.i(C)^S.i(C);return new o(T,this.h^S.h)};function O(S){for(var v=S.g.length+1,T=[],C=0;C<v;C++)T[C]=S.i(C)<<1|S.i(C-1)>>>31;return new o(T,S.h)}function M(S,v){var T=v>>5;v%=32;for(var C=S.g.length-T,N=[],D=0;D<C;D++)N[D]=0<v?S.i(D+T)>>>v|S.i(D+T+1)<<32-v:S.i(D+T);return new o(N,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,RS=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,hs=o}).apply(typeof ov<"u"?ov:typeof self<"u"?self:typeof window<"u"?window:{});var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var PS,Ea,AS,qu,um,NS,DS,OS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,m){return a==Array.prototype||a==Object.prototype||(a[d]=m.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof xu=="object"&&xu];for(var d=0;d<a.length;++d){var m=a[d];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function s(a,d){if(d)e:{var m=r;a=a.split(".");for(var w=0;w<a.length-1;w++){var L=a[w];if(!(L in m))break e;m=m[L]}a=a[a.length-1],w=m[a],d=d(w),d!=w&&d!=null&&e(m,a,{configurable:!0,writable:!0,value:d})}}function i(a,d){a instanceof String&&(a+="");var m=0,w=!1,L={next:function(){if(!w&&m<a.length){var V=m++;return{value:d(V,a[V]),done:!1}}return w=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}s("Array.prototype.values",function(a){return a||function(){return i(this,function(d,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},l=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function c(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function h(a,d,m){return a.call.apply(a.bind,arguments)}function p(a,d,m){if(!a)throw Error();if(2<arguments.length){var w=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,w),a.apply(d,L)}}return function(){return a.apply(d,arguments)}}function g(a,d,m){return g=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,g.apply(null,arguments)}function E(a,d){var m=Array.prototype.slice.call(arguments,1);return function(){var w=m.slice();return w.push.apply(w,arguments),a.apply(this,w)}}function k(a,d){function m(){}m.prototype=d.prototype,a.aa=d.prototype,a.prototype=new m,a.prototype.constructor=a,a.Qb=function(w,L,V){for(var z=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)z[Se-2]=arguments[Se];return d.prototype[L].apply(w,z)}}function I(a){const d=a.length;if(0<d){const m=Array(d);for(let w=0;w<d;w++)m[w]=a[w];return m}return[]}function R(a,d){for(let m=1;m<arguments.length;m++){const w=arguments[m];if(u(w)){const L=a.length||0,V=w.length||0;a.length=L+V;for(let z=0;z<V;z++)a[L+z]=w[z]}else a.push(w)}}class x{constructor(d,m){this.i=d,this.j=m,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function y(a){return/^[\s\xa0]*$/.test(a)}function _(){var a=l.navigator;return a&&(a=a.userAgent)?a:""}function A(a){return A[" "](a),a}A[" "]=function(){};var O=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function M(a,d,m){for(const w in a)d.call(m,a[w],w,a)}function S(a,d){for(const m in a)d.call(void 0,a[m],m,a)}function v(a){const d={};for(const m in a)d[m]=a[m];return d}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(a,d){let m,w;for(let L=1;L<arguments.length;L++){w=arguments[L];for(m in w)a[m]=w[m];for(let V=0;V<T.length;V++)m=T[V],Object.prototype.hasOwnProperty.call(w,m)&&(a[m]=w[m])}}function N(a){var d=1;a=a.split(":");const m=[];for(;0<d&&a.length;)m.push(a.shift()),d--;return a.length&&m.push(a.join(":")),m}function D(a){l.setTimeout(()=>{throw a},0)}function b(){var a=K;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class de{constructor(){this.h=this.g=null}add(d,m){const w=Ue.get();w.set(d,m),this.h?this.h.next=w:this.g=w,this.h=w}}var Ue=new x(()=>new Mt,a=>a.reset());class Mt{constructor(){this.next=this.g=this.h=null}set(d,m){this.h=d,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ct,H=!1,K=new de,Q=()=>{const a=l.Promise.resolve(void 0);Ct=()=>{a.then(ve)}};var ve=()=>{for(var a;a=b();){try{a.h.call(a.g)}catch(m){D(m)}var d=Ue;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}H=!1};function oe(){this.s=this.s,this.C=this.C}oe.prototype.s=!1,oe.prototype.ma=function(){this.s||(this.s=!0,this.N())},oe.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Te(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Te.prototype.h=function(){this.defaultPrevented=!0};var bt=function(){if(!l.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{const m=()=>{};l.addEventListener("test",m,d),l.removeEventListener("test",m,d)}catch{}return a}();function Qe(a,d){if(Te.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var m=this.type=a.type,w=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(O){e:{try{A(d.nodeName);var L=!0;break e}catch{}L=!1}L||(d=null)}}else m=="mouseover"?d=a.fromElement:m=="mouseout"&&(d=a.toElement);this.relatedTarget=d,w?(this.clientX=w.clientX!==void 0?w.clientX:w.pageX,this.clientY=w.clientY!==void 0?w.clientY:w.pageY,this.screenX=w.screenX||0,this.screenY=w.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:at[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&Qe.aa.h.call(this)}}k(Qe,Te);var at={2:"touch",3:"pen",4:"mouse"};Qe.prototype.h=function(){Qe.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var je="closure_listenable_"+(1e6*Math.random()|0),Nn=0;function Lt(a,d,m,w,L){this.listener=a,this.proxy=null,this.src=d,this.type=m,this.capture=!!w,this.ha=L,this.key=++Nn,this.da=this.fa=!1}function jt(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function nn(a){this.src=a,this.g={},this.h=0}nn.prototype.add=function(a,d,m,w,L){var V=a.toString();a=this.g[V],a||(a=this.g[V]=[],this.h++);var z=Bo(a,d,w,L);return-1<z?(d=a[z],m||(d.fa=!1)):(d=new Lt(d,this.src,V,!!w,L),d.fa=m,a.push(d)),d};function tt(a,d){var m=d.type;if(m in a.g){var w=a.g[m],L=Array.prototype.indexOf.call(w,d,void 0),V;(V=0<=L)&&Array.prototype.splice.call(w,L,1),V&&(jt(d),a.g[m].length==0&&(delete a.g[m],a.h--))}}function Bo(a,d,m,w){for(var L=0;L<a.length;++L){var V=a[L];if(!V.da&&V.listener==d&&V.capture==!!m&&V.ha==w)return L}return-1}var br="closure_lm_"+(1e6*Math.random()|0),Rr={};function $o(a,d,m,w,L){if(Array.isArray(d)){for(var V=0;V<d.length;V++)$o(a,d[V],m,w,L);return null}return m=pi(m),a&&a[je]?a.K(d,m,c(w)?!!w.capture:!1,L):hi(a,d,m,!1,w,L)}function hi(a,d,m,w,L,V){if(!d)throw Error("Invalid event type");var z=c(L)?!!L.capture:!!L,Se=Ar(a);if(Se||(a[br]=Se=new nn(a)),m=Se.add(d,m,w,z,V),m.proxy)return m;if(w=Bd(),m.proxy=w,w.src=a,w.listener=m,a.addEventListener)bt||(L=z),L===void 0&&(L=!1),a.addEventListener(d.toString(),w,L);else if(a.attachEvent)a.attachEvent(mi(d.toString()),w);else if(a.addListener&&a.removeListener)a.addListener(w);else throw Error("addEventListener and attachEvent are unavailable.");return m}function Bd(){function a(m){return d.call(a.src,a.listener,m)}const d=Pr;return a}function fi(a,d,m,w,L){if(Array.isArray(d))for(var V=0;V<d.length;V++)fi(a,d[V],m,w,L);else w=c(w)?!!w.capture:!!w,m=pi(m),a&&a[je]?(a=a.i,d=String(d).toString(),d in a.g&&(V=a.g[d],m=Bo(V,m,w,L),-1<m&&(jt(V[m]),Array.prototype.splice.call(V,m,1),V.length==0&&(delete a.g[d],a.h--)))):a&&(a=Ar(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Bo(d,m,w,L)),(m=-1<a?d[a]:null)&&Uo(m))}function Uo(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[je])tt(d.i,a);else{var m=a.type,w=a.proxy;d.removeEventListener?d.removeEventListener(m,w,a.capture):d.detachEvent?d.detachEvent(mi(m),w):d.addListener&&d.removeListener&&d.removeListener(w),(m=Ar(d))?(tt(m,a),m.h==0&&(m.src=null,d[br]=null)):jt(a)}}}function mi(a){return a in Rr?Rr[a]:Rr[a]="on"+a}function Pr(a,d){if(a.da)a=!0;else{d=new Qe(d,this);var m=a.listener,w=a.ha||a.src;a.fa&&Uo(a),a=m.call(w,d)}return a}function Ar(a){return a=a[br],a instanceof nn?a:null}var Nr="__closure_events_fn_"+(1e9*Math.random()>>>0);function pi(a){return typeof a=="function"?a:(a[Nr]||(a[Nr]=function(d){return a.handleEvent(d)}),a[Nr])}function Ve(){oe.call(this),this.i=new nn(this),this.M=this,this.F=null}k(Ve,oe),Ve.prototype[je]=!0,Ve.prototype.removeEventListener=function(a,d,m,w){fi(this,a,d,m,w)};function lt(a,d){var m,w=a.F;if(w)for(m=[];w;w=w.F)m.push(w);if(a=a.M,w=d.type||d,typeof d=="string")d=new Te(d,a);else if(d instanceof Te)d.target=d.target||a;else{var L=d;d=new Te(w,a),C(d,L)}if(L=!0,m)for(var V=m.length-1;0<=V;V--){var z=d.g=m[V];L=Xn(z,w,!0,d)&&L}if(z=d.g=a,L=Xn(z,w,!0,d)&&L,L=Xn(z,w,!1,d)&&L,m)for(V=0;V<m.length;V++)z=d.g=m[V],L=Xn(z,w,!1,d)&&L}Ve.prototype.N=function(){if(Ve.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var m=a.g[d],w=0;w<m.length;w++)jt(m[w]);delete a.g[d],a.h--}}this.F=null},Ve.prototype.K=function(a,d,m,w){return this.i.add(String(a),d,!1,m,w)},Ve.prototype.L=function(a,d,m,w){return this.i.add(String(a),d,!0,m,w)};function Xn(a,d,m,w){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var L=!0,V=0;V<d.length;++V){var z=d[V];if(z&&!z.da&&z.capture==m){var Se=z.listener,ct=z.ha||z.src;z.fa&&tt(a.i,z),L=Se.call(ct,w)!==!1&&L}}return L&&!w.defaultPrevented}function Ol(a,d,m){if(typeof a=="function")m&&(a=g(a,m));else if(a&&typeof a.handleEvent=="function")a=g(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:l.setTimeout(a,d||0)}function Cs(a){a.g=Ol(()=>{a.g=null,a.i&&(a.i=!1,Cs(a))},a.l);const d=a.h;a.h=null,a.m.apply(null,d)}class zo extends oe{constructor(d,m){super(),this.m=d,this.l=m,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Cs(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Dn(a){oe.call(this),this.h=a,this.g={}}k(Dn,oe);var Ho=[];function Ml(a){M(a.g,function(d,m){this.g.hasOwnProperty(m)&&Uo(d)},a),a.g={}}Dn.prototype.N=function(){Dn.aa.N.call(this),Ml(this)},Dn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wo=l.JSON.stringify,Go=l.JSON.parse,$d=class{stringify(a){return l.JSON.stringify(a,void 0)}parse(a){return l.JSON.parse(a,void 0)}};function gi(){}gi.prototype.h=null;function hn(a){return a.h||(a.h=a.i())}function fn(){}var ut={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yi(){Te.call(this,"d")}k(yi,Te);function Zn(){Te.call(this,"c")}k(Zn,Te);var er={},mn=null;function Dr(){return mn=mn||new Ve}er.La="serverreachability";function qo(a){Te.call(this,er.La,a)}k(qo,Te);function Or(a){const d=Dr();lt(d,new qo(d))}er.STAT_EVENT="statevent";function Ll(a,d){Te.call(this,er.STAT_EVENT,a),this.stat=d}k(Ll,Te);function Ge(a){const d=Dr();lt(d,new Ll(d,a))}er.Ma="timingevent";function Ko(a,d){Te.call(this,er.Ma,a),this.size=d}k(Ko,Te);function bs(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){a()},d)}function Rs(){this.g=!0}Rs.prototype.xa=function(){this.g=!1};function Mr(a,d,m,w,L,V){a.info(function(){if(a.g)if(V)for(var z="",Se=V.split("&"),ct=0;ct<Se.length;ct++){var ye=Se[ct].split("=");if(1<ye.length){var yt=ye[0];ye=ye[1];var vt=yt.split("_");z=2<=vt.length&&vt[1]=="type"?z+(yt+"="+ye+"&"):z+(yt+"=redacted&")}}else z=null;else z=V;return"XMLHTTP REQ ("+w+") [attempt "+L+"]: "+d+`
`+m+`
`+z})}function Ps(a,d,m,w,L,V,z){a.info(function(){return"XMLHTTP RESP ("+w+") [ attempt "+L+"]: "+d+`
`+m+`
`+V+" "+z})}function tr(a,d,m,w){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+zd(a,m)+(w?" "+w:"")})}function Ud(a,d){a.info(function(){return"TIMEOUT: "+d})}Rs.prototype.info=function(){};function zd(a,d){if(!a.g)return d;if(!d)return null;try{var m=JSON.parse(d);if(m){for(a=0;a<m.length;a++)if(Array.isArray(m[a])){var w=m[a];if(!(2>w.length)){var L=w[1];if(Array.isArray(L)&&!(1>L.length)){var V=L[0];if(V!="noop"&&V!="stop"&&V!="close")for(var z=1;z<L.length;z++)L[z]=""}}}}return Wo(m)}catch{return d}}var vi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},jl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},As;function nr(){}k(nr,gi),nr.prototype.g=function(){return new XMLHttpRequest},nr.prototype.i=function(){return{}},As=new nr;function On(a,d,m,w){this.j=a,this.i=d,this.l=m,this.R=w||1,this.U=new Dn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Vl}function Vl(){this.i=null,this.g="",this.h=!1}var Fl={},Jo={};function Qo(a,d,m){a.L=1,a.v=Wl(sr(d)),a.m=m,a.P=!0,Bl(a,null)}function Bl(a,d){a.F=Date.now(),rr(a),a.A=sr(a.v);var m=a.A,w=a.R;Array.isArray(w)||(w=[String(w)]),Ng(m.i,"t",w),a.C=0,m=a.j.J,a.h=new Vl,a.g=Qg(a.j,m?d:null,!a.m),0<a.O&&(a.M=new zo(g(a.Y,a,a.g),a.O)),d=a.U,m=a.g,w=a.ca;var L="readystatechange";Array.isArray(L)||(L&&(Ho[0]=L.toString()),L=Ho);for(var V=0;V<L.length;V++){var z=$o(m,L[V],w||d.handleEvent,!1,d.h||d);if(!z)break;d.g[z.key]=z}d=a.H?v(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Or(),Mr(a.i,a.u,a.A,a.l,a.R,a.m)}On.prototype.ca=function(a){a=a.target;const d=this.M;d&&ir(a)==3?d.j():this.Y(a)},On.prototype.Y=function(a){try{if(a==this.g)e:{const vt=ir(this.g);var d=this.g.Ba();const Ti=this.g.Z();if(!(3>vt)&&(vt!=3||this.g&&(this.h.h||this.g.oa()||Fg(this.g)))){this.J||vt!=4||d==7||(d==8||0>=Ti?Or(3):Or(2)),wi(this);var m=this.g.Z();this.X=m;t:if(Yo(this)){var w=Fg(this.g);a="";var L=w.length,V=ir(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Mn(this),Lr(this);var z="";break t}this.h.i=new l.TextDecoder}for(d=0;d<L;d++)this.h.h=!0,a+=this.h.i.decode(w[d],{stream:!(V&&d==L-1)});w.length=0,this.h.g+=a,this.C=0,z=this.h.g}else z=this.g.oa();if(this.o=m==200,Ps(this.i,this.u,this.A,this.l,this.R,vt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,ct=this.g;if((Se=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!y(Se)){var ye=Se;break t}}ye=null}if(m=ye)tr(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_i(this,m);else{this.o=!1,this.s=3,Ge(12),Mn(this),Lr(this);break e}}if(this.P){m=!0;let gn;for(;!this.J&&this.C<z.length;)if(gn=Xo(this,z),gn==Jo){vt==4&&(this.s=4,Ge(14),m=!1),tr(this.i,this.l,null,"[Incomplete Response]");break}else if(gn==Fl){this.s=4,Ge(15),tr(this.i,this.l,z,"[Invalid Chunk]"),m=!1;break}else tr(this.i,this.l,gn,null),_i(this,gn);if(Yo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),vt!=4||z.length!=0||this.h.h||(this.s=1,Ge(16),m=!1),this.o=this.o&&m,!m)tr(this.i,this.l,z,"[Invalid Chunked Response]"),Mn(this),Lr(this);else if(0<z.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),qd(yt),yt.M=!0,Ge(11))}}else tr(this.i,this.l,z,null),_i(this,z);vt==4&&Mn(this),this.o&&!this.J&&(vt==4?Gg(this.j,this):(this.o=!1,rr(this)))}else D1(this.g),m==400&&0<z.indexOf("Unknown SID")?(this.s=3,Ge(12)):(this.s=0,Ge(13)),Mn(this),Lr(this)}}}catch{}finally{}};function Yo(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function Xo(a,d){var m=a.C,w=d.indexOf(`
`,m);return w==-1?Jo:(m=Number(d.substring(m,w)),isNaN(m)?Fl:(w+=1,w+m>d.length?Jo:(d=d.slice(w,w+m),a.C=w+m,d)))}On.prototype.cancel=function(){this.J=!0,Mn(this)};function rr(a){a.S=Date.now()+a.I,$l(a,a.I)}function $l(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=bs(g(a.ba,a),d)}function wi(a){a.B&&(l.clearTimeout(a.B),a.B=null)}On.prototype.ba=function(){this.B=null;const a=Date.now();0<=a-this.S?(Ud(this.i,this.A),this.L!=2&&(Or(),Ge(17)),Mn(this),this.s=2,Lr(this)):$l(this,this.S-a)};function Lr(a){a.j.G==0||a.J||Gg(a.j,a)}function Mn(a){wi(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Ml(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function _i(a,d){try{var m=a.j;if(m.G!=0&&(m.g==a||X(m.h,a))){if(!a.K&&X(m.h,a)&&m.G==3){try{var w=m.Da.g.parse(d)}catch{w=null}if(Array.isArray(w)&&w.length==3){var L=w;if(L[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<a.F)Yl(m),Jl(m);else break e;Gd(m),Ge(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&m.v==0&&!m.C&&(m.C=bs(g(m.Za,m),6e3));if(1>=J(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Ds(m,11)}else if((a.K||m.g==a)&&Yl(m),!y(d))for(L=m.Da.g.parse(d),d=0;d<L.length;d++){let ye=L[d];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const yt=ye[3];yt!=null&&(m.la=yt,m.j.info("VER="+m.la));const vt=ye[4];vt!=null&&(m.Aa=vt,m.j.info("SVER="+m.Aa));const Ti=ye[5];Ti!=null&&typeof Ti=="number"&&0<Ti&&(w=1.5*Ti,m.L=w,m.j.info("backChannelRequestTimeoutMs_="+w)),w=m;const gn=a.g;if(gn){const Zl=gn.g?gn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Zl){var V=w.h;V.g||Zl.indexOf("spdy")==-1&&Zl.indexOf("quic")==-1&&Zl.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(se(V,V.h),V.h=null))}if(w.D){const Kd=gn.g?gn.g.getResponseHeader("X-HTTP-Session-Id"):null;Kd&&(w.ya=Kd,Ce(w.I,w.D,Kd))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-a.F,m.j.info("Handshake RTT: "+m.R+"ms")),w=m;var z=a;if(w.qa=Jg(w,w.J?w.ia:null,w.W),z.K){ce(w.h,z);var Se=z,ct=w.L;ct&&(Se.I=ct),Se.B&&(wi(Se),rr(Se)),w.g=z}else Hg(w);0<m.i.length&&Ql(m)}else ye[0]!="stop"&&ye[0]!="close"||Ds(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?Ds(m,7):Wd(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}Or(4)}catch{}}var j=class{constructor(a,d){this.g=a,this.map=d}};function F(a){this.l=a||10,l.PerformanceNavigationTiming?(a=l.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function $(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function J(a){return a.h?1:a.g?a.g.size:0}function X(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function se(a,d){a.g?a.g.add(d):a.h=d}function ce(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}F.prototype.cancel=function(){if(this.i=Y(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const a of this.g.values())a.cancel();this.g.clear()}};function Y(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(const m of a.g.values())d=d.concat(m.D);return d}return I(a.i)}function gt(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],m=a.length,w=0;w<m;w++)d.push(a[w]);return d}d=[],m=0;for(w in a)d[m++]=a[w];return d}function pn(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var m=0;m<a;m++)d.push(m);return d}d=[],m=0;for(const w in a)d[m++]=w;return d}}}function xi(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var m=pn(a),w=gt(a),L=w.length,V=0;V<L;V++)d.call(void 0,w[V],m&&m[V],a)}var Ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _1(a,d){if(a){a=a.split("&");for(var m=0;m<a.length;m++){var w=a[m].indexOf("="),L=null;if(0<=w){var V=a[m].substring(0,w);L=a[m].substring(w+1)}else V=a[m];d(V,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function Ns(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Ns){this.h=a.h,zl(this,a.j),this.o=a.o,this.g=a.g,Hl(this,a.s),this.l=a.l;var d=a.i,m=new ta;m.i=d.i,d.g&&(m.g=new Map(d.g),m.h=d.h),bg(this,m),this.m=a.m}else a&&(d=String(a).match(Ul))?(this.h=!1,zl(this,d[1]||"",!0),this.o=Zo(d[2]||""),this.g=Zo(d[3]||"",!0),Hl(this,d[4]),this.l=Zo(d[5]||"",!0),bg(this,d[6]||"",!0),this.m=Zo(d[7]||"")):(this.h=!1,this.i=new ta(null,this.h))}Ns.prototype.toString=function(){var a=[],d=this.j;d&&a.push(ea(d,Rg,!0),":");var m=this.g;return(m||d=="file")&&(a.push("//"),(d=this.o)&&a.push(ea(d,Rg,!0),"@"),a.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&a.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&a.push("/"),a.push(ea(m,m.charAt(0)=="/"?S1:E1,!0))),(m=this.i.toString())&&a.push("?",m),(m=this.m)&&a.push("#",ea(m,k1)),a.join("")};function sr(a){return new Ns(a)}function zl(a,d,m){a.j=m?Zo(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function Hl(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function bg(a,d,m){d instanceof ta?(a.i=d,I1(a.i,a.h)):(m||(d=ea(d,T1)),a.i=new ta(d,a.h))}function Ce(a,d,m){a.i.set(d,m)}function Wl(a){return Ce(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function Zo(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function ea(a,d,m){return typeof a=="string"?(a=encodeURI(a).replace(d,x1),m&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function x1(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var Rg=/[#\/\?@]/g,E1=/[#\?:]/g,S1=/[#\?]/g,T1=/[#\?@]/g,k1=/#/g;function ta(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function jr(a){a.g||(a.g=new Map,a.h=0,a.i&&_1(a.i,function(d,m){a.add(decodeURIComponent(d.replace(/\+/g," ")),m)}))}t=ta.prototype,t.add=function(a,d){jr(this),this.i=null,a=Ei(this,a);var m=this.g.get(a);return m||this.g.set(a,m=[]),m.push(d),this.h+=1,this};function Pg(a,d){jr(a),d=Ei(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function Ag(a,d){return jr(a),d=Ei(a,d),a.g.has(d)}t.forEach=function(a,d){jr(this),this.g.forEach(function(m,w){m.forEach(function(L){a.call(d,L,w,this)},this)},this)},t.na=function(){jr(this);const a=Array.from(this.g.values()),d=Array.from(this.g.keys()),m=[];for(let w=0;w<d.length;w++){const L=a[w];for(let V=0;V<L.length;V++)m.push(d[w])}return m},t.V=function(a){jr(this);let d=[];if(typeof a=="string")Ag(this,a)&&(d=d.concat(this.g.get(Ei(this,a))));else{a=Array.from(this.g.values());for(let m=0;m<a.length;m++)d=d.concat(a[m])}return d},t.set=function(a,d){return jr(this),this.i=null,a=Ei(this,a),Ag(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function Ng(a,d,m){Pg(a,d),0<m.length&&(a.i=null,a.g.set(Ei(a,d),I(m)),a.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const a=[],d=Array.from(this.g.keys());for(var m=0;m<d.length;m++){var w=d[m];const V=encodeURIComponent(String(w)),z=this.V(w);for(w=0;w<z.length;w++){var L=V;z[w]!==""&&(L+="="+encodeURIComponent(String(z[w]))),a.push(L)}}return this.i=a.join("&")};function Ei(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function I1(a,d){d&&!a.j&&(jr(a),a.i=null,a.g.forEach(function(m,w){var L=w.toLowerCase();w!=L&&(Pg(this,w),Ng(this,L,m))},a)),a.j=d}function C1(a,d){const m=new Rs;if(l.Image){const w=new Image;w.onload=E(Vr,m,"TestLoadImage: loaded",!0,d,w),w.onerror=E(Vr,m,"TestLoadImage: error",!1,d,w),w.onabort=E(Vr,m,"TestLoadImage: abort",!1,d,w),w.ontimeout=E(Vr,m,"TestLoadImage: timeout",!1,d,w),l.setTimeout(function(){w.ontimeout&&w.ontimeout()},1e4),w.src=a}else d(!1)}function b1(a,d){const m=new Rs,w=new AbortController,L=setTimeout(()=>{w.abort(),Vr(m,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:w.signal}).then(V=>{clearTimeout(L),V.ok?Vr(m,"TestPingServer: ok",!0,d):Vr(m,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(L),Vr(m,"TestPingServer: error",!1,d)})}function Vr(a,d,m,w,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),w(m)}catch{}}function R1(){this.g=new $d}function P1(a,d,m){const w=m||"";try{xi(a,function(L,V){let z=L;c(L)&&(z=Wo(L)),d.push(w+V+"="+encodeURIComponent(z))})}catch(L){throw d.push(w+"type="+encodeURIComponent("_badmap")),L}}function Gl(a){this.l=a.Ub||null,this.j=a.eb||!1}k(Gl,gi),Gl.prototype.g=function(){return new ql(this.l,this.j)},Gl.prototype.i=function(a){return function(){return a}}({});function ql(a,d){Ve.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(ql,Ve),t=ql.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,ra(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||l).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,na(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,ra(this)),this.g&&(this.readyState=3,ra(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Dg(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function Dg(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?na(this):ra(this),this.readyState==3&&Dg(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,na(this))},t.Qa=function(a){this.g&&(this.response=a,na(this))},t.ga=function(){this.g&&na(this)};function na(a){a.readyState=4,a.l=null,a.j=null,a.v=null,ra(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const a=[],d=this.h.entries();for(var m=d.next();!m.done;)m=m.value,a.push(m[0]+": "+m[1]),m=d.next();return a.join(`\r
`)};function ra(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(ql.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function Og(a){let d="";return M(a,function(m,w){d+=w,d+=":",d+=m,d+=`\r
`}),d}function Hd(a,d,m){e:{for(w in m){var w=!1;break e}w=!0}w||(m=Og(m),typeof a=="string"?m!=null&&encodeURIComponent(String(m)):Ce(a,d,m))}function Fe(a){Ve.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(Fe,Ve);var A1=/^https?$/i,N1=["POST","PUT"];t=Fe.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,m,w){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():As.g(),this.v=this.o?hn(this.o):hn(As),this.g.onreadystatechange=g(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(V){Mg(this,V);return}if(a=m||"",m=new Map(this.headers),w)if(Object.getPrototypeOf(w)===Object.prototype)for(var L in w)m.set(L,w[L]);else if(typeof w.keys=="function"&&typeof w.get=="function")for(const V of w.keys())m.set(V,w.get(V));else throw Error("Unknown input type for opt_headers: "+String(w));w=Array.from(m.keys()).find(V=>V.toLowerCase()=="content-type"),L=l.FormData&&a instanceof l.FormData,!(0<=Array.prototype.indexOf.call(N1,d,void 0))||w||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,z]of m)this.g.setRequestHeader(V,z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Vg(this),this.u=!0,this.g.send(a),this.u=!1}catch(V){Mg(this,V)}};function Mg(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,Lg(a),Kl(a)}function Lg(a){a.A||(a.A=!0,lt(a,"complete"),lt(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,lt(this,"complete"),lt(this,"abort"),Kl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Kl(this,!0)),Fe.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jg(this):this.bb())},t.bb=function(){jg(this)};function jg(a){if(a.h&&typeof o<"u"&&(!a.v[1]||ir(a)!=4||a.Z()!=2)){if(a.u&&ir(a)==4)Ol(a.Ea,0,a);else if(lt(a,"readystatechange"),ir(a)==4){a.h=!1;try{const z=a.Z();e:switch(z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var m;if(!(m=d)){var w;if(w=z===0){var L=String(a.D).match(Ul)[1]||null;!L&&l.self&&l.self.location&&(L=l.self.location.protocol.slice(0,-1)),w=!A1.test(L?L.toLowerCase():"")}m=w}if(m)lt(a,"complete"),lt(a,"success");else{a.m=6;try{var V=2<ir(a)?a.g.statusText:""}catch{V=""}a.l=V+" ["+a.Z()+"]",Lg(a)}}finally{Kl(a)}}}}function Kl(a,d){if(a.g){Vg(a);const m=a.g,w=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||lt(a,"ready");try{m.onreadystatechange=w}catch{}}}function Vg(a){a.I&&(l.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function ir(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<ir(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),Go(d)}};function Fg(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function D1(a){const d={};a=(a.g&&2<=ir(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let w=0;w<a.length;w++){if(y(a[w]))continue;var m=N(a[w]);const L=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const V=d[L]||[];d[L]=V,V.push(m)}S(d,function(w){return w.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function sa(a,d,m){return m&&m.internalChannelParams&&m.internalChannelParams[a]||d}function Bg(a){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=sa("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=sa("baseRetryDelayMs",5e3,a),this.cb=sa("retryDelaySeedMs",1e4,a),this.Wa=sa("forwardChannelMaxRetries",2,a),this.wa=sa("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new F(a&&a.concurrentRequestLimit),this.Da=new R1,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Bg.prototype,t.la=8,t.G=1,t.connect=function(a,d,m,w){Ge(0),this.W=a,this.H=d||{},m&&w!==void 0&&(this.H.OSID=m,this.H.OAID=w),this.F=this.X,this.I=Jg(this,null,this.W),Ql(this)};function Wd(a){if($g(a),a.G==3){var d=a.U++,m=sr(a.I);if(Ce(m,"SID",a.K),Ce(m,"RID",d),Ce(m,"TYPE","terminate"),ia(a,m),d=new On(a,a.j,d),d.L=2,d.v=Wl(sr(m)),m=!1,l.navigator&&l.navigator.sendBeacon)try{m=l.navigator.sendBeacon(d.v.toString(),"")}catch{}!m&&l.Image&&(new Image().src=d.v,m=!0),m||(d.g=Qg(d.j,null),d.g.ea(d.v)),d.F=Date.now(),rr(d)}Kg(a)}function Jl(a){a.g&&(qd(a),a.g.cancel(),a.g=null)}function $g(a){Jl(a),a.u&&(l.clearTimeout(a.u),a.u=null),Yl(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&l.clearTimeout(a.s),a.s=null)}function Ql(a){if(!$(a.h)&&!a.s){a.s=!0;var d=a.Ga;Ct||Q(),H||(Ct(),H=!0),K.add(d,a),a.B=0}}function O1(a,d){return J(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=bs(g(a.Ga,a,d),qg(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;const L=new On(this,this.j,a);let V=this.o;if(this.S&&(V?(V=v(V),C(V,this.S)):V=this.S),this.m!==null||this.O||(L.H=V,V=null),this.P)e:{for(var d=0,m=0;m<this.i.length;m++){t:{var w=this.i[m];if("__data__"in w.map&&(w=w.map.__data__,typeof w=="string")){w=w.length;break t}w=void 0}if(w===void 0)break;if(d+=w,4096<d){d=m;break e}if(d===4096||m===this.i.length-1){d=m+1;break e}}d=1e3}else d=1e3;d=zg(this,L,d),m=sr(this.I),Ce(m,"RID",a),Ce(m,"CVER",22),this.D&&Ce(m,"X-HTTP-Session-Id",this.D),ia(this,m),V&&(this.O?d="headers="+encodeURIComponent(String(Og(V)))+"&"+d:this.m&&Hd(m,this.m,V)),se(this.h,L),this.Ua&&Ce(m,"TYPE","init"),this.P?(Ce(m,"$req",d),Ce(m,"SID","null"),L.T=!0,Qo(L,m,null)):Qo(L,m,d),this.G=2}}else this.G==3&&(a?Ug(this,a):this.i.length==0||$(this.h)||Ug(this))};function Ug(a,d){var m;d?m=d.l:m=a.U++;const w=sr(a.I);Ce(w,"SID",a.K),Ce(w,"RID",m),Ce(w,"AID",a.T),ia(a,w),a.m&&a.o&&Hd(w,a.m,a.o),m=new On(a,a.j,m,a.B+1),a.m===null&&(m.H=a.o),d&&(a.i=d.D.concat(a.i)),d=zg(a,m,1e3),m.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),se(a.h,m),Qo(m,w,d)}function ia(a,d){a.H&&M(a.H,function(m,w){Ce(d,w,m)}),a.l&&xi({},function(m,w){Ce(d,w,m)})}function zg(a,d,m){m=Math.min(a.i.length,m);var w=a.l?g(a.l.Na,a.l,a):null;e:{var L=a.i;let V=-1;for(;;){const z=["count="+m];V==-1?0<m?(V=L[0].g,z.push("ofs="+V)):V=0:z.push("ofs="+V);let Se=!0;for(let ct=0;ct<m;ct++){let ye=L[ct].g;const yt=L[ct].map;if(ye-=V,0>ye)V=Math.max(0,L[ct].g-100),Se=!1;else try{P1(yt,z,"req"+ye+"_")}catch{w&&w(yt)}}if(Se){w=z.join("&");break e}}}return a=a.i.splice(0,m),d.D=a,w}function Hg(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;Ct||Q(),H||(Ct(),H=!0),K.add(d,a),a.v=0}}function Gd(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=bs(g(a.Fa,a),qg(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,Wg(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=bs(g(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ge(10),Jl(this),Wg(this))};function qd(a){a.A!=null&&(l.clearTimeout(a.A),a.A=null)}function Wg(a){a.g=new On(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=sr(a.qa);Ce(d,"RID","rpc"),Ce(d,"SID",a.K),Ce(d,"AID",a.T),Ce(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Ce(d,"TO",a.ja),Ce(d,"TYPE","xmlhttp"),ia(a,d),a.m&&a.o&&Hd(d,a.m,a.o),a.L&&(a.g.I=a.L);var m=a.g;a=a.ia,m.L=1,m.v=Wl(sr(d)),m.m=null,m.P=!0,Bl(m,a)}t.Za=function(){this.C!=null&&(this.C=null,Jl(this),Gd(this),Ge(19))};function Yl(a){a.C!=null&&(l.clearTimeout(a.C),a.C=null)}function Gg(a,d){var m=null;if(a.g==d){Yl(a),qd(a),a.g=null;var w=2}else if(X(a.h,d))m=d.D,ce(a.h,d),w=1;else return;if(a.G!=0){if(d.o)if(w==1){m=d.m?d.m.length:0,d=Date.now()-d.F;var L=a.B;w=Dr(),lt(w,new Ko(w,m)),Ql(a)}else Hg(a);else if(L=d.s,L==3||L==0&&0<d.X||!(w==1&&O1(a,d)||w==2&&Gd(a)))switch(m&&0<m.length&&(d=a.h,d.i=d.i.concat(m)),L){case 1:Ds(a,5);break;case 4:Ds(a,10);break;case 3:Ds(a,6);break;default:Ds(a,2)}}}function qg(a,d){let m=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(m*=2),m*d}function Ds(a,d){if(a.j.info("Error code "+d),d==2){var m=g(a.fb,a),w=a.Xa;const L=!w;w=new Ns(w||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||zl(w,"https"),Wl(w),L?C1(w.toString(),m):b1(w.toString(),m)}else Ge(2);a.G=0,a.l&&a.l.sa(d),Kg(a),$g(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),Ge(2)):(this.j.info("Failed to ping google.com"),Ge(1))};function Kg(a){if(a.G=0,a.ka=[],a.l){const d=Y(a.h);(d.length!=0||a.i.length!=0)&&(R(a.ka,d),R(a.ka,a.i),a.h.i.length=0,I(a.i),a.i.length=0),a.l.ra()}}function Jg(a,d,m){var w=m instanceof Ns?sr(m):new Ns(m);if(w.g!="")d&&(w.g=d+"."+w.g),Hl(w,w.s);else{var L=l.location;w=L.protocol,d=d?d+"."+L.hostname:L.hostname,L=+L.port;var V=new Ns(null);w&&zl(V,w),d&&(V.g=d),L&&Hl(V,L),m&&(V.l=m),w=V}return m=a.D,d=a.ya,m&&d&&Ce(w,m,d),Ce(w,"VER",a.la),ia(a,w),w}function Qg(a,d,m){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Fe(new Gl({eb:m})):new Fe(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yg(){}t=Yg.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Xl(){}Xl.prototype.g=function(a,d){return new qt(a,d)};function qt(a,d){Ve.call(this),this.g=new Bg(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!y(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!y(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Si(this)}k(qt,Ve),qt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},qt.prototype.close=function(){Wd(this.g)},qt.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var m={};m.__data__=a,a=m}else this.u&&(m={},m.__data__=Wo(a),a=m);d.i.push(new j(d.Ya++,a)),d.G==3&&Ql(d)},qt.prototype.N=function(){this.g.l=null,delete this.j,Wd(this.g),delete this.g,qt.aa.N.call(this)};function Xg(a){yi.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(const m in d){a=m;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}k(Xg,yi);function Zg(){Zn.call(this),this.status=1}k(Zg,Zn);function Si(a){this.g=a}k(Si,Yg),Si.prototype.ua=function(){lt(this.g,"a")},Si.prototype.ta=function(a){lt(this.g,new Xg(a))},Si.prototype.sa=function(a){lt(this.g,new Zg)},Si.prototype.ra=function(){lt(this.g,"b")},Xl.prototype.createWebChannel=Xl.prototype.g,qt.prototype.send=qt.prototype.o,qt.prototype.open=qt.prototype.m,qt.prototype.close=qt.prototype.close,OS=function(){return new Xl},DS=function(){return Dr()},NS=er,um={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},vi.NO_ERROR=0,vi.TIMEOUT=8,vi.HTTP_ERROR=6,qu=vi,jl.COMPLETE="complete",AS=jl,fn.EventType=ut,ut.OPEN="a",ut.CLOSE="b",ut.ERROR="c",ut.MESSAGE="d",Ve.prototype.listen=Ve.prototype.K,Ea=fn,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,PS=Fe}).apply(typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{});const av="@firebase/firestore",lv="4.7.11";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lo="11.6.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ii=new Sd("@firebase/firestore");function Pi(){return ii.logLevel}function G(t,...e){if(ii.logLevel<=ue.DEBUG){const n=e.map(Jp);ii.debug(`Firestore (${Lo}): ${t}`,...n)}}function Sr(t,...e){if(ii.logLevel<=ue.ERROR){const n=e.map(Jp);ii.error(`Firestore (${Lo}): ${t}`,...n)}}function _o(t,...e){if(ii.logLevel<=ue.WARN){const n=e.map(Jp);ii.warn(`Firestore (${Lo}): ${t}`,...n)}}function Jp(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function re(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,MS(t,r,n)}function MS(t,e,n){let r=`FIRESTORE (${Lo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Sr(r),new Error(r)}function Me(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||MS(e,s,r)}function fe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Z extends Pn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class j2{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}}class V2{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class F2{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0,42304);let r=this.i;const s=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve();let i=new Ks;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ks,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const u=i;e.enqueueRetryable(async()=>{await u.promise,await s(this.currentUser)})},l=u=>{G("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>l(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?l(u):(G("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ks)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(G("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string",31837,{l:r}),new LS(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string",2055,{h:e}),new Et(e)}}class B2{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class $2{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new B2(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class uv{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U2{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Un(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Me(this.o===void 0,3512);const r=i=>{i.error!=null&&G("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,G("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{G("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):G("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new uv(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new uv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z2(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=z2(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function ae(t,e){return t<e?-1:t>e?1:0}function cm(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),s=e.codePointAt(n);if(r!==s){if(r<128&&s<128)return ae(r,s);{const i=jS(),o=H2(i.encode(cv(t,n)),i.encode(cv(e,n)));return o!==0?o:ae(r,s)}}n+=r>65535?2:1}return ae(t.length,e.length)}function cv(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function H2(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return ae(t[n],e[n]);return ae(t.length,e.length)}function xo(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dv=-62135596800,hv=1e6;class Gt{static now(){return Gt.fromMillis(Date.now())}static fromDate(e){return Gt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*hv);return new Gt(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Z(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Z(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<dv)throw new Z(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Z(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hv}_compareTo(e){return this.seconds===e.seconds?ae(this.nanoseconds,e.nanoseconds):ae(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-dv;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{static fromTimestamp(e){return new ne(e)}static min(){return new ne(new Gt(0,0))}static max(){return new ne(new Gt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fv="__name__";class Fn{constructor(e,n,r){n===void 0?n=0:n>e.length&&re(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&re(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Fn.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Fn?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Fn.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return ae(e.length,n.length)}static compareSegments(e,n){const r=Fn.isNumericId(e),s=Fn.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Fn.extractNumericId(e).compare(Fn.extractNumericId(n)):cm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return hs.fromString(e.substring(4,e.length-2))}}class $e extends Fn{construct(e,n,r){return new $e(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Z(W.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new $e(n)}static emptyPath(){return new $e([])}}const W2=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class At extends Fn{construct(e,n,r){return new At(e,n,r)}static isValidIdentifier(e){return W2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),At.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===fv}static keyField(){return new At([fv])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new Z(W.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const l=e[s];if(l==="\\"){if(s+1===e.length)throw new Z(W.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const u=e[s+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new Z(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,s+=2}else l==="`"?(o=!o,s++):l!=="."||o?(r+=l,s++):(i(),s++)}if(i(),o)throw new Z(W.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new At(n)}static emptyPath(){return new At([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.path=e}static fromPath(e){return new ee($e.fromString(e))}static fromName(e){return new ee($e.fromString(e).popFirst(5))}static empty(){return new ee($e.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&$e.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return $e.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ee(new $e(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function G2(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=ne.fromTimestamp(r===1e9?new Gt(n+1,0):new Gt(n,r));return new gs(s,ee.empty(),e)}function q2(t){return new gs(t.readTime,t.key,cl)}class gs{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new gs(ne.min(),ee.empty(),cl)}static max(){return new gs(ne.max(),ee.empty(),cl)}}function K2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ee.comparator(t.documentKey,e.documentKey),n!==0?n:ae(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Q2{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Id(t){if(t.code!==W.FAILED_PRECONDITION||t.message!==J2)throw t;G("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new B((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof B?n:B.resolve(n)}catch(n){return B.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):B.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):B.reject(n)}static resolve(e){return new B((n,r)=>{n(e)})}static reject(e){return new B((n,r)=>{r(e)})}static waitFor(e){return new B((n,r)=>{let s=0,i=0,o=!1;e.forEach(l=>{++s,l.next(()=>{++i,o&&i===s&&n()},u=>r(u))}),o=!0,i===s&&n()})}static or(e){let n=B.resolve(!1);for(const r of e)n=n.next(s=>s?B.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new B((r,s)=>{const i=e.length,o=new Array(i);let l=0;for(let u=0;u<i;u++){const c=u;n(e[c]).next(h=>{o[c]=h,++l,l===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new B((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function Y2(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function jo(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>n.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Cd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X2=-1;function bd(t){return t==null}function dm(t){return t===0&&1/t==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FS="";function Z2(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=mv(e)),e=eO(t.get(n),e);return mv(e)}function eO(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case FS:n+="";break;default:n+=i}}return n}function mv(t){return t+FS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pv(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Cl(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function tO(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.comparator=e,this.root=n||ht.EMPTY}insert(e,n){return new We(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,ht.BLACK,null,null))}remove(e){return new We(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ht.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Eu(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Eu(this.root,e,this.comparator,!1)}getReverseIterator(){return new Eu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Eu(this.root,e,this.comparator,!0)}}class Eu{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ht{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??ht.RED,this.left=s??ht.EMPTY,this.right=i??ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new ht(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw re(27949);return e+(this.isRed()?0:1)}}ht.EMPTY=null,ht.RED=!0,ht.BLACK=!1;ht.EMPTY=new class{constructor(){this.size=0}get key(){throw re(57766)}get value(){throw re(16141)}get color(){throw re(16727)}get left(){throw re(29726)}get right(){throw re(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new ht(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new gv(this.data.getIterator())}getIteratorFrom(e){return new gv(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof et)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new et(this.comparator);return n.data=e,n}}class gv{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es{constructor(e){this.fields=e,e.sort(At.comparator)}static empty(){return new es([])}unionWith(e){let n=new et(At.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new es(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new BS("Invalid base64 string: "+i):i}}(e);return new pt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ae(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pt.EMPTY_BYTE_STRING=new pt("");const nO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ys(t){if(Me(!!t,39018),typeof t=="string"){let e=0;const n=nO.exec(t);if(Me(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ze(t.seconds),nanos:ze(t.nanos)}}function ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function vs(t){return typeof t=="string"?pt.fromBase64String(t):pt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="server_timestamp",US="__type__",zS="__previous_value__",HS="__local_write_time__";function Qp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[US])===null||n===void 0?void 0:n.stringValue)===$S}function Rd(t){const e=t.mapValue.fields[zS];return Qp(e)?Rd(e):e}function dl(t){const e=ys(t.mapValue.fields[HS].timestampValue);return new Gt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e,n,r,s,i,o,l,u,c){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=u,this.useFetchStreams=c}}const Oc="(default)";class hl{constructor(e,n){this.projectId=e,this.database=n||Oc}static empty(){return new hl("","")}get isDefaultDatabase(){return this.database===Oc}isEqual(e){return e instanceof hl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sO="__type__",iO="__max__",Su={mapValue:{}},oO="__vector__",hm="value";function ws(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Qp(t)?4:lO(t)?9007199254740991:aO(t)?10:11:re(28295,{value:t})}function Qn(t,e){if(t===e)return!0;const n=ws(t);if(n!==ws(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return dl(t).isEqual(dl(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=ys(s.timestampValue),l=ys(i.timestampValue);return o.seconds===l.seconds&&o.nanos===l.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return vs(s.bytesValue).isEqual(vs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ze(s.geoPointValue.latitude)===ze(i.geoPointValue.latitude)&&ze(s.geoPointValue.longitude)===ze(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ze(s.integerValue)===ze(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ze(s.doubleValue),l=ze(i.doubleValue);return o===l?dm(o)===dm(l):isNaN(o)&&isNaN(l)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],Qn);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},l=i.mapValue.fields||{};if(pv(o)!==pv(l))return!1;for(const u in o)if(o.hasOwnProperty(u)&&(l[u]===void 0||!Qn(o[u],l[u])))return!1;return!0}(t,e);default:return re(52216,{left:t})}}function fl(t,e){return(t.values||[]).find(n=>Qn(n,e))!==void 0}function Eo(t,e){if(t===e)return 0;const n=ws(t),r=ws(e);if(n!==r)return ae(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ae(t.booleanValue,e.booleanValue);case 2:return function(i,o){const l=ze(i.integerValue||i.doubleValue),u=ze(o.integerValue||o.doubleValue);return l<u?-1:l>u?1:l===u?0:isNaN(l)?isNaN(u)?0:-1:1}(t,e);case 3:return yv(t.timestampValue,e.timestampValue);case 4:return yv(dl(t),dl(e));case 5:return cm(t.stringValue,e.stringValue);case 6:return function(i,o){const l=vs(i),u=vs(o);return l.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const l=i.split("/"),u=o.split("/");for(let c=0;c<l.length&&c<u.length;c++){const h=ae(l[c],u[c]);if(h!==0)return h}return ae(l.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const l=ae(ze(i.latitude),ze(o.latitude));return l!==0?l:ae(ze(i.longitude),ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return vv(t.arrayValue,e.arrayValue);case 10:return function(i,o){var l,u,c,h;const p=i.fields||{},g=o.fields||{},E=(l=p[hm])===null||l===void 0?void 0:l.arrayValue,k=(u=g[hm])===null||u===void 0?void 0:u.arrayValue,I=ae(((c=E==null?void 0:E.values)===null||c===void 0?void 0:c.length)||0,((h=k==null?void 0:k.values)===null||h===void 0?void 0:h.length)||0);return I!==0?I:vv(E,k)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===Su.mapValue&&o===Su.mapValue)return 0;if(i===Su.mapValue)return 1;if(o===Su.mapValue)return-1;const l=i.fields||{},u=Object.keys(l),c=o.fields||{},h=Object.keys(c);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){const g=cm(u[p],h[p]);if(g!==0)return g;const E=Eo(l[u[p]],c[h[p]]);if(E!==0)return E}return ae(u.length,h.length)}(t.mapValue,e.mapValue);default:throw re(23264,{Pe:n})}}function yv(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ae(t,e);const n=ys(t),r=ys(e),s=ae(n.seconds,r.seconds);return s!==0?s:ae(n.nanos,r.nanos)}function vv(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Eo(n[s],r[s]);if(i)return i}return ae(n.length,r.length)}function So(t){return fm(t)}function fm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ys(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return vs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ee.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=fm(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${fm(n.fields[o])}`;return s+"}"}(t.mapValue):re(61005,{value:t})}function Ku(t){switch(ws(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Rd(t);return e?16+Ku(e):16;case 5:return 2*t.stringValue.length;case 6:return vs(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Ku(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Cl(r.fields,(i,o)=>{s+=i.length+Ku(o)}),s}(t.mapValue);default:throw re(13486,{value:t})}}function mm(t){return!!t&&"integerValue"in t}function Yp(t){return!!t&&"arrayValue"in t}function wv(t){return!!t&&"nullValue"in t}function _v(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Fh(t){return!!t&&"mapValue"in t}function aO(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[sO])===null||n===void 0?void 0:n.stringValue)===oO}function La(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Cl(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=La(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=La(t.arrayValue.values[n]);return e}return Object.assign({},t)}function lO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===iO}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.value=e}static empty(){return new zn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Fh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=La(n)}setAll(e){let n=At.emptyPath(),r={},s=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const u=this.getFieldsMap(n);this.applyChanges(u,r,s),r={},s=[],n=l.popLast()}o?r[l.lastSegment()]=La(o):s.push(l.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Fh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Qn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Fh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Cl(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new zn(La(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tt{constructor(e,n,r,s,i,o,l){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=l}static newInvalidDocument(e){return new Tt(e,0,ne.min(),ne.min(),ne.min(),zn.empty(),0)}static newFoundDocument(e,n,r,s){return new Tt(e,1,n,ne.min(),r,s,0)}static newNoDocument(e,n){return new Tt(e,2,n,ne.min(),ne.min(),zn.empty(),0)}static newUnknownDocument(e,n){return new Tt(e,3,n,ne.min(),ne.min(),zn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=zn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=zn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Tt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Tt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,n){this.position=e,this.inclusive=n}}function xv(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ee.comparator(ee.fromName(o.referenceValue),n.key):r=Eo(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Ev(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Qn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(e,n="asc"){this.field=e,this.dir=n}}function uO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WS{}class Xe extends WS{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new dO(e,n,r):n==="array-contains"?new mO(e,r):n==="in"?new pO(e,r):n==="not-in"?new gO(e,r):n==="array-contains-any"?new yO(e,r):new Xe(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new hO(e,r):new fO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Eo(n,this.value)):n!==null&&ws(this.value)===ws(n)&&this.matchesComparison(Eo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends WS{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return GS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function GS(t){return t.op==="and"}function qS(t){return cO(t)&&GS(t)}function cO(t){for(const e of t.filters)if(e instanceof Yn)return!1;return!0}function pm(t){if(t instanceof Xe)return t.field.canonicalString()+t.op.toString()+So(t.value);if(qS(t))return t.filters.map(e=>pm(e)).join(",");{const e=t.filters.map(n=>pm(n)).join(",");return`${t.op}(${e})`}}function KS(t,e){return t instanceof Xe?function(r,s){return s instanceof Xe&&r.op===s.op&&r.field.isEqual(s.field)&&Qn(r.value,s.value)}(t,e):t instanceof Yn?function(r,s){return s instanceof Yn&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,l)=>i&&KS(o,s.filters[l]),!0):!1}(t,e):void re(19439)}function JS(t){return t instanceof Xe?function(n){return`${n.field.canonicalString()} ${n.op} ${So(n.value)}`}(t):t instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(JS).join(" ,")+"}"}(t):"Filter"}class dO extends Xe{constructor(e,n,r){super(e,n,r),this.key=ee.fromName(r.referenceValue)}matches(e){const n=ee.comparator(e.key,this.key);return this.matchesComparison(n)}}class hO extends Xe{constructor(e,n){super(e,"in",n),this.keys=QS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class fO extends Xe{constructor(e,n){super(e,"not-in",n),this.keys=QS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function QS(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ee.fromName(r.referenceValue))}class mO extends Xe{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Yp(n)&&fl(n.arrayValue,this.value)}}class pO extends Xe{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&fl(this.value.arrayValue,n)}}class gO extends Xe{constructor(e,n){super(e,"not-in",n)}matches(e){if(fl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!fl(this.value.arrayValue,n)}}class yO extends Xe{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Yp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>fl(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO{constructor(e,n=null,r=[],s=[],i=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=l,this.Ie=null}}function Sv(t,e=null,n=[],r=[],s=null,i=null,o=null){return new vO(t,e,n,r,s,i,o)}function Xp(t){const e=fe(t);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>pm(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>So(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>So(r)).join(",")),e.Ie=n}return e.Ie}function Zp(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!uO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!KS(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Ev(t.startAt,e.startAt)&&Ev(t.endAt,e.endAt)}function gm(t){return ee.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e,n=null,r=[],s=[],i=null,o="F",l=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=l,this.endAt=u,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function wO(t,e,n,r,s,i,o,l){return new Pd(t,e,n,r,s,i,o,l)}function eg(t){return new Pd(t)}function Tv(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function _O(t){return t.collectionGroup!==null}function ja(t){const e=fe(t);if(e.Ee===null){e.Ee=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ee.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let l=new et(At.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(c=>{c.isInequality()&&(l=l.add(c.field))})}),l})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ee.push(new Lc(i,r))}),n.has(At.keyField().canonicalString())||e.Ee.push(new Lc(At.keyField(),r))}return e.Ee}function Gn(t){const e=fe(t);return e.de||(e.de=xO(e,ja(t))),e.de}function xO(t,e){if(t.limitType==="F")return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Lc(s.field,i)});const n=t.endAt?new Mc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Mc(t.startAt.position,t.startAt.inclusive):null;return Sv(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ym(t,e,n){return new Pd(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ad(t,e){return Zp(Gn(t),Gn(e))&&t.limitType===e.limitType}function YS(t){return`${Xp(Gn(t))}|lt:${t.limitType}`}function Ai(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>JS(s)).join(", ")}]`),bd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>So(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>So(s)).join(",")),`Target(${r})`}(Gn(t))}; limitType=${t.limitType})`}function Nd(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ee.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of ja(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,l,u){const c=xv(o,l,u);return o.inclusive?c<=0:c<0}(r.startAt,ja(r),s)||r.endAt&&!function(o,l,u){const c=xv(o,l,u);return o.inclusive?c>=0:c>0}(r.endAt,ja(r),s))}(t,e)}function EO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function XS(t){return(e,n)=>{let r=!1;for(const s of ja(t)){const i=SO(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function SO(t,e,n){const r=t.field.isKeyField()?ee.comparator(e.key,n.key):function(i,o,l){const u=o.data.field(i),c=l.data.field(i);return u!==null&&c!==null?Eo(u,c):re(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return re(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Cl(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return tO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TO=new We(ee.comparator);function _s(){return TO}const ZS=new We(ee.comparator);function Sa(...t){let e=ZS;for(const n of t)e=e.insert(n.key,n);return e}function kO(t){let e=ZS;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function zs(){return Va()}function eT(){return Va()}function Va(){return new di(t=>t.toString(),(t,e)=>t.isEqual(e))}const IO=new et(ee.comparator);function pe(...t){let e=IO;for(const n of t)e=e.add(n);return e}const CO=new et(ae);function bO(){return CO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:dm(e)?"-0":e}}function PO(t){return{integerValue:""+t}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(){this._=void 0}}function AO(t,e,n){return t instanceof vm?function(s,i){const o={fields:{[US]:{stringValue:$S},[HS]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Qp(i)&&(i=Rd(i)),i&&(o.fields[zS]=i),{mapValue:o}}(n,e):t instanceof jc?tT(t,e):t instanceof Vc?nT(t,e):function(s,i){const o=DO(s,i),l=kv(o)+kv(s.Re);return mm(o)&&mm(s.Re)?PO(l):RO(s.serializer,l)}(t,e)}function NO(t,e,n){return t instanceof jc?tT(t,e):t instanceof Vc?nT(t,e):n}function DO(t,e){return t instanceof wm?function(r){return mm(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class vm extends Dd{}class jc extends Dd{constructor(e){super(),this.elements=e}}function tT(t,e){const n=rT(e);for(const r of t.elements)n.some(s=>Qn(s,r))||n.push(r);return{arrayValue:{values:n}}}class Vc extends Dd{constructor(e){super(),this.elements=e}}function nT(t,e){let n=rT(e);for(const r of t.elements)n=n.filter(s=>!Qn(s,r));return{arrayValue:{values:n}}}class wm extends Dd{constructor(e,n){super(),this.serializer=e,this.Re=n}}function kv(t){return ze(t.integerValue||t.doubleValue)}function rT(t){return Yp(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function OO(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof jc&&s instanceof jc||r instanceof Vc&&s instanceof Vc?xo(r.elements,s.elements,Qn):r instanceof wm&&s instanceof wm?Qn(r.Re,s.Re):r instanceof vm&&s instanceof vm}(t.transform,e.transform)}class Js{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Js}static exists(e){return new Js(void 0,e)}static updateTime(e){return new Js(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ju(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class tg{}function sT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new LO(t.key,Js.none()):new ng(t.key,t.data,Js.none());{const n=t.data,r=zn.empty();let s=new et(At.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Od(t.key,r,new es(s.toArray()),Js.none())}}function MO(t,e,n){t instanceof ng?function(s,i,o){const l=s.value.clone(),u=Cv(s.fieldTransforms,i,o.transformResults);l.setAll(u),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):t instanceof Od?function(s,i,o){if(!Ju(s.precondition,i))return void i.convertToUnknownDocument(o.version);const l=Cv(s.fieldTransforms,i,o.transformResults),u=i.data;u.setAll(iT(s)),u.setAll(l),i.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Fa(t,e,n,r){return t instanceof ng?function(i,o,l,u){if(!Ju(i.precondition,o))return l;const c=i.value.clone(),h=bv(i.fieldTransforms,u,o);return c.setAll(h),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Od?function(i,o,l,u){if(!Ju(i.precondition,o))return l;const c=bv(i.fieldTransforms,u,o),h=o.data;return h.setAll(iT(i)),h.setAll(c),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),l===null?null:l.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(i,o,l){return Ju(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):l}(t,e,n)}function Iv(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&xo(r,s,(i,o)=>OO(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class ng extends tg{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Od extends tg{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iT(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Cv(t,e,n){const r=new Map;Me(t.length===n.length,32656,{Ve:n.length,me:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,l=e.data.field(i.field);r.set(i.field,NO(o,l,n[s]))}return r}function bv(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,AO(i,o,e))}return r}class LO extends tg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&MO(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Fa(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=eT();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let l=this.applyToLocalView(o,i.mutatedFields);l=n.has(s.key)?null:l;const u=sT(o,l);u!==null&&r.set(s.key,u),o.isValidDocument()||o.convertToNoDocument(ne.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),pe())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>Iv(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>Iv(n,r))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qe,he;function oT(t){if(t===void 0)return Sr("GRPC error has no .code"),W.UNKNOWN;switch(t){case qe.OK:return W.OK;case qe.CANCELLED:return W.CANCELLED;case qe.UNKNOWN:return W.UNKNOWN;case qe.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case qe.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case qe.INTERNAL:return W.INTERNAL;case qe.UNAVAILABLE:return W.UNAVAILABLE;case qe.UNAUTHENTICATED:return W.UNAUTHENTICATED;case qe.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case qe.NOT_FOUND:return W.NOT_FOUND;case qe.ALREADY_EXISTS:return W.ALREADY_EXISTS;case qe.PERMISSION_DENIED:return W.PERMISSION_DENIED;case qe.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case qe.ABORTED:return W.ABORTED;case qe.OUT_OF_RANGE:return W.OUT_OF_RANGE;case qe.UNIMPLEMENTED:return W.UNIMPLEMENTED;case qe.DATA_LOSS:return W.DATA_LOSS;default:return re(39323,{code:t})}}(he=qe||(qe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BO=new hs([4294967295,4294967295],0);function Rv(t){const e=jS().encode(t),n=new RS;return n.update(e),new Uint8Array(n.digest())}function Pv(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new hs([n,r],0),new hs([s,i],0)]}class rg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ta(`Invalid padding: ${n}`);if(r<0)throw new Ta(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ta(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ta(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=hs.fromNumber(this.pe)}we(e,n,r){let s=e.add(n.multiply(hs.fromNumber(r)));return s.compare(BO)===1&&(s=new hs([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=Rv(e),[r,s]=Pv(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);if(!this.be(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new rg(i,s,n);return r.forEach(l=>o.insert(l)),o}insert(e){if(this.pe===0)return;const n=Rv(e),[r,s]=Pv(n);for(let i=0;i<this.hashCount;i++){const o=this.we(r,s,i);this.Se(o)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ta extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,bl.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Md(ne.min(),s,new We(ae),_s(),pe())}}class bl{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new bl(r,n,pe(),pe(),pe())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,n,r,s){this.De=e,this.removedTargetIds=n,this.key=r,this.ve=s}}class aT{constructor(e,n){this.targetId=e,this.Ce=n}}class lT{constructor(e,n,r=pt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Av{constructor(){this.Fe=0,this.Me=Nv(),this.xe=pt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=pe(),n=pe(),r=pe();return this.Me.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:re(38017,{changeType:i})}}),new bl(this.xe,this.Oe,e,n,r)}Qe(){this.Ne=!1,this.Me=Nv()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Me(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class $O{constructor(e){this.ze=e,this.je=new Map,this.He=_s(),this.Je=Tu(),this.Ye=Tu(),this.Ze=new We(ae)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const r=this.rt(n);switch(e.state){case 0:this.it(n)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(n);break;case 3:this.it(n)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),r.ke(e.resumeToken));break;default:re(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((r,s)=>{this.it(s)&&n(s)})}ot(e){const n=e.targetId,r=e.Ce.count,s=this._t(n);if(s){const i=s.target;if(gm(i))if(r===0){const o=new ee(i.path);this.tt(n,o,Tt.newNoDocument(o,ne.min()))}else Me(r===1,20013,{expectedCount:r});else{const o=this.ut(n);if(o!==r){const l=this.ct(e),u=l?this.lt(l,e,o):1;if(u!==0){this.st(n);const c=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,c)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,l;try{o=vs(r).toUint8Array()}catch(u){if(u instanceof BS)return _o("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{l=new rg(o,s,i)}catch(u){return _o(u instanceof Ta?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return l.pe===0?null:l}lt(e,n,r){return n.Ce.count===r-this.Tt(e,n.targetId)?0:2}Tt(e,n){const r=this.ze.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.ze.Pt(),l=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(l)||(this.tt(n,i,null),s++)}),s}It(e){const n=new Map;this.je.forEach((i,o)=>{const l=this._t(o);if(l){if(i.current&&gm(l.target)){const u=new ee(l.target.path);this.Et(u).has(o)||this.dt(o,u)||this.tt(o,u,Tt.newNoDocument(u,e))}i.Le&&(n.set(o,i.qe()),i.Qe())}});let r=pe();this.Ye.forEach((i,o)=>{let l=!0;o.forEachWhile(u=>{const c=this._t(u);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(r=r.add(i))}),this.He.forEach((i,o)=>o.setReadTime(e));const s=new Md(e,n,this.Ze,this.He,r);return this.He=_s(),this.Je=Tu(),this.Ye=Tu(),this.Ze=new We(ae),s}et(e,n){if(!this.it(e))return;const r=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,r),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,n)?s.$e(n,1):s.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),r&&(this.He=this.He.insert(n,r))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new Av,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new et(ae),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new et(ae),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||G("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new Av),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Tu(){return new We(ee.comparator)}function Nv(){return new We(ee.comparator)}const UO={asc:"ASCENDING",desc:"DESCENDING"},zO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},HO={and:"AND",or:"OR"};class WO{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function _m(t,e){return t.useProto3Json||bd(e)?e:{value:e}}function GO(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function qO(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function to(t){return Me(!!t,49232),ne.fromTimestamp(function(n){const r=ys(n);return new Gt(r.seconds,r.nanos)}(t))}function KO(t,e){return xm(t,e).canonicalString()}function xm(t,e){const n=function(s){return new $e(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uT(t){const e=$e.fromString(t);return Me(mT(e),10190,{key:e.toString()}),e}function Bh(t,e){const n=uT(e);if(n.get(1)!==t.databaseId.projectId)throw new Z(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Z(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ee(dT(n))}function cT(t,e){return KO(t.databaseId,e)}function JO(t){const e=uT(t);return e.length===4?$e.emptyPath():dT(e)}function Dv(t){return new $e(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function dT(t){return Me(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function QO(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:re(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(c,h){return c.useProto3Json?(Me(h===void 0||typeof h=="string",58123),pt.fromBase64String(h||"")):(Me(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),pt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(c){const h=c.code===void 0?W.UNKNOWN:oT(c.code);return new Z(h,c.message||"")}(o);n=new lT(r,s,i,l||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=Bh(t,r.document.name),i=to(r.document.updateTime),o=r.document.createTime?to(r.document.createTime):ne.min(),l=new zn({mapValue:{fields:r.document.fields}}),u=Tt.newFoundDocument(s,i,o,l),c=r.targetIds||[],h=r.removedTargetIds||[];n=new Qu(c,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=Bh(t,r.document),i=r.readTime?to(r.readTime):ne.min(),o=Tt.newNoDocument(s,i),l=r.removedTargetIds||[];n=new Qu([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=Bh(t,r.document),i=r.removedTargetIds||[];n=new Qu([],i,s,null)}else{if(!("filter"in e))return re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new FO(s,i),l=r.targetId;n=new aT(l,o)}}return n}function YO(t,e){return{documents:[cT(t,e.path)]}}function XO(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=cT(t,s);const i=function(c){if(c.length!==0)return fT(Yn.create(c,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(c){if(c.length!==0)return c.map(h=>function(g){return{field:Ni(g.field),direction:tM(g.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const l=_m(t,e.limit);return l!==null&&(n.structuredQuery.limit=l),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{gt:n,parent:s}}function ZO(t){let e=JO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Me(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(p){const g=hT(p);return g instanceof Yn&&qS(g)?g.getFilters():[g]}(n.where));let o=[];n.orderBy&&(o=function(p){return p.map(g=>function(k){return new Lc(Di(k.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(g))}(n.orderBy));let l=null;n.limit&&(l=function(p){let g;return g=typeof p=="object"?p.value:p,bd(g)?null:g}(n.limit));let u=null;n.startAt&&(u=function(p){const g=!!p.before,E=p.values||[];return new Mc(E,g)}(n.startAt));let c=null;return n.endAt&&(c=function(p){const g=!p.before,E=p.values||[];return new Mc(E,g)}(n.endAt)),wO(e,s,o,i,l,"F",u,c)}function eM(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return re(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function hT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Di(n.unaryFilter.field);return Xe.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Di(n.unaryFilter.field);return Xe.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Di(n.unaryFilter.field);return Xe.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Di(n.unaryFilter.field);return Xe.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return re(61313);default:return re(60726)}}(t):t.fieldFilter!==void 0?function(n){return Xe.create(Di(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return re(58110);default:return re(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(r=>hT(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return re(1026)}}(n.compositeFilter.op))}(t):re(30097,{filter:t})}function tM(t){return UO[t]}function nM(t){return zO[t]}function rM(t){return HO[t]}function Ni(t){return{fieldPath:t.canonicalString()}}function Di(t){return At.fromServerFormat(t.fieldPath)}function fT(t){return t instanceof Xe?function(n){if(n.op==="=="){if(_v(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NAN"}};if(wv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(_v(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NAN"}};if(wv(n.value))return{unaryFilter:{field:Ni(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ni(n.field),op:nM(n.op),value:n.value}}}(t):t instanceof Yn?function(n){const r=n.getFilters().map(s=>fT(s));return r.length===1?r[0]:{compositeFilter:{op:rM(n.op),filters:r}}}(t):re(54877,{filter:t})}function mT(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts{constructor(e,n,r,s,i=ne.min(),o=ne.min(),l=pt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=u}withSequenceNumber(e){return new ts(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ts(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e){this.wt=e}}function iM(t){const e=ZO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ym(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oM{constructor(){this.yn=new aM}addToCollectionParentIndex(e,n){return this.yn.add(n),B.resolve()}getCollectionParents(e,n){return B.resolve(this.yn.getEntries(n))}addFieldIndex(e,n){return B.resolve()}deleteFieldIndex(e,n){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,n){return B.resolve()}getDocumentsMatchingTarget(e,n){return B.resolve(null)}getIndexType(e,n){return B.resolve(0)}getFieldIndexes(e,n){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,n){return B.resolve(gs.min())}getMinOffsetFromCollectionGroup(e,n){return B.resolve(gs.min())}updateCollectionGroup(e,n,r){return B.resolve()}updateIndexEntries(e,n){return B.resolve()}}class aM{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new et($e.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new et($e.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ov={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},pT=41943040;class Vt{static withCacheSize(e){return new Vt(e,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vt.DEFAULT_COLLECTION_PERCENTILE=10,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Vt.DEFAULT=new Vt(pT,Vt.DEFAULT_COLLECTION_PERCENTILE,Vt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Vt.DISABLED=new Vt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new To(0)}static ir(){return new To(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv="LruGarbageCollector",lM=1048576;function Lv([t,e],[n,r]){const s=ae(t,n);return s===0?ae(e,r):s}class uM{constructor(e){this.cr=e,this.buffer=new et(Lv),this.lr=0}hr(){return++this.lr}Pr(e){const n=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();Lv(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class cM{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){G(Mv,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){jo(n)?G(Mv,"Ignoring IndexedDB error during garbage collection: ",n):await Id(n)}await this.Ir(3e5)})}}class dM{constructor(e,n){this.Er=e,this.params=n}calculateTargetCount(e,n){return this.Er.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return B.resolve(Cd.le);const r=new uM(n);return this.Er.forEachTarget(e,s=>r.Pr(s.sequenceNumber)).next(()=>this.Er.Ar(e,s=>r.Pr(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Er.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Er.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(G("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Ov)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(G("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ov):this.Rr(e,n))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,n){let r,s,i,o,l,u,c;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(p=>(p>this.params.maximumSequenceNumbersToCollect?(G("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),s=this.params.maximumSequenceNumbersToCollect):s=p,o=Date.now(),this.nthSequenceNumber(e,s))).next(p=>(r=p,l=Date.now(),this.removeTargets(e,r,n))).next(p=>(i=p,u=Date.now(),this.removeOrphanedDocuments(e,r))).next(p=>(c=Date.now(),Pi()<=ue.DEBUG&&G("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(l-o)+`ms
	Removed ${i} targets in `+(u-l)+`ms
	Removed ${p} documents in `+(c-u)+`ms
Total Duration: ${c-h}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:p})))}}function hM(t,e){return new dM(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.changes=new di(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Tt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?B.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pM{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Fa(r.mutation,s,es.empty(),Gt.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,pe()).next(()=>r))}getLocalViewOfDocuments(e,n,r=pe()){const s=zs();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=Sa();return i.forEach((l,u)=>{o=o.insert(l,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=zs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,pe()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,r,s){let i=_s();const o=Va(),l=function(){return Va()}();return n.forEach((u,c)=>{const h=r.get(c.key);s.has(c.key)&&(h===void 0||h.mutation instanceof Od)?i=i.insert(c.key,c):h!==void 0?(o.set(c.key,h.mutation.getFieldMask()),Fa(h.mutation,c,h.mutation.getFieldMask(),Gt.now())):o.set(c.key,es.empty())}),this.recalculateAndSaveOverlays(e,i).next(u=>(u.forEach((c,h)=>o.set(c,h)),n.forEach((c,h)=>{var p;return l.set(c,new mM(h,(p=o.get(c))!==null&&p!==void 0?p:null))}),l))}recalculateAndSaveOverlays(e,n){const r=Va();let s=new We((o,l)=>o-l),i=pe();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(u=>{const c=n.get(u);if(c===null)return;let h=r.get(u)||es.empty();h=l.applyToLocalView(c,h),r.set(u,h);const p=(s.get(l.batchId)||pe()).add(u);s=s.insert(l.batchId,p)})}).next(()=>{const o=[],l=s.getReverseIterator();for(;l.hasNext();){const u=l.getNext(),c=u.key,h=u.value,p=eT();h.forEach(g=>{if(!i.has(g)){const E=sT(n.get(g),r.get(g));E!==null&&p.set(g,E),i=i.add(g)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,p))}return B.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return function(o){return ee.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):_O(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):B.resolve(zs());let l=cl,u=i;return o.next(c=>B.forEach(c,(h,p)=>(l<p.largestBatchId&&(l=p.largestBatchId),i.get(h)?B.resolve():this.remoteDocumentCache.getEntry(e,h).next(g=>{u=u.insert(h,g)}))).next(()=>this.populateOverlays(e,c,i)).next(()=>this.computeViews(e,u,c,pe())).next(h=>({batchId:l,changes:kO(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ee(n)).next(r=>{let s=Sa();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=Sa();return this.indexManager.getCollectionParents(e,i).next(l=>B.forEach(l,u=>{const c=function(p,g){return new Pd(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(i));return this.getDocumentsMatchingCollectionQuery(e,c,r,s).next(h=>{h.forEach((p,g)=>{o=o.insert(p,g)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((u,c)=>{const h=c.getKey();o.get(h)===null&&(o=o.insert(h,Tt.newInvalidDocument(h)))});let l=Sa();return o.forEach((u,c)=>{const h=i.get(u);h!==void 0&&Fa(h.mutation,c,es.empty(),Gt.now()),Nd(n,c)&&(l=l.insert(u,c))}),l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gM{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,n){return B.resolve(this.Fr.get(n))}saveBundleMetadata(e,n){return this.Fr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:to(s.createTime)}}(n)),B.resolve()}getNamedQuery(e,n){return B.resolve(this.Mr.get(n))}saveNamedQuery(e,n){return this.Mr.set(n.name,function(s){return{name:s.name,query:iM(s.bundledQuery),readTime:to(s.readTime)}}(n)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yM{constructor(){this.overlays=new We(ee.comparator),this.Or=new Map}getOverlay(e,n){return B.resolve(this.overlays.get(n))}getOverlays(e,n){const r=zs();return B.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.St(e,n,i)}),B.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Or.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Or.delete(r)),B.resolve()}getOverlaysForCollection(e,n,r){const s=zs(),i=n.length+1,o=new ee(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const u=l.getNext().value,c=u.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===i&&u.largestBatchId>r&&s.set(u.getKey(),u)}return B.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new We((c,h)=>c-h);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let h=i.get(c.largestBatchId);h===null&&(h=zs(),i=i.insert(c.largestBatchId,h)),h.set(c.getKey(),c)}}const l=zs(),u=i.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((c,h)=>l.set(c,h)),!(l.size()>=s)););return B.resolve(l)}St(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Or.get(s.largestBatchId).delete(r.key);this.Or.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new VO(n,r));let i=this.Or.get(n);i===void 0&&(i=pe(),this.Or.set(n,i)),this.Or.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(){this.sessionToken=pt.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.Nr=new et(nt.Br),this.Lr=new et(nt.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,n){const r=new nt(e,n);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Qr(new nt(e,n))}$r(e,n){e.forEach(r=>this.removeReference(r,n))}Ur(e){const n=new ee(new $e([])),r=new nt(n,e),s=new nt(n,e+1),i=[];return this.Lr.forEachInRange([r,s],o=>{this.Qr(o),i.push(o.key)}),i}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const n=new ee(new $e([])),r=new nt(n,e),s=new nt(n,e+1);let i=pe();return this.Lr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new nt(e,0),r=this.Nr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class nt{constructor(e,n){this.key=e,this.Gr=n}static Br(e,n){return ee.comparator(e.key,n.key)||ae(e.Gr,n.Gr)}static kr(e,n){return ae(e.Gr,n.Gr)||ee.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wM{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Jn=1,this.zr=new et(nt.Br)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new jO(i,n,r,s);this.mutationQueue.push(o);for(const l of s)this.zr=this.zr.add(new nt(l.key,i)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return B.resolve(o)}lookupMutationBatch(e,n){return B.resolve(this.jr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Hr(r),i=s<0?0:s;return B.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?X2:this.Jn-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new nt(n,0),s=new nt(n,Number.POSITIVE_INFINITY),i=[];return this.zr.forEachInRange([r,s],o=>{const l=this.jr(o.Gr);i.push(l)}),B.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new et(ae);return n.forEach(s=>{const i=new nt(s,0),o=new nt(s,Number.POSITIVE_INFINITY);this.zr.forEachInRange([i,o],l=>{r=r.add(l.Gr)})}),B.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ee.isDocumentKey(i)||(i=i.child(""));const o=new nt(new ee(i),0);let l=new et(ae);return this.zr.forEachWhile(u=>{const c=u.key.path;return!!r.isPrefixOf(c)&&(c.length===s&&(l=l.add(u.Gr)),!0)},o),B.resolve(this.Jr(l))}Jr(e){const n=[];return e.forEach(r=>{const s=this.jr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Me(this.Yr(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return B.forEach(n.mutations,s=>{const i=new nt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,n){const r=new nt(n,0),s=this.zr.firstAfterOrEqual(r);return B.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Yr(e,n){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const n=this.Hr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _M{constructor(e){this.Zr=e,this.docs=function(){return new We(ee.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.Zr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return B.resolve(r?r.document.mutableCopy():Tt.newInvalidDocument(n))}getEntries(e,n){let r=_s();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Tt.newInvalidDocument(s))}),B.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=_s();const o=n.path,l=new ee(o.child("__id-9223372036854775808__")),u=this.docs.getIteratorFrom(l);for(;u.hasNext();){const{key:c,value:{document:h}}=u.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||K2(q2(h),r)<=0||(s.has(h.key)||Nd(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return B.resolve(i)}getAllFromCollectionGroup(e,n,r,s){re(9500)}Xr(e,n){return B.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new xM(this)}getSize(e){return B.resolve(this.size)}}class xM extends fM{constructor(e){super(),this.vr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.vr.addEntry(e,s)):this.vr.removeEntry(r)}),B.waitFor(n)}getFromCache(e,n){return this.vr.getEntry(e,n)}getAllFromCache(e,n){return this.vr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EM{constructor(e){this.persistence=e,this.ei=new di(n=>Xp(n),Zp),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.ti=0,this.ni=new sg,this.targetCount=0,this.ri=To.rr()}forEachTarget(e,n){return this.ei.forEach((r,s)=>n(s)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ti&&(this.ti=n),B.resolve()}ar(e){this.ei.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ri=new To(n),this.highestTargetId=n),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,n){return this.ar(n),this.targetCount+=1,B.resolve()}updateTargetData(e,n){return this.ar(n),B.resolve()}removeTargetData(e,n){return this.ei.delete(n.target),this.ni.Ur(n.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ei.forEach((o,l)=>{l.sequenceNumber<=n&&r.get(l.targetId)===null&&(this.ei.delete(o),i.push(this.removeMatchingKeysForTargetId(e,l.targetId)),s++)}),B.waitFor(i).next(()=>s)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,n){const r=this.ei.get(n)||null;return B.resolve(r)}addMatchingKeys(e,n,r){return this.ni.qr(n,r),B.resolve()}removeMatchingKeys(e,n,r){this.ni.$r(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),B.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.ni.Ur(n),B.resolve()}getMatchingKeysForTargetId(e,n){const r=this.ni.Wr(n);return B.resolve(r)}containsKey(e,n){return B.resolve(this.ni.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gT{constructor(e,n){this.ii={},this.overlays={},this.si=new Cd(0),this.oi=!1,this.oi=!0,this._i=new vM,this.referenceDelegate=e(this),this.ai=new EM(this),this.indexManager=new oM,this.remoteDocumentCache=function(s){return new _M(s)}(r=>this.referenceDelegate.ui(r)),this.serializer=new sM(n),this.ci=new gM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new yM,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ii[e.toKey()];return r||(r=new wM(n,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,n,r){G("MemoryPersistence","Starting transaction:",e);const s=new SM(this.si.next());return this.referenceDelegate.li(),r(s).next(i=>this.referenceDelegate.hi(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Pi(e,n){return B.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,n)))}}class SM extends Q2{constructor(e){super(),this.currentSequenceNumber=e}}class ig{constructor(e){this.persistence=e,this.Ti=new sg,this.Ii=null}static Ei(e){return new ig(e)}get di(){if(this.Ii)return this.Ii;throw re(60996)}addReference(e,n,r){return this.Ti.addReference(r,n),this.di.delete(r.toString()),B.resolve()}removeReference(e,n,r){return this.Ti.removeReference(r,n),this.di.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),B.resolve()}removeTarget(e,n){this.Ti.Ur(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}li(){this.Ii=new Set}hi(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.di,r=>{const s=ee.fromPath(r);return this.Ai(e,s).next(i=>{i||n.removeEntry(s,ne.min())})}).next(()=>(this.Ii=null,n.apply(e)))}updateLimboDocument(e,n){return this.Ai(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}ui(e){return 0}Ai(e,n){return B.or([()=>B.resolve(this.Ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Pi(e,n)])}}class Fc{constructor(e,n){this.persistence=e,this.Ri=new di(r=>Z2(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=hM(this,n)}static Ei(e,n){return new Fc(e,n)}li(){}hi(e){return B.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}Vr(e){let n=0;return this.Ar(e,r=>{n++}).next(()=>n)}Ar(e,n){return B.forEach(this.Ri,(r,s)=>this.gr(e,r,s).next(i=>i?B.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.Xr(e,o=>this.gr(e,o,n).next(l=>{l||(r++,i.removeEntry(o,ne.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.Ri.set(n,e.currentSequenceNumber),B.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,n,r){return this.Ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,n){return this.Ri.set(n,e.currentSequenceNumber),B.resolve()}ui(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ku(e.data.value)),n}gr(e,n,r){return B.or([()=>this.persistence.Pi(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.Ri.get(n);return B.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.ls=r,this.hs=s}static Ps(e,n){let r=pe(),s=pe();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new og(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return QA()?8:Y2(It())>0?6:4}()}initialize(e,n){this.As=e,this.indexManager=n,this.Ts=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.Rs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.Vs(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new TM;return this.fs(e,n,o).next(l=>{if(i.result=l,this.Is)return this.gs(e,n,o,l.size)})}).next(()=>i.result)}gs(e,n,r,s){return r.documentReadCount<this.Es?(Pi()<=ue.DEBUG&&G("QueryEngine","SDK will not create cache indexes for query:",Ai(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),B.resolve()):(Pi()<=ue.DEBUG&&G("QueryEngine","Query:",Ai(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Pi()<=ue.DEBUG&&G("QueryEngine","The SDK decides to create cache indexes for query:",Ai(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Gn(n))):B.resolve())}Rs(e,n){if(Tv(n))return B.resolve(null);let r=Gn(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=ym(n,null,"F"),r=Gn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=pe(...i);return this.As.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,r).next(u=>{const c=this.ps(n,l);return this.ys(n,c,o,u.readTime)?this.Rs(e,ym(n,null,"F")):this.ws(e,c,n,u)}))})))}Vs(e,n,r,s){return Tv(n)||s.isEqual(ne.min())?B.resolve(null):this.As.getDocuments(e,r).next(i=>{const o=this.ps(n,i);return this.ys(n,o,r,s)?B.resolve(null):(Pi()<=ue.DEBUG&&G("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Ai(n)),this.ws(e,o,n,G2(s,cl)).next(l=>l))})}ps(e,n){let r=new et(XS(e));return n.forEach((s,i)=>{Nd(e,i)&&(r=r.add(i))}),r}ys(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}fs(e,n,r){return Pi()<=ue.DEBUG&&G("QueryEngine","Using full collection scan to execute query:",Ai(n)),this.As.getDocumentsMatchingQuery(e,n,gs.min(),r)}ws(e,n,r,s){return this.As.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag="LocalStore",IM=3e8;class CM{constructor(e,n,r,s){this.persistence=e,this.bs=n,this.serializer=s,this.Ss=new We(ae),this.Ds=new di(i=>Xp(i),Zp),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new pM(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ss))}}function bM(t,e,n,r){return new CM(t,e,n,r)}async function yT(t,e){const n=fe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Fs(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],l=[];let u=pe();for(const c of s){o.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}for(const c of i){l.push(c.batchId);for(const h of c.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(c=>({Ms:c,removedBatchIds:o,addedBatchIds:l}))})})}function vT(t){const e=fe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.ai.getLastRemoteSnapshotVersion(n))}function RM(t,e){const n=fe(t),r=e.snapshotVersion;let s=n.Ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.Cs.newChangeBuffer({trackRemovals:!0});s=n.Ss;const l=[];e.targetChanges.forEach((h,p)=>{const g=s.get(p);if(!g)return;l.push(n.ai.removeMatchingKeys(i,h.removedDocuments,p).next(()=>n.ai.addMatchingKeys(i,h.addedDocuments,p)));let E=g.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(p)!==null?E=E.withResumeToken(pt.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(h.resumeToken,r)),s=s.insert(p,E),function(I,R,x){return I.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=IM?!0:x.addedDocuments.size+x.modifiedDocuments.size+x.removedDocuments.size>0}(g,E,h)&&l.push(n.ai.updateTargetData(i,E))});let u=_s(),c=pe();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),l.push(PM(i,o,e.documentUpdates).next(h=>{u=h.xs,c=h.Os})),!r.isEqual(ne.min())){const h=n.ai.getLastRemoteSnapshotVersion(i).next(p=>n.ai.setTargetsMetadata(i,i.currentSequenceNumber,r));l.push(h)}return B.waitFor(l).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,u,c)).next(()=>u)}).then(i=>(n.Ss=s,i))}function PM(t,e,n){let r=pe(),s=pe();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=_s();return n.forEach((l,u)=>{const c=i.get(l);u.isFoundDocument()!==c.isFoundDocument()&&(s=s.add(l)),u.isNoDocument()&&u.version.isEqual(ne.min())?(e.removeEntry(l,u.readTime),o=o.insert(l,u)):!c.isValidDocument()||u.version.compareTo(c.version)>0||u.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(u),o=o.insert(l,u)):G(ag,"Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",u.version)}),{xs:o,Os:s}})}function AM(t,e){const n=fe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.ai.getTargetData(r,e).next(i=>i?(s=i,B.resolve(s)):n.ai.allocateTargetId(r).next(o=>(s=new ts(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.ai.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.Ss.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.Ss=n.Ss.insert(r.targetId,r),n.Ds.set(e,r.targetId)),r})}async function Em(t,e,n){const r=fe(t),s=r.Ss.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!jo(o))throw o;G(ag,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(s.target)}function jv(t,e,n){const r=fe(t);let s=ne.min(),i=pe();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,c,h){const p=fe(u),g=p.Ds.get(h);return g!==void 0?B.resolve(p.Ss.get(g)):p.ai.getTargetData(c,h)}(r,o,Gn(e)).next(l=>{if(l)return s=l.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(o,l.targetId).next(u=>{i=u})}).next(()=>r.bs.getDocumentsMatchingQuery(o,e,n?s:ne.min(),n?i:pe())).next(l=>(NM(r,EO(e),l),{documents:l,Ns:i})))}function NM(t,e,n){let r=t.vs.get(e)||ne.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.vs.set(e,r)}class Vv{constructor(){this.activeTargetIds=bO()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class DM{constructor(){this.So=new Vv,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,n,r){this.Do[e]=n}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new Vv,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fv="ConnectivityMonitor";class Bv{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){G(Fv,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){G(Fv,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ku=null;function Sm(){return ku===null?ku=function(){return 268435456+Math.round(2147483648*Math.random())}():ku++,"0x"+ku.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h="RestConnection",MM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class LM{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Lo=n+"://"+e.host,this.ko=`projects/${r}/databases/${s}`,this.qo=this.databaseId.database===Oc?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Qo(e,n,r,s,i){const o=Sm(),l=this.$o(e,n.toUriEncodedString());G($h,`Sending RPC '${e}' ${o}:`,l,r);const u={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};return this.Uo(u,s,i),this.Ko(e,l,u,r).then(c=>(G($h,`Received RPC '${e}' ${o}: `,c),c),c=>{throw _o($h,`RPC '${e}' ${o} failed with error: `,c,"url: ",l,"request:",r),c})}Wo(e,n,r,s,i,o){return this.Qo(e,n,r,s,i)}Uo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Lo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}$o(e,n){const r=MM[e];return`${this.Lo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jM{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xt="WebChannelConnection";class VM extends LM{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,n,r,s){const i=Sm();return new Promise((o,l)=>{const u=new PS;u.setWithCredentials(!0),u.listenOnce(AS.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case qu.NO_ERROR:const h=u.getResponseJson();G(xt,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(h)),o(h);break;case qu.TIMEOUT:G(xt,`RPC '${e}' ${i} timed out`),l(new Z(W.DEADLINE_EXCEEDED,"Request time out"));break;case qu.HTTP_ERROR:const p=u.getStatus();if(G(xt,`RPC '${e}' ${i} failed with status:`,p,"response text:",u.getResponseText()),p>0){let g=u.getResponseJson();Array.isArray(g)&&(g=g[0]);const E=g==null?void 0:g.error;if(E&&E.status&&E.message){const k=function(R){const x=R.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(x)>=0?x:W.UNKNOWN}(E.status);l(new Z(k,E.message))}else l(new Z(W.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new Z(W.UNAVAILABLE,"Connection failed."));break;default:re(9055,{s_:e,streamId:i,o_:u.getLastErrorCode(),__:u.getLastError()})}}finally{G(xt,`RPC '${e}' ${i} completed.`)}});const c=JSON.stringify(s);G(xt,`RPC '${e}' ${i} sending request:`,s),u.send(n,"POST",c,r,15)})}a_(e,n,r){const s=Sm(),i=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=OS(),l=DS(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(u.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Uo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;const h=i.join("");G(xt,`Creating RPC '${e}' stream ${s}: ${h}`,u);const p=o.createWebChannel(h,u);let g=!1,E=!1;const k=new jM({Go:R=>{E?G(xt,`Not sending because RPC '${e}' stream ${s} is closed:`,R):(g||(G(xt,`Opening RPC '${e}' stream ${s} transport.`),p.open(),g=!0),G(xt,`RPC '${e}' stream ${s} sending:`,R),p.send(R))},zo:()=>p.close()}),I=(R,x,y)=>{R.listen(x,_=>{try{y(_)}catch(A){setTimeout(()=>{throw A},0)}})};return I(p,Ea.EventType.OPEN,()=>{E||(G(xt,`RPC '${e}' stream ${s} transport opened.`),k.t_())}),I(p,Ea.EventType.CLOSE,()=>{E||(E=!0,G(xt,`RPC '${e}' stream ${s} transport closed`),k.r_())}),I(p,Ea.EventType.ERROR,R=>{E||(E=!0,_o(xt,`RPC '${e}' stream ${s} transport errored. Name:`,R.name,"Message:",R.message),k.r_(new Z(W.UNAVAILABLE,"The operation could not be completed")))}),I(p,Ea.EventType.MESSAGE,R=>{var x;if(!E){const y=R.data[0];Me(!!y,16349);const _=y,A=(_==null?void 0:_.error)||((x=_[0])===null||x===void 0?void 0:x.error);if(A){G(xt,`RPC '${e}' stream ${s} received error:`,A);const O=A.status;let M=function(T){const C=qe[T];if(C!==void 0)return oT(C)}(O),S=A.message;M===void 0&&(M=W.INTERNAL,S="Unknown error status: "+O+" with message "+A.message),E=!0,k.r_(new Z(M,S)),p.close()}else G(xt,`RPC '${e}' stream ${s} received:`,y),k.i_(y)}}),I(l,NS.STAT_EVENT,R=>{R.stat===um.PROXY?G(xt,`RPC '${e}' stream ${s} detected buffering proxy`):R.stat===um.NOPROXY&&G(xt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{k.n_()},0),k}}function Uh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t){return new WO(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n,r=1e3,s=1.5,i=6e4){this.bi=e,this.timerId=n,this.u_=r,this.c_=s,this.l_=i,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const n=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),s=Math.max(0,n-r);s>0&&G("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.h_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,s,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="PersistentStream";class FM{constructor(e,n,r,s,i,o,l,u){this.bi=e,this.R_=r,this.V_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=u,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new _T(e,n)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,n){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():n&&n.code===W.RESOURCE_EXHAUSTED?(Sr(n.toString()),Sr("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):n&&n.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(n)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),n=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.m_===n&&this.B_(r,s)},r=>{e(()=>{const s=new Z(W.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(s)})})}B_(e,n){const r=this.N_(this.m_);this.stream=this.k_(e,n),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(s=>{r(()=>this.L_(s))}),this.stream.onMessage(s=>{r(()=>++this.p_==1?this.q_(s):this.onNext(s))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return G($v,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return n=>{this.bi.enqueueAndForget(()=>this.m_===e?n():(G($v,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class BM extends FM{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}k_(e,n){return this.connection.a_("Listen",e,n)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const n=QO(this.serializer,e),r=function(i){if(!("targetChange"in i))return ne.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?to(o.readTime):ne.min()}(e);return this.listener.Q_(n,r)}U_(e){const n={};n.database=Dv(this.serializer),n.addTarget=function(i,o){let l;const u=o.target;if(l=gm(u)?{documents:YO(i,u)}:{query:XO(i,u).gt},l.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){l.resumeToken=qO(i,o.resumeToken);const c=_m(i,o.expectedCount);c!==null&&(l.expectedCount=c)}else if(o.snapshotVersion.compareTo(ne.min())>0){l.readTime=GO(i,o.snapshotVersion.toTimestamp());const c=_m(i,o.expectedCount);c!==null&&(l.expectedCount=c)}return l}(this.serializer,e);const r=eM(this.serializer,e);r&&(n.labels=r),this.F_(n)}K_(e){const n={};n.database=Dv(this.serializer),n.removeTarget=e,this.F_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{}class UM extends $M{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.J_=!1}Y_(){if(this.J_)throw new Z(W.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,n,r,s){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Qo(e,xm(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Z(W.UNKNOWN,i.toString())})}Wo(e,n,r,s,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Wo(e,xm(n,r),s,o,l,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Z(W.UNKNOWN,o.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class zM{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(Sr(n),this.ea=!1):G("OnlineStateTracker",n)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ko="RemoteStore";class HM{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=i,this.ca.vo(o=>{r.enqueueAndForget(async()=>{Pl(this)&&(G(ko,"Restarting streams for network reachability change."),await async function(u){const c=fe(u);c.aa.add(4),await Rl(c),c.la.set("Unknown"),c.aa.delete(4),await Ld(c)}(this))})}),this.la=new zM(r,s)}}async function Ld(t){if(Pl(t))for(const e of t.ua)await e(!0)}async function Rl(t){for(const e of t.ua)await e(!1)}function xT(t,e){const n=fe(t);n._a.has(e.targetId)||(n._a.set(e.targetId,e),dg(n)?cg(n):Vo(n).b_()&&ug(n,e))}function lg(t,e){const n=fe(t),r=Vo(n);n._a.delete(e),r.b_()&&ET(n,e),n._a.size===0&&(r.b_()?r.v_():Pl(n)&&n.la.set("Unknown"))}function ug(t,e){if(t.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Vo(t).U_(e)}function ET(t,e){t.ha.Ke(e),Vo(t).K_(e)}function cg(t){t.ha=new $O({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>t._a.get(e)||null,Pt:()=>t.datastore.serializer.databaseId}),Vo(t).start(),t.la.ta()}function dg(t){return Pl(t)&&!Vo(t).w_()&&t._a.size>0}function Pl(t){return fe(t).aa.size===0}function ST(t){t.ha=void 0}async function WM(t){t.la.set("Online")}async function GM(t){t._a.forEach((e,n)=>{ug(t,e)})}async function qM(t,e){ST(t),dg(t)?(t.la.ia(e),cg(t)):t.la.set("Unknown")}async function KM(t,e,n){if(t.la.set("Online"),e instanceof lT&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const l of i.targetIds)s._a.has(l)&&(await s.remoteSyncer.rejectListen(l,o),s._a.delete(l),s.ha.removeTarget(l))}(t,e)}catch(r){G(ko,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Uv(t,r)}else if(e instanceof Qu?t.ha.Xe(e):e instanceof aT?t.ha.ot(e):t.ha.nt(e),!n.isEqual(ne.min()))try{const r=await vT(t.localStore);n.compareTo(r)>=0&&await function(i,o){const l=i.ha.It(o);return l.targetChanges.forEach((u,c)=>{if(u.resumeToken.approximateByteSize()>0){const h=i._a.get(c);h&&i._a.set(c,h.withResumeToken(u.resumeToken,o))}}),l.targetMismatches.forEach((u,c)=>{const h=i._a.get(u);if(!h)return;i._a.set(u,h.withResumeToken(pt.EMPTY_BYTE_STRING,h.snapshotVersion)),ET(i,u);const p=new ts(h.target,u,c,h.sequenceNumber);ug(i,p)}),i.remoteSyncer.applyRemoteEvent(l)}(t,n)}catch(r){G(ko,"Failed to raise snapshot:",r),await Uv(t,r)}}async function Uv(t,e,n){if(!jo(e))throw e;t.aa.add(1),await Rl(t),t.la.set("Offline"),n||(n=()=>vT(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{G(ko,"Retrying IndexedDB access"),await n(),t.aa.delete(1),await Ld(t)})}async function zv(t,e){const n=fe(t);n.asyncQueue.verifyOperationInProgress(),G(ko,"RemoteStore received new credentials");const r=Pl(n);n.aa.add(3),await Rl(n),r&&n.la.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.aa.delete(3),await Ld(n)}async function JM(t,e){const n=fe(t);e?(n.aa.delete(2),await Ld(n)):e||(n.aa.add(2),await Rl(n),n.la.set("Unknown"))}function Vo(t){return t.Pa||(t.Pa=function(n,r,s){const i=fe(n);return i.Y_(),new BM(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{jo:WM.bind(null,t),Jo:GM.bind(null,t),Zo:qM.bind(null,t),Q_:KM.bind(null,t)}),t.ua.push(async e=>{e?(t.Pa.D_(),dg(t)?cg(t):t.la.set("Unknown")):(await t.Pa.stop(),ST(t))})),t.Pa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,l=new hg(e,n,o,s,i);return l.start(r),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Z(W.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function TT(t,e){if(Sr("AsyncQueue",`${e}: ${t}`),jo(t))return new Z(W.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{static emptySet(e){return new no(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ee.comparator(n.key,r.key):(n,r)=>ee.comparator(n.key,r.key),this.keyedMap=Sa(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof no)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new no;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(){this.Ia=new We(ee.comparator)}track(e){const n=e.doc.key,r=this.Ia.get(n);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(n,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(n):e.type===1&&r.type===2?this.Ia=this.Ia.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(n,{type:2,doc:e.doc}):re(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(n,e)}da(){const e=[];return this.Ia.inorderTraversal((n,r)=>{e.push(r)}),e}}class Io{constructor(e,n,r,s,i,o,l,u,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=u,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new Io(e,n,no.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ad(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class YM{constructor(){this.queries=Wv(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(n,r){const s=fe(n),i=s.queries;s.queries=Wv(),i.forEach((o,l)=>{for(const u of l.Ra)u.onError(r)})})(this,new Z(W.ABORTED,"Firestore shutting down"))}}function Wv(){return new di(t=>YS(t),Ad)}async function XM(t,e){const n=fe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Va()&&e.ma()&&(r=2):(i=new QM,r=e.ma()?0:1);try{switch(r){case 0:i.Aa=await n.onListen(s,!0);break;case 1:i.Aa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const l=TT(o,`Initialization of query '${Ai(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,i),i.Ra.push(e),e.ga(n.onlineState),i.Aa&&e.pa(i.Aa)&&fg(n)}async function ZM(t,e){const n=fe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.Ra.indexOf(e);o>=0&&(i.Ra.splice(o,1),i.Ra.length===0?s=e.ma()?0:1:!i.Va()&&e.ma()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function eL(t,e){const n=fe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const l of o.Ra)l.pa(s)&&(r=!0);o.Aa=s}}r&&fg(n)}function tL(t,e,n){const r=fe(t),s=r.queries.get(e);if(s)for(const i of s.Ra)i.onError(n);r.queries.delete(e)}function fg(t){t.fa.forEach(e=>{e.next()})}var Tm,Gv;(Gv=Tm||(Tm={})).ya="default",Gv.Cache="cache";class nL{constructor(e,n,r){this.query=e,this.wa=n,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new Io(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ba?this.Da(e)&&(this.wa.next(e),n=!0):this.va(e,this.onlineState)&&(this.Ca(e),n=!0),this.Sa=e,n}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let n=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),n=!0),n}va(e,n){if(!e.fromCache||!this.ma())return!0;const r=n!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const n=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Ca(e){e=Io.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==Tm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kT{constructor(e){this.key=e}}class IT{constructor(e){this.key=e}}class rL{constructor(e,n){this.query=e,this.qa=n,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=pe(),this.mutatedKeys=pe(),this.Ua=XS(e),this.Ka=new no(this.Ua)}get Wa(){return this.qa}Ga(e,n){const r=n?n.za:new Hv,s=n?n.Ka:this.Ka;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,l=!1;const u=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,c=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,p)=>{const g=s.get(h),E=Nd(this.query,p)?p:null,k=!!g&&this.mutatedKeys.has(g.key),I=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations);let R=!1;g&&E?g.data.isEqual(E.data)?k!==I&&(r.track({type:3,doc:E}),R=!0):this.ja(g,E)||(r.track({type:2,doc:E}),R=!0,(u&&this.Ua(E,u)>0||c&&this.Ua(E,c)<0)&&(l=!0)):!g&&E?(r.track({type:0,doc:E}),R=!0):g&&!E&&(r.track({type:1,doc:g}),R=!0,(u||c)&&(l=!0)),R&&(E?(o=o.add(E),i=I?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{Ka:o,za:r,ys:l,mutatedKeys:i}}ja(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const o=e.za.da();o.sort((h,p)=>function(E,k){const I=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return re(20277,{Vt:R})}};return I(E)-I(k)}(h.type,p.type)||this.Ua(h.doc,p.doc)),this.Ha(r),s=s!=null&&s;const l=n&&!s?this.Ja():[],u=this.$a.size===0&&this.current&&!s?1:0,c=u!==this.Qa;return this.Qa=u,o.length!==0||c?{snapshot:new Io(this.query,e.Ka,i,o,e.mutatedKeys,u===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:l}:{Ya:l}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new Hv,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(n=>this.qa=this.qa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.qa=this.qa.delete(n)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=pe(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const n=[];return e.forEach(r=>{this.$a.has(r)||n.push(new IT(r))}),this.$a.forEach(r=>{e.has(r)||n.push(new kT(r))}),n}Xa(e){this.qa=e.Ns,this.$a=pe();const n=this.Ga(e.documents);return this.applyChanges(n,!0)}eu(){return Io.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const mg="SyncEngine";class sL{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class iL{constructor(e){this.key=e,this.tu=!1}}class oL{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.nu={},this.ru=new di(l=>YS(l),Ad),this.iu=new Map,this.su=new Set,this.ou=new We(ee.comparator),this._u=new Map,this.au=new sg,this.uu={},this.cu=new Map,this.lu=To.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function aL(t,e,n=!0){const r=AT(t);let s;const i=r.ru.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.eu()):s=await CT(r,e,n,!0),s}async function lL(t,e){const n=AT(t);await CT(n,e,!0,!1)}async function CT(t,e,n,r){const s=await AM(t.localStore,Gn(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let l;return r&&(l=await uL(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&xT(t.remoteStore,s),l}async function uL(t,e,n,r,s){t.Pu=(p,g,E)=>async function(I,R,x,y){let _=R.view.Ga(x);_.ys&&(_=await jv(I.localStore,R.query,!1).then(({documents:S})=>R.view.Ga(S,_)));const A=y&&y.targetChanges.get(R.targetId),O=y&&y.targetMismatches.get(R.targetId)!=null,M=R.view.applyChanges(_,I.isPrimaryClient,A,O);return Kv(I,R.targetId,M.Ya),M.snapshot}(t,p,g,E);const i=await jv(t.localStore,e,!0),o=new rL(e,i.Ns),l=o.Ga(i.documents),u=bl.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),c=o.applyChanges(l,t.isPrimaryClient,u);Kv(t,n,c.Ya);const h=new sL(e,n,o);return t.ru.set(e,h),t.iu.has(n)?t.iu.get(n).push(e):t.iu.set(n,[e]),c.snapshot}async function cL(t,e,n){const r=fe(t),s=r.ru.get(e),i=r.iu.get(s.targetId);if(i.length>1)return r.iu.set(s.targetId,i.filter(o=>!Ad(o,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Em(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&lg(r.remoteStore,s.targetId),km(r,s.targetId)}).catch(Id)):(km(r,s.targetId),await Em(r.localStore,s.targetId,!0))}async function dL(t,e){const n=fe(t),r=n.ru.get(e),s=n.iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),lg(n.remoteStore,r.targetId))}async function bT(t,e){const n=fe(t);try{const r=await RM(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n._u.get(i);o&&(Me(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.tu=!0:s.modifiedDocuments.size>0?Me(o.tu,14607):s.removedDocuments.size>0&&(Me(o.tu,42227),o.tu=!1))}),await PT(n,r,e)}catch(r){await Id(r)}}function qv(t,e,n){const r=fe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.ru.forEach((i,o)=>{const l=o.view.ga(e);l.snapshot&&s.push(l.snapshot)}),function(o,l){const u=fe(o);u.onlineState=l;let c=!1;u.queries.forEach((h,p)=>{for(const g of p.Ra)g.ga(l)&&(c=!0)}),c&&fg(u)}(r.eventManager,e),s.length&&r.nu.Q_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function hL(t,e,n){const r=fe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r._u.get(e),i=s&&s.key;if(i){let o=new We(ee.comparator);o=o.insert(i,Tt.newNoDocument(i,ne.min()));const l=pe().add(i),u=new Md(ne.min(),new Map,new We(ae),o,l);await bT(r,u),r.ou=r.ou.remove(i),r._u.delete(e),pg(r)}else await Em(r.localStore,e,!1).then(()=>km(r,e,n)).catch(Id)}function km(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.iu.get(e))t.ru.delete(r),n&&t.nu.Tu(r,n);t.iu.delete(e),t.isPrimaryClient&&t.au.Ur(e).forEach(r=>{t.au.containsKey(r)||RT(t,r)})}function RT(t,e){t.su.delete(e.path.canonicalString());const n=t.ou.get(e);n!==null&&(lg(t.remoteStore,n),t.ou=t.ou.remove(e),t._u.delete(n),pg(t))}function Kv(t,e,n){for(const r of n)r instanceof kT?(t.au.addReference(r.key,e),fL(t,r)):r instanceof IT?(G(mg,"Document no longer in limbo: "+r.key),t.au.removeReference(r.key,e),t.au.containsKey(r.key)||RT(t,r.key)):re(19791,{Iu:r})}function fL(t,e){const n=e.key,r=n.path.canonicalString();t.ou.get(n)||t.su.has(r)||(G(mg,"New document in limbo: "+n),t.su.add(r),pg(t))}function pg(t){for(;t.su.size>0&&t.ou.size<t.maxConcurrentLimboResolutions;){const e=t.su.values().next().value;t.su.delete(e);const n=new ee($e.fromString(e)),r=t.lu.next();t._u.set(r,new iL(n)),t.ou=t.ou.insert(n,r),xT(t.remoteStore,new ts(Gn(eg(n.path)),r,"TargetPurposeLimboResolution",Cd.le))}}async function PT(t,e,n){const r=fe(t),s=[],i=[],o=[];r.ru.isEmpty()||(r.ru.forEach((l,u)=>{o.push(r.Pu(u,e,n).then(c=>{var h;if((c||n)&&r.isPrimaryClient){const p=c?!c.fromCache:(h=n==null?void 0:n.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(c){s.push(c);const p=og.Ps(u.targetId,c);i.push(p)}}))}),await Promise.all(o),r.nu.Q_(s),await async function(u,c){const h=fe(u);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>B.forEach(c,g=>B.forEach(g.ls,E=>h.persistence.referenceDelegate.addReference(p,g.targetId,E)).next(()=>B.forEach(g.hs,E=>h.persistence.referenceDelegate.removeReference(p,g.targetId,E)))))}catch(p){if(!jo(p))throw p;G(ag,"Failed to update sequence numbers: "+p)}for(const p of c){const g=p.targetId;if(!p.fromCache){const E=h.Ss.get(g),k=E.snapshotVersion,I=E.withLastLimboFreeSnapshotVersion(k);h.Ss=h.Ss.insert(g,I)}}}(r.localStore,i))}async function mL(t,e){const n=fe(t);if(!n.currentUser.isEqual(e)){G(mg,"User change. New user:",e.toKey());const r=await yT(n.localStore,e);n.currentUser=e,function(i,o){i.cu.forEach(l=>{l.forEach(u=>{u.reject(new Z(W.CANCELLED,o))})}),i.cu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await PT(n,r.Ms)}}function pL(t,e){const n=fe(t),r=n._u.get(e);if(r&&r.tu)return pe().add(r.key);{let s=pe();const i=n.iu.get(e);if(!i)return s;for(const o of i){const l=n.ru.get(o);s=s.unionWith(l.view.Wa)}return s}}function AT(t){const e=fe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=bT.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=hL.bind(null,e),e.nu.Q_=eL.bind(null,e.eventManager),e.nu.Tu=tL.bind(null,e.eventManager),e}class Bc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=wT(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,n){return null}fu(e,n){return null}Vu(e){return bM(this.persistence,new kM,e.initialUser,this.serializer)}Ru(e){return new gT(ig.Ei,this.serializer)}Au(e){return new DM}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Bc.provider={build:()=>new Bc};class gL extends Bc{constructor(e){super(),this.cacheSizeBytes=e}mu(e,n){Me(this.persistence.referenceDelegate instanceof Fc,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new cM(r,e.asyncQueue,n)}Ru(e){const n=this.cacheSizeBytes!==void 0?Vt.withCacheSize(this.cacheSizeBytes):Vt.DEFAULT;return new gT(r=>Fc.Ei(r,n),this.serializer)}}class Im{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>qv(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await JM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new YM}()}createDatastore(e){const n=wT(e.databaseInfo.databaseId),r=function(i){return new VM(i)}(e.databaseInfo);return function(i,o,l,u){return new UM(i,o,l,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,l){return new HM(r,s,i,o,l)}(this.localStore,this.datastore,e.asyncQueue,n=>qv(this.syncEngine,n,0),function(){return Bv.C()?new Bv:new OM}())}createSyncEngine(e,n){return function(s,i,o,l,u,c,h){const p=new oL(s,i,o,l,u,c);return h&&(p.hu=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=fe(s);G(ko,"RemoteStore shutting down."),i.aa.add(5),await Rl(i),i.ca.shutdown(),i.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Im.provider={build:()=>new Im};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):Sr("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xs="FirestoreClient";class vL{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=s,this.user=Et.UNAUTHENTICATED,this.clientId=VS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{G(xs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(G(xs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=TT(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function zh(t,e){t.asyncQueue.verifyOperationInProgress(),G(xs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await yT(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Jv(t,e){t.asyncQueue.verifyOperationInProgress();const n=await wL(t);G(xs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>zv(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>zv(e.remoteStore,s)),t._onlineComponents=e}async function wL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){G(xs,"Using user provided OfflineComponentProvider");try{await zh(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===W.FAILED_PRECONDITION||s.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;_o("Error using user provided cache. Falling back to memory cache: "+n),await zh(t,new Bc)}}else G(xs,"Using default OfflineComponentProvider"),await zh(t,new gL(void 0));return t._offlineComponents}async function _L(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(G(xs,"Using user provided OnlineComponentProvider"),await Jv(t,t._uninitializedComponentsProvider._online)):(G(xs,"Using default OnlineComponentProvider"),await Jv(t,new Im))),t._onlineComponents}async function xL(t){const e=await _L(t),n=e.eventManager;return n.onListen=aL.bind(null,e.syncEngine),n.onUnlisten=cL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=lL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=dL.bind(null,e.syncEngine),n}function EL(t,e,n={}){const r=new Ks;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,l,u,c){const h=new yL({next:g=>{h.yu(),o.enqueueAndForget(()=>ZM(i,p));const E=g.docs.has(l);!E&&g.fromCache?c.reject(new Z(W.UNAVAILABLE,"Failed to get document because the client is offline.")):E&&g.fromCache&&u&&u.source==="server"?c.reject(new Z(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(g)},error:g=>c.reject(g)}),p=new nL(eg(l.path),h,{includeMetadataChanges:!0,Fa:!0});return XM(i,p)}(await xL(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NT(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qv=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SL(t,e,n){if(!n)throw new Z(W.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function TL(t,e,n,r){if(e===!0&&r===!0)throw new Z(W.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Yv(t){if(!ee.isDocumentKey(t))throw new Z(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function kL(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":re(12329,{type:typeof t})}function Cm(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Z(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=kL(t);throw new Z(W.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT="firestore.googleapis.com",Xv=!0;class Zv{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Z(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=DT,this.ssl=Xv}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:Xv;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=pT;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<lM)throw new Z(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=NT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Z(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class gg{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Zv({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Z(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Z(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Zv(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new j2;switch(r.type){case"firstParty":return new $2(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Z(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=Qv.get(n);r&&(G("ComponentProvider","Removing Datastore"),Qv.delete(n),r.terminate())}(this),Promise.resolve()}}function IL(t,e,n,r={}){var s;const i=(t=Cm(t,gg))._getSettings(),o=Object.assign(Object.assign({},i),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;i.host!==DT&&i.host!==l&&_o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const u=Object.assign(Object.assign({},i),{host:l,ssl:!1,emulatorOptions:r});if(!ps(u,o)&&(t._setSettings(u),r.mockUserToken)){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=Et.MOCK_USER;else{c=HA(r.mockUserToken,(s=t._app)===null||s===void 0?void 0:s.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Z(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Et(p)}t._authCredentials=new V2(new LS(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new yg(this.firestore,e,this._query)}}class gr{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ml(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new gr(this.firestore,e,this._key)}}class ml extends yg{constructor(e,n,r){super(e,n,eg(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new gr(this.firestore,null,new ee(e))}withConverter(e){return new ml(this.firestore,e,this._path)}}function CL(t,e,...n){if(t=Cr(t),arguments.length===1&&(e=VS.newId()),SL("doc","path",e),t instanceof gg){const r=$e.fromString(e,...n);return Yv(r),new gr(t,null,new ee(r))}{if(!(t instanceof gr||t instanceof ml))throw new Z(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child($e.fromString(e,...n));return Yv(r),new gr(t.firestore,t instanceof ml?t.converter:null,new ee(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew="AsyncQueue";class tw{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new _T(this,"async_queue_retry"),this.ju=()=>{const r=Uh();r&&G(ew,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const n=Uh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const n=Uh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const n=new Ks;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!jo(e))throw e;G(ew,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const n=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,Sr("INTERNAL UNHANDLED ERROR: ",nw(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=n,n}enqueueAfterDelay(e,n,r){this.Ju(),this.zu.indexOf(e)>-1&&(n=0);const s=hg.createAndSchedule(this,e,n,r,i=>this.Xu(i));return this.Uu.push(s),s}Ju(){this.Ku&&re(47125,{ec:nw(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const n of this.Uu)if(n.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Uu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const n=this.Uu.indexOf(e);this.Uu.splice(n,1)}}function nw(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class OT extends gg{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new tw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tw(e),this._firestoreClient=void 0,await e}}}function bL(t,e){const n=typeof t=="object"?t:zp(),r=typeof t=="string"?t:Oc,s=ci(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=UA("firestore");i&&IL(s,...i)}return s}function RL(t){if(t._terminated)throw new Z(W.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PL(t),t._firestoreClient}function PL(t){var e,n,r;const s=t._freezeSettings(),i=function(l,u,c,h){return new rO(l,u,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,NT(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._componentsProvider||!((n=s.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),t._firestoreClient=new vL(t._authCredentials,t._appCheckCredentials,t._queue,i,t._componentsProvider&&function(l){const u=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(u),_online:u}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $c(pt.fromBase64String(e))}catch(n){throw new Z(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new $c(pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Z(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new At(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Z(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Z(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ae(this._lat,e._lat)||ae(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}}const DL=new RegExp("[~\\*/\\[\\]]");function OL(t,e,n){if(e.search(DL)>=0)throw rw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new MT(...e.split("."))._internalPath}catch{throw rw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function rw(t,e,n,r,s){let i=`Function ${e}() called with invalid data`;i+=". ";let o="";return new Z(W.INVALID_ARGUMENT,i+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new gr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ML(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(jT("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ML extends LT{data(){return super.data()}}function jT(t,e){return typeof e=="string"?OL(t,e):e instanceof MT?e._internalPath:e._delegate._internalPath}class LL{convertValue(e,n="none"){switch(ws(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(vs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw re(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Cl(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var n,r,s;const i=(s=(r=(n=e.fields)===null||n===void 0?void 0:n[hm].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(o=>ze(o.doubleValue));return new NL(i)}convertGeoPoint(e){return new AL(ze(e.latitude),ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rd(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(dl(e));default:return null}}convertTimestamp(e){const n=ys(e);return new Gt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=$e.fromString(e);Me(mT(r),9688,{name:e});const s=new hl(r.get(1),r.get(3)),i=new ee(r.popFirst(5));return s.isEqual(n)||Sr(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class VT extends LT{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new VL(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(jT("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class VL extends VT{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FL(t){t=Cm(t,gr);const e=Cm(t.firestore,OT);return EL(RL(e),t._key).then(n=>$L(e,t,n))}class BL extends LL{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new gr(this.firestore,null,n)}}function $L(t,e,n){const r=n.docs.get(e._key),s=new BL(t);return new VT(t,s,e._key,r,new jL(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(s){Lo=s})(Mo),Jn(new Cn("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),l=new OT(new F2(r.getProvider("auth-internal")),new U2(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Z(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hl(c.options.projectId,h)}(o,s),o);return i=Object.assign({useFetchStreams:n},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),ln(av,lv,e),ln(av,lv,"esm2017")})();const UL={apiKey:"AIzaSyA3gg8PRTXqrIVb7NDa0vLPCeHfRkPJEbY",authDomain:"statstack-lite.firebaseapp.com",projectId:"statstack-lite",storageBucket:"statstack-lite.firebasestorage.app",messagingSenderId:"253492573141",appId:"1:253492573141:web:4b0dfcbfc952340c89435c",measurementId:"G-GPQZ5PWXB2"},vg=sS(UL);D2(vg);const zL=bL(vg);function FT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const HL=FT,BT=new ui("auth","Firebase",FT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uc=new Sd("@firebase/auth");function WL(t,...e){Uc.logLevel<=ue.WARN&&Uc.warn(`Auth (${Mo}): ${t}`,...e)}function Yu(t,...e){Uc.logLevel<=ue.ERROR&&Uc.error(`Auth (${Mo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tr(t,...e){throw wg(t,...e)}function qn(t,...e){return wg(t,...e)}function $T(t,e,n){const r=Object.assign(Object.assign({},HL()),{[e]:n});return new ui("auth","Firebase",r).create(e,{appName:t.name})}function Qs(t){return $T(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function wg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BT.create(t,...e)}function te(t,e,...n){if(!t)throw wg(e,...n)}function hr(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Yu(e),new Error(e)}function kr(t,e){t||hr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function GL(){return sw()==="http:"||sw()==="https:"}function sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(GL()||XE()||"connection"in navigator)?navigator.onLine:!0}function KL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(e,n){this.shortDelay=e,this.longDelay=n,kr(n>e,"Short delay should be less than long delay!"),this.isMobile=WA()||KA()}get(){return qL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){kr(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;hr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;hr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;hr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YL=new Al(3e4,6e4);function xg(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Fo(t,e,n,r,s={}){return zT(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const l=Il(Object.assign({key:t.config.apiKey},o)).slice(1),u=await t._getAdditionalHeaders();u["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:u},i);return qA()||(c.referrerPolicy="no-referrer"),UT.fetch()(await HT(t,t.config.apiHost,n,l),c)})}async function zT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},JL),e);try{const s=new ZL(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw Iu(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const l=i.ok?o.errorMessage:o.error.message,[u,c]=l.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Iu(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Iu(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Iu(t,"user-disabled",o);const h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw $T(t,h,c);Tr(t,h)}}catch(s){if(s instanceof Pn)throw s;Tr(t,"network-request-failed",{message:String(s)})}}async function XL(t,e,n,r,s={}){const i=await Fo(t,e,n,r,s);return"mfaPendingCredential"in i&&Tr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function HT(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?_g(t.config,s):`${t.config.apiScheme}://${s}`;return QL.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}class ZL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qn(this.auth,"network-request-failed")),YL.get())})}}function Iu(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=qn(t,e,r);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function e4(t,e){return Fo(t,"POST","/v1/accounts:delete",e)}async function zc(t,e){return Fo(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ba(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function t4(t,e=!1){const n=Cr(t),r=await n.getIdToken(e),s=Eg(r);te(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Ba(Hh(s.auth_time)),issuedAtTime:Ba(Hh(s.iat)),expirationTime:Ba(Hh(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Hh(t){return Number(t)*1e3}function Eg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yu("JWT malformed, contained fewer than 3 sections"),null;try{const s=KE(n);return s?JSON.parse(s):(Yu("Failed to decode base64 JWT payload"),null)}catch(s){return Yu("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function iw(t){const e=Eg(t);return te(e,"internal-error"),te(typeof e.exp<"u","internal-error"),te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pl(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Pn&&n4(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function n4({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r4{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ba(this.lastLoginAt),this.creationTime=Ba(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hc(t){var e;const n=t.auth,r=await t.getIdToken(),s=await pl(t,zc(n,{idToken:r}));te(s==null?void 0:s.users.length,n,"internal-error");const i=s.users[0];t._notifyReloadListener(i);const o=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?WT(i.providerUserInfo):[],l=i4(t.providerData,o),u=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(l!=null&&l.length),h=u?c:!1,p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:l,metadata:new Rm(i.createdAt,i.lastLoginAt),isAnonymous:h};Object.assign(t,p)}async function s4(t){const e=Cr(t);await Hc(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function i4(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function WT(t){return t.map(e=>{var{providerId:n}=e,r=Op(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o4(t,e){const n=await zT(t,{},async()=>{const r=Il({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await HT(t,s,"/v1/token",`key=${i}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",UT.fetch()(o,{method:"POST",headers:l,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function a4(t,e){return Fo(t,"POST","/v2/accounts:revokeToken",xg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){te(e.idToken,"internal-error"),te(typeof e.idToken<"u","internal-error"),te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):iw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){te(e.length!==0,"internal-error");const n=iw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await o4(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ro;return r&&(te(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(te(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(te(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ro,this.toJSON())}_performRefresh(){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t,e){te(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class xn{constructor(e){var{uid:n,auth:r,stsTokenManager:s}=e,i=Op(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new r4(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Rm(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await pl(this,this.stsTokenManager.getToken(this.auth,e));return te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return t4(this,e)}reload(){return s4(this)}_assign(e){this!==e&&(te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new xn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Hc(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Un(this.auth.app))return Promise.reject(Qs(this.auth));const e=await this.getIdToken();return await pl(this,e4(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,s,i,o,l,u,c,h;const p=(r=n.displayName)!==null&&r!==void 0?r:void 0,g=(s=n.email)!==null&&s!==void 0?s:void 0,E=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,k=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(l=n.tenantId)!==null&&l!==void 0?l:void 0,R=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,x=(c=n.createdAt)!==null&&c!==void 0?c:void 0,y=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:_,emailVerified:A,isAnonymous:O,providerData:M,stsTokenManager:S}=n;te(_&&S,e,"internal-error");const v=ro.fromJSON(this.name,S);te(typeof _=="string",e,"internal-error"),Br(p,e.name),Br(g,e.name),te(typeof A=="boolean",e,"internal-error"),te(typeof O=="boolean",e,"internal-error"),Br(E,e.name),Br(k,e.name),Br(I,e.name),Br(R,e.name),Br(x,e.name),Br(y,e.name);const T=new xn({uid:_,auth:e,email:g,emailVerified:A,displayName:p,isAnonymous:O,photoURL:k,phoneNumber:E,tenantId:I,stsTokenManager:v,createdAt:x,lastLoginAt:y});return M&&Array.isArray(M)&&(T.providerData=M.map(C=>Object.assign({},C))),R&&(T._redirectEventId=R),T}static async _fromIdTokenResponse(e,n,r=!1){const s=new ro;s.updateFromServerResponse(n);const i=new xn({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Hc(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];te(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?WT(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),l=new ro;l.updateFromIdToken(r);const u=new xn({uid:s.localId,auth:e,stsTokenManager:l,isAnonymous:o}),c={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Rm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(u,c),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=new Map;function fr(t){kr(t instanceof Function,"Expected a class definition");let e=ow.get(t);return e?(kr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,ow.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GT.type="NONE";const aw=GT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t,e,n){return`firebase:${t}:${e}:${n}`}class so{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Xu(this.userKey,s.apiKey,i),this.fullPersistenceKey=Xu("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await zc(this.auth,{idToken:e}).catch(()=>{});return n?xn._fromGetAccountInfoResponse(this.auth,n,e):null}return xn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new so(fr(aw),e,r);const s=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=s[0]||fr(aw);const o=Xu(r,e.config.apiKey,e.name);let l=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const g=await zc(e,{idToken:h}).catch(()=>{});if(!g)break;p=await xn._fromGetAccountInfoResponse(e,g,h)}else p=xn._fromJSON(e,h);c!==i&&(l=p),i=c;break}}catch{}const u=s.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!u.length?new so(i,e,r):(i=u[0],l&&await i._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(o)}catch{}})),new so(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(QT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(XT(e))return"Blackberry";if(ZT(e))return"Webos";if(KT(e))return"Safari";if((e.includes("chrome/")||JT(e))&&!e.includes("edge/"))return"Chrome";if(YT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function qT(t=It()){return/firefox\//i.test(t)}function KT(t=It()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function JT(t=It()){return/crios\//i.test(t)}function QT(t=It()){return/iemobile/i.test(t)}function YT(t=It()){return/android/i.test(t)}function XT(t=It()){return/blackberry/i.test(t)}function ZT(t=It()){return/webos/i.test(t)}function Sg(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function l4(t=It()){var e;return Sg(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function u4(){return JA()&&document.documentMode===10}function e1(t=It()){return Sg(t)||YT(t)||ZT(t)||XT(t)||/windows phone/i.test(t)||QT(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t1(t,e=[]){let n;switch(t){case"Browser":n=lw(It());break;case"Worker":n=`${lw(It())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Mo}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c4{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,l)=>{try{const u=e(i);o(u)}catch(u){l(u)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d4(t,e={}){return Fo(t,"GET","/v2/passwordPolicy",xg(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h4=6;class f4{constructor(e){var n,r,s,i;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:h4,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(i=e.forceUpgradeOnSignin)!==null&&i!==void 0?i:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,s,i,o,l;const u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(s=u.containsLowercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(i=u.containsUppercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(l=u.containsNonAlphanumericCharacter)!==null&&l!==void 0?l:!0),u}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m4{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uw(this),this.idTokenSubscription=new uw(this),this.beforeStateQueue=new c4(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=fr(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await so.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await zc(this,{idToken:e}),r=await xn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Un(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let s=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=s==null?void 0:s._redirectEventId,u=await this.tryRedirectSignIn(e);(!o||o===l)&&(u!=null&&u.user)&&(s=u.user,i=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(s)}catch(o){s=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Hc(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=KL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Un(this.app))return Promise.reject(Qs(this));const n=e?Cr(e):null;return n&&te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Un(this.app)?Promise.reject(Qs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Un(this.app)?Promise.reject(Qs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(fr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await d4(this),n=new f4(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ui("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await a4(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&fr(e)||this._popupRedirectResolver;te(n,this,"argument-error"),this.redirectPersistenceManager=await so.create(this,[fr(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const l=this._isInitialized?Promise.resolve():this._initializationPromise;if(te(l,this,"internal-error"),l.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const u=e.addObserver(n,r,s);return()=>{o=!0,u()}}else{const u=e.addObserver(n);return()=>{o=!0,u()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=t1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;if(Un(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&WL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tg(t){return Cr(t)}class uw{constructor(e){this.auth=e,this.observer=null,this.addObserver=nN(n=>this.observer=n)}get next(){return te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function p4(t){kg=t}function g4(t){return kg.loadJS(t)}function y4(){return kg.gapiScript}function v4(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w4(t,e){const n=ci(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(ps(i,e??{}))return s;Tr(s,"already-initialized")}return n.initialize({options:e})}function _4(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(fr);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function x4(t,e,n){const r=Tg(t);te(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,i=n1(e),{host:o,port:l}=E4(e),u=l===null?"":`:${l}`,c={url:`${i}//${o}${u}/`},h=Object.freeze({host:o,port:l,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){te(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),te(ps(c,r.config.emulator)&&ps(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,S4()}function n1(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function E4(t){const e=n1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:cw(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:cw(o)}}}function cw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function S4(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return hr("not implemented")}_getIdTokenResponse(e){return hr("not implemented")}_linkToIdToken(e,n){return hr("not implemented")}_getReauthenticationResolver(e){return hr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function io(t,e){return XL(t,"POST","/v1/accounts:signInWithIdp",xg(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T4="http://localhost";class oi extends r1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Tr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s}=n,i=Op(n,["providerId","signInMethod"]);if(!r||!s)return null;const o=new oi(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return io(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,io(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,io(e,n)}buildRequest(){const e={requestUri:T4,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Il(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl extends s1{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Nl{constructor(){super("facebook.com")}static credential(e){return oi._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr extends Nl{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oi._fromParams({providerId:Jr.PROVIDER_ID,signInMethod:Jr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Jr.credentialFromTaggedObject(e)}static credentialFromError(e){return Jr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Jr.credential(n,r)}catch{return null}}}Jr.GOOGLE_SIGN_IN_METHOD="google.com";Jr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Nl{constructor(){super("github.com")}static credential(e){return oi._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qr.credential(e.oauthAccessToken)}catch{return null}}}Qr.GITHUB_SIGN_IN_METHOD="github.com";Qr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Nl{constructor(){super("twitter.com")}static credential(e,n){return oi._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Yr.credential(n,r)}catch{return null}}}Yr.TWITTER_SIGN_IN_METHOD="twitter.com";Yr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await xn._fromIdTokenResponse(e,r,s),o=dw(r);return new Co({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=dw(r);return new Co({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function dw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wc extends Pn{constructor(e,n,r,s){var i;super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Wc.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new Wc(e,n,r,s)}}function i1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?Wc._fromErrorAndOperation(t,i,e,r):i})}async function k4(t,e,n=!1){const r=await pl(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Co._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I4(t,e,n=!1){const{auth:r}=t;if(Un(r.app))return Promise.reject(Qs(r));const s="reauthenticate";try{const i=await pl(t,i1(r,s,e,t),n);te(i.idToken,r,"internal-error");const o=Eg(i.idToken);te(o,r,"internal-error");const{sub:l}=o;return te(t.uid===l,r,"user-mismatch"),Co._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Tr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function C4(t,e,n=!1){if(Un(t.app))return Promise.reject(Qs(t));const r="signIn",s=await i1(t,r,e),i=await Co._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}function b4(t,e,n,r){return Cr(t).onIdTokenChanged(e,n,r)}function R4(t,e,n){return Cr(t).beforeAuthStateChanged(e,n)}const Gc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Gc,"1"),this.storage.removeItem(Gc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P4=1e3,A4=10;class a1 extends o1{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=e1(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,u)=>{this.notifyListeners(o,u)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);u4()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,A4):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},P4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}a1.type="LOCAL";const N4=a1;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l1 extends o1{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}l1.type="SESSION";const u1=l1;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D4(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new jd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const l=Array.from(o).map(async c=>c(n.origin,i)),u=await D4(l);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:u})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}jd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O4{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((l,u)=>{const c=Ig("",20);s.port1.start();const h=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===c)switch(g.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),l(g.data.response);break;default:clearTimeout(h),clearTimeout(i),u(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return window}function M4(t){Kn().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(){return typeof Kn().WorkerGlobalScope<"u"&&typeof Kn().importScripts=="function"}async function L4(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function j4(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function V4(){return c1()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d1="firebaseLocalStorageDb",F4=1,qc="firebaseLocalStorage",h1="fbase_key";class Dl{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Vd(t,e){return t.transaction([qc],e?"readwrite":"readonly").objectStore(qc)}function B4(){const t=indexedDB.deleteDatabase(d1);return new Dl(t).toPromise()}function Pm(){const t=indexedDB.open(d1,F4);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(qc,{keyPath:h1})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(qc)?e(r):(r.close(),await B4(),e(await Pm()))})})}async function hw(t,e,n){const r=Vd(t,!0).put({[h1]:e,value:n});return new Dl(r).toPromise()}async function $4(t,e){const n=Vd(t,!1).get(e),r=await new Dl(n).toPromise();return r===void 0?null:r.value}function fw(t,e){const n=Vd(t,!0).delete(e);return new Dl(n).toPromise()}const U4=800,z4=3;class f1{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>z4)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return c1()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=jd._getInstance(V4()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await L4(),!this.activeServiceWorker)return;this.sender=new O4(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||j4()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pm();return await hw(e,Gc,"1"),await fw(e,Gc),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>hw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>$4(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>fw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Vd(s,!1).getAll();return new Dl(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),U4)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}f1.type="LOCAL";const H4=f1;new Al(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(t,e){return e?fr(e):(te(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cg extends r1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return io(e,this._buildIdpRequest())}_linkToIdToken(e,n){return io(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return io(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function G4(t){return C4(t.auth,new Cg(t),t.bypassAuthState)}function q4(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),I4(n,new Cg(t),t.bypassAuthState)}async function K4(t){const{auth:e,user:n}=t;return te(n,e,"internal-error"),k4(n,new Cg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:l}=e;if(o){this.reject(o);return}const u={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(u))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return G4;case"linkViaPopup":case"linkViaRedirect":return K4;case"reauthViaPopup":case"reauthViaRedirect":return q4;default:Tr(this.auth,"internal-error")}}resolve(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){kr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J4=new Al(2e3,1e4);class qi extends m1{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,qi.currentPopupAction&&qi.currentPopupAction.cancel(),qi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return te(e,this.auth,"internal-error"),e}async onExecution(){kr(this.filter.length===1,"Popup operations only handle one event");const e=Ig();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(qn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(qn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(qn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,J4.get())};e()}}qi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q4="pendingRedirect",Zu=new Map;class Y4 extends m1{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zu.get(this.auth._key());if(!e){try{const r=await X4(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zu.set(this.auth._key(),e)}return this.bypassAuthState||Zu.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function X4(t,e){const n=tj(e),r=ej(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function Z4(t,e){Zu.set(t._key(),e)}function ej(t){return fr(t._redirectPersistence)}function tj(t){return Xu(Q4,t.config.apiKey,t.name)}async function nj(t,e,n=!1){if(Un(t.app))return Promise.reject(Qs(t));const r=Tg(t),s=W4(r,e),o=await new Y4(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj=10*60*1e3;class sj{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ij(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!p1(e)){const s=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(qn(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=rj&&this.cachedEventUids.clear(),this.cachedEventUids.has(mw(e))}saveEventToCache(e){this.cachedEventUids.add(mw(e)),this.lastProcessedEventTime=Date.now()}}function mw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function p1({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ij(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return p1(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oj(t,e={}){return Fo(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aj=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,lj=/^https?/;async function uj(t){if(t.config.emulator)return;const{authorizedDomains:e}=await oj(t);for(const n of e)try{if(cj(n))return}catch{}Tr(t,"unauthorized-domain")}function cj(t){const e=bm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!lj.test(n))return!1;if(aj.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dj=new Al(3e4,6e4);function pw(){const t=Kn().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hj(t){return new Promise((e,n)=>{var r,s,i;function o(){pw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{pw(),n(qn(t,"network-request-failed"))},timeout:dj.get()})}if(!((s=(r=Kn().gapi)===null||r===void 0?void 0:r.iframes)===null||s===void 0)&&s.Iframe)e(gapi.iframes.getContext());else if(!((i=Kn().gapi)===null||i===void 0)&&i.load)o();else{const l=v4("iframefcb");return Kn()[l]=()=>{gapi.load?o():n(qn(t,"network-request-failed"))},g4(`${y4()}?onload=${l}`).catch(u=>n(u))}}).catch(e=>{throw ec=null,e})}let ec=null;function fj(t){return ec=ec||hj(t),ec}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mj=new Al(5e3,15e3),pj="__/auth/iframe",gj="emulator/auth/iframe",yj={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},vj=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wj(t){const e=t.config;te(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_g(e,gj):`https://${t.config.authDomain}/${pj}`,r={apiKey:e.apiKey,appName:t.name,v:Mo},s=vj.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Il(r).slice(1)}`}async function _j(t){const e=await fj(t),n=Kn().gapi;return te(n,t,"internal-error"),e.open({where:document.body,url:wj(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yj,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=qn(t,"network-request-failed"),l=Kn().setTimeout(()=>{i(o)},mj.get());function u(){Kn().clearTimeout(l),s(r)}r.ping(u).then(u,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xj={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ej=500,Sj=600,Tj="_blank",kj="http://localhost";class gw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Ij(t,e,n,r=Ej,s=Sj){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let l="";const u=Object.assign(Object.assign({},xj),{width:r.toString(),height:s.toString(),top:i,left:o}),c=It().toLowerCase();n&&(l=JT(c)?Tj:n),qT(c)&&(e=e||kj,u.scrollbars="yes");const h=Object.entries(u).reduce((g,[E,k])=>`${g}${E}=${k},`,"");if(l4(c)&&l!=="_self")return Cj(e||"",l),new gw(null);const p=window.open(e||"",l,h);te(p,t,"popup-blocked");try{p.focus()}catch{}return new gw(p)}function Cj(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bj="__/auth/handler",Rj="emulator/auth/handler",Pj=encodeURIComponent("fac");async function yw(t,e,n,r,s,i){te(t.config.authDomain,t,"auth-domain-config-required"),te(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Mo,eventId:s};if(e instanceof s1){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",tN(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Nl){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const h of Object.keys(l))l[h]===void 0&&delete l[h];const u=await t._getAppCheckToken(),c=u?`#${Pj}=${encodeURIComponent(u)}`:"";return`${Aj(t)}?${Il(l).slice(1)}${c}`}function Aj({config:t}){return t.emulator?_g(t,Rj):`https://${t.authDomain}/${bj}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wh="webStorageSupport";class Nj{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=u1,this._completeRedirectFn=nj,this._overrideRedirectResult=Z4}async _openPopup(e,n,r,s){var i;kr((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const o=await yw(e,n,r,bm(),s);return Ij(e,o,Ig())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await yw(e,n,r,bm(),s);return M4(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(kr(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await _j(e),r=new sj(e);return n.register("authEvent",s=>(te(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Wh,{type:Wh},s=>{var i;const o=(i=s==null?void 0:s[0])===null||i===void 0?void 0:i[Wh];o!==void 0&&n(!!o),Tr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uj(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return e1()||KT()||Sg()}}const Dj=Nj;var vw="@firebase/auth",ww="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oj{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Lj(t){Jn(new Cn("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=r.options;te(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const u={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:t1(t)},c=new m4(r,s,i,u);return _4(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jn(new Cn("auth-internal",e=>{const n=Tg(e.getProvider("auth").getImmediate());return(r=>new Oj(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ln(vw,ww,Mj(t)),ln(vw,ww,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jj=5*60,Vj=YE("authIdTokenMaxAge")||jj;let _w=null;const Fj=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Vj)return;const s=n==null?void 0:n.token;_w!==s&&(_w=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function Bj(t=zp()){const e=ci(t,"auth");if(e.isInitialized())return e.getImmediate();const n=w4(t,{popupRedirectResolver:Dj,persistence:[H4,N4,u1]}),r=YE("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=Fj(i.toString());R4(n,o,()=>o(n.currentUser)),b4(n,l=>o(l))}}const s=JE("auth");return s&&x4(n,`http://${s}`),n}function $j(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}p4({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=qn("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",$j().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Lj("Browser");Bj(vg);const g1=6048e5,Uj=864e5,xw=Symbol.for("constructDateFrom");function Es(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&xw in t?t[xw](e):t instanceof Date?new t.constructor(e):new Date(e)}function An(t,e){return Es(e||t,t)}let zj={};function Fd(){return zj}function gl(t,e){var l,u,c,h;const n=Fd(),r=(e==null?void 0:e.weekStartsOn)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.weekStartsOn)??0,s=An(t,e==null?void 0:e.in),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Kc(t,e){return gl(t,{...e,weekStartsOn:1})}function y1(t,e){const n=An(t,e==null?void 0:e.in),r=n.getFullYear(),s=Es(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const i=Kc(s),o=Es(n,0);o.setFullYear(r,0,4),o.setHours(0,0,0,0);const l=Kc(o);return n.getTime()>=i.getTime()?r+1:n.getTime()>=l.getTime()?r:r-1}function Ew(t){const e=An(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Hj(t,...e){const n=Es.bind(null,e.find(r=>typeof r=="object"));return e.map(n)}function Sw(t,e){const n=An(t,e==null?void 0:e.in);return n.setHours(0,0,0,0),n}function Wj(t,e,n){const[r,s]=Hj(n==null?void 0:n.in,t,e),i=Sw(r),o=Sw(s),l=+i-Ew(i),u=+o-Ew(o);return Math.round((l-u)/Uj)}function Gj(t,e){const n=y1(t,e),r=Es(t,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),Kc(r)}function qj(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Kj(t){return!(!qj(t)&&typeof t!="number"||isNaN(+An(t)))}function Jj(t,e){const n=An(t,e==null?void 0:e.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Qj={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Yj=(t,e,n)=>{let r;const s=Qj[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Gh(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Xj={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zj={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eV={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tV={date:Gh({formats:Xj,defaultWidth:"full"}),time:Gh({formats:Zj,defaultWidth:"full"}),dateTime:Gh({formats:eV,defaultWidth:"full"})},nV={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},rV=(t,e,n,r)=>nV[t];function pa(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=n!=null&&n.width?String(n.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const sV={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},iV={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oV={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aV={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uV={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cV=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},dV={ordinalNumber:cV,era:pa({values:sV,defaultWidth:"wide"}),quarter:pa({values:iV,defaultWidth:"wide",argumentCallback:t=>t-1}),month:pa({values:oV,defaultWidth:"wide"}),day:pa({values:aV,defaultWidth:"wide"}),dayPeriod:pa({values:lV,defaultWidth:"wide",formattingValues:uV,defaultFormattingWidth:"wide"})};function ga(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(l)?fV(l,p=>p.test(o)):hV(l,p=>p.test(o));let c;c=t.valueCallback?t.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function hV(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function fV(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function mV(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const pV=/^(\d+)(th|st|nd|rd)?/i,gV=/\d+/i,yV={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},vV={any:[/^b/i,/^(a|c)/i]},wV={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},_V={any:[/1/i,/2/i,/3/i,/4/i]},xV={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},EV={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},SV={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},TV={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},kV={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},IV={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CV={ordinalNumber:mV({matchPattern:pV,parsePattern:gV,valueCallback:t=>parseInt(t,10)}),era:ga({matchPatterns:yV,defaultMatchWidth:"wide",parsePatterns:vV,defaultParseWidth:"any"}),quarter:ga({matchPatterns:wV,defaultMatchWidth:"wide",parsePatterns:_V,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ga({matchPatterns:xV,defaultMatchWidth:"wide",parsePatterns:EV,defaultParseWidth:"any"}),day:ga({matchPatterns:SV,defaultMatchWidth:"wide",parsePatterns:TV,defaultParseWidth:"any"}),dayPeriod:ga({matchPatterns:kV,defaultMatchWidth:"any",parsePatterns:IV,defaultParseWidth:"any"})},bV={code:"en-US",formatDistance:Yj,formatLong:tV,formatRelative:rV,localize:dV,match:CV,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RV(t,e){const n=An(t,e==null?void 0:e.in);return Wj(n,Jj(n))+1}function PV(t,e){const n=An(t,e==null?void 0:e.in),r=+Kc(n)-+Gj(n);return Math.round(r/g1)+1}function v1(t,e){var h,p,g,E;const n=An(t,e==null?void 0:e.in),r=n.getFullYear(),s=Fd(),i=(e==null?void 0:e.firstWeekContainsDate)??((p=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((E=(g=s.locale)==null?void 0:g.options)==null?void 0:E.firstWeekContainsDate)??1,o=Es((e==null?void 0:e.in)||t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const l=gl(o,e),u=Es((e==null?void 0:e.in)||t,0);u.setFullYear(r,0,i),u.setHours(0,0,0,0);const c=gl(u,e);return+n>=+l?r+1:+n>=+c?r:r-1}function AV(t,e){var l,u,c,h;const n=Fd(),r=(e==null?void 0:e.firstWeekContainsDate)??((u=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,s=v1(t,e),i=Es((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),gl(i,e)}function NV(t,e){const n=An(t,e==null?void 0:e.in),r=+gl(n,e)-+AV(n,e);return Math.round(r/g1)+1}function xe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const $r={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return xe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):xe(n+1,2)},d(t,e){return xe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return xe(t.getHours()%12||12,e.length)},H(t,e){return xe(t.getHours(),e.length)},m(t,e){return xe(t.getMinutes(),e.length)},s(t,e){return xe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return xe(s,e.length)}},Ci={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Tw={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return $r.y(t,e)},Y:function(t,e,n,r){const s=v1(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return xe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):xe(i,e.length)},R:function(t,e){const n=y1(t);return xe(n,e.length)},u:function(t,e){const n=t.getFullYear();return xe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return xe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return xe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return $r.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return xe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=NV(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):xe(s,e.length)},I:function(t,e,n){const r=PV(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):xe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):$r.d(t,e)},D:function(t,e,n){const r=RV(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):xe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return xe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return xe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return xe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=Ci.noon:r===0?s=Ci.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=Ci.evening:r>=12?s=Ci.afternoon:r>=4?s=Ci.morning:s=Ci.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return $r.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):$r.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):xe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):$r.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):$r.s(t,e)},S:function(t,e){return $r.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Iw(r);case"XXXX":case"XX":return js(r);case"XXXXX":case"XXX":default:return js(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Iw(r);case"xxxx":case"xx":return js(r);case"xxxxx":case"xxx":default:return js(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+kw(r,":");case"OOOO":default:return"GMT"+js(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+kw(r,":");case"zzzz":default:return"GMT"+js(r,":")}},t:function(t,e,n){const r=Math.trunc(+t/1e3);return xe(r,e.length)},T:function(t,e,n){return xe(+t,e.length)}};function kw(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+xe(i,2)}function Iw(t,e){return t%60===0?(t>0?"-":"+")+xe(Math.abs(t)/60,2):js(t,e)}function js(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=xe(Math.trunc(r/60),2),i=xe(r%60,2);return n+s+e+i}const Cw=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},w1=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},DV=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return Cw(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Cw(r,e)).replace("{{time}}",w1(s,e))},OV={p:w1,P:DV},MV=/^D+$/,LV=/^Y+$/,jV=["D","DD","YY","YYYY"];function VV(t){return MV.test(t)}function FV(t){return LV.test(t)}function BV(t,e,n){const r=$V(t,e,n);if(console.warn(r),jV.includes(t))throw new RangeError(r)}function $V(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const UV=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zV=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,HV=/^'([^]*?)'?$/,WV=/''/g,GV=/[a-zA-Z]/;function qV(t,e,n){var h,p,g,E;const r=Fd(),s=r.locale??bV,i=r.firstWeekContainsDate??((p=(h=r.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,o=r.weekStartsOn??((E=(g=r.locale)==null?void 0:g.options)==null?void 0:E.weekStartsOn)??0,l=An(t,n==null?void 0:n.in);if(!Kj(l))throw new RangeError("Invalid time value");let u=e.match(zV).map(k=>{const I=k[0];if(I==="p"||I==="P"){const R=OV[I];return R(k,s.formatLong)}return k}).join("").match(UV).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const I=k[0];if(I==="'")return{isToken:!1,value:KV(k)};if(Tw[I])return{isToken:!0,value:k};if(I.match(GV))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(u=s.localize.preprocessor(l,u));const c={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return u.map(k=>{if(!k.isToken)return k.value;const I=k.value;(FV(I)||VV(I))&&BV(I,e,String(t));const R=Tw[I[0]];return R(l,I,s.localize,c)}).join("")}function KV(t){const e=t.match(HV);return e?e[1].replace(WV,"'"):t}async function JV(t){console.log("=== DAILY CHALLENGE FETCH START ===");let e=t;e||(e=qV(new Date,"yyyy-MM-dd")),console.log("📅 Fetching daily challenge for date:",e);const n=CL(zL,"dailyChallenges",e);console.log("📄 Document reference path:",n.path);try{console.log("🔍 Attempting to fetch document...");const r=await FL(n);if(console.log("✅ Document fetch complete"),console.log("📊 Document exists:",r.exists()),r.exists()){const s=r.data();return console.log("📦 Fetched challenge data:",s),console.log("=== DAILY CHALLENGE FETCH SUCCESS ==="),s}return console.log("❌ No challenge found for date:",e),console.log("=== DAILY CHALLENGE FETCH COMPLETE (NO DATA) ==="),null}catch(r){throw console.error("❌ Error fetching daily challenge:",r),console.log("=== DAILY CHALLENGE FETCH ERROR ==="),r}}const QV="Normal",YV="Expert",XV=({onClose:t})=>{var g,E;const{setModeLocked:e,setGameMode:n,isEasyMode:r,toggleEasyMode:s,gameMode:i}=me(),[o,l]=P.useState("not-started"),[u,c]=P.useState(null);P.useEffect(()=>{const k=new Date,I=k.getFullYear(),R=String(k.getMonth()+1).padStart(2,"0"),x=String(k.getDate()).padStart(2,"0"),y=`dailyChallenge-${I}-${R}-${x}`,_=localStorage.getItem(y);if(_)try{const A=JSON.parse(_);if(console.log("Loading saved game data:",A),A.completed)l("completed"),c({round:20,score:A.score});else if(A.picks&&A.picks.length>0){const O=A.picks.reduce((M,S)=>M+S.wins,0);console.log("Calculated score from picks:",O),console.log("Stored score:",A.score),l("in-progress"),c({round:A.picks.length,score:A.score||O})}else l("not-started")}catch(A){console.error("Error parsing saved game:",A),l("not-started")}else l("not-started")},[]);const h=k=>{if(!(k==="daily"&&o==="completed")){if(n(k),e(!0),k==="daily"&&o==="in-progress"){const I=new Date,R=I.getFullYear(),x=String(I.getMonth()+1).padStart(2,"0"),y=String(I.getDate()).padStart(2,"0"),_=`dailyChallenge-${R}-${x}-${y}`,A=localStorage.getItem(_);if(A)try{const O=JSON.parse(A);if(console.log("Restoring game state:",O),O.picks&&Array.isArray(O.picks)){const M=O.picks.reduce((T,C)=>T+C.wins,0);console.log("Calculated score:",M),console.log("Stored score:",O.score);const S=Math.max(M,O.score||0);console.log("Final score to use:",S),me.setState({picks:O.picks,totalScore:S,gameMode:"daily",optimalScore:O.optimalScore||0,optimalPicks:O.optimalPicks||[],isGameOver:!1,gameStartTime:O.gameStartTime||O.timestamp||Date.now()});const v={...O,score:S};if(localStorage.setItem(_,JSON.stringify(v)),O.teams){const T=O.teams[O.picks.length];me.getState().setCurrentTeam(T)}}}catch(O){console.error("Error restoring game state:",O)}}t()}},p=()=>{const k=new Date,I=k.getFullYear(),R=String(k.getMonth()+1).padStart(2,"0"),x=String(k.getDate()).padStart(2,"0"),y=`dailyChallenge-${I}-${R}-${x}`,_=`dailyChallengeMeta-${I}-${R}-${x}`,A=localStorage.getItem(y),O=localStorage.getItem(_);if(A)try{const M=JSON.parse(A);let S=M.optimalScore,v=M.optimalPicks,T=M.gameStartTime,C=M.gameEndTime;if((!S||!v)&&O)try{const N=JSON.parse(O);typeof N.optimalScore=="number"&&(S=N.optimalScore),Array.isArray(N.optimalPicks)&&(v=N.optimalPicks)}catch{}(!T||!C)&&(T=M.timestamp||Date.now(),C=M.timestamp||Date.now()),me.setState({picks:M.picks||[],totalScore:M.score||0,gameMode:"daily",optimalScore:S||0,optimalPicks:v||[],isGameOver:!0,gameStartTime:T,gameEndTime:C}),t()}catch(M){console.error("Error loading saved game:",M)}};return f.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-start justify-center z-50 pt-4 sm:pt-20 px-3 sm:p-4",children:f.jsx("div",{className:"bg-white dark:bg-neutral-900 rounded-xl max-w-lg w-full max-h-[90vh] overflow-y-auto",children:f.jsxs("div",{className:"p-3 sm:p-6",children:[f.jsx("button",{onClick:()=>window.location.href="/",className:"absolute top-5 right-5 p-2 text-neutral-500 dark:text-neutral-400 hover:text-neutral-700 dark:hover:text-neutral-200 transition-colors","aria-label":"Close modal",children:f.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),f.jsxs("div",{className:"flex justify-between items-center mb-2 sm:mb-3",children:[f.jsx("div",{className:"flex flex-col w-full sm:hidden items-center",children:f.jsxs("div",{className:"flex items-baseline gap-2 px-1 py-2 justify-center",children:[f.jsx("span",{className:"text-lg font-bold font-sans bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent",children:"Quarterback"}),f.jsx("span",{className:"text-base font-medium text-main dark:text-main-dark",children:"Career Wins Challenge"})]})}),f.jsxs("div",{className:"hidden sm:flex flex-col w-full items-center",children:[f.jsx("h1",{className:"text-2xl font-bold font-sans bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent",children:"Quarterback"}),f.jsx("h2",{className:"text-xl font-medium text-main dark:text-main-dark -mt-1",children:"Career Wins Challenge"})]})]}),f.jsx("div",{className:"bg-gray-50 dark:bg-neutral-800 p-4 rounded-lg text-sm text-gray-700 dark:text-gray-300 leading-relaxed shadow-inner mb-6",children:f.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[f.jsx("li",{children:"Each round shows a random NFL team"}),f.jsx("li",{children:"Name any QB who played for that team"}),f.jsx("li",{children:"Earn their total career wins across all teams"}),f.jsx("li",{children:"No repeats allowed"}),f.jsx("li",{children:"20 rounds total"})]})}),f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:"bg-gray-100 dark:bg-neutral-800 rounded-lg p-4 text-center",children:f.jsx("button",{className:`w-full py-4 rounded-lg border-2 font-bold text-lg transition-all ${o==="completed"?"border-neutral-300 dark:border-neutral-600 bg-neutral-100 dark:bg-neutral-800 text-neutral-400 dark:text-neutral-500":"border-blue-600 bg-blue-50 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300"}`,onClick:()=>{o==="completed"?p():h("daily")},children:o==="completed"?f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-2xl font-black mb-1",children:((g=u==null?void 0:u.score)==null?void 0:g.toLocaleString())??""}),f.jsx("span",{className:"text-sm mb-1",children:"You've already played today's Daily Challenge!"}),f.jsx("span",{className:"text-xs underline text-blue-500",children:"View Results"})]}):o==="in-progress"?f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-lg mb-1",children:"Resume Daily Challenge"}),f.jsx("span",{className:"text-sm font-normal text-blue-600 dark:text-blue-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),f.jsxs("div",{className:"flex items-center gap-2 mt-2 text-sm",children:[f.jsxs("span",{className:"font-semibold",children:["Round ",u==null?void 0:u.round,"/20"]}),f.jsx("span",{className:"text-neutral-500 dark:text-neutral-400",children:"•"}),f.jsxs("span",{className:"font-semibold",children:[((E=u==null?void 0:u.score)==null?void 0:E.toLocaleString())??0," pts"]})]})]}):f.jsxs("div",{className:"flex flex-col items-center",children:[f.jsx("span",{className:"text-lg mb-1",children:"Daily Challenge"}),f.jsx("span",{className:"text-sm font-normal text-blue-600 dark:text-blue-400",children:new Date().toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric"})}),f.jsx("div",{className:"text-xs font-normal mt-1 text-neutral-500 dark:text-neutral-400",children:"New teams. New challenge. Every day at midnight."})]})})})}),f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:"bg-gray-100 dark:bg-neutral-800 rounded-lg p-4 text-center",children:f.jsxs("button",{className:`w-full py-4 rounded-lg border-2 font-bold text-lg transition-all ${i==="practice"?"border-emerald-600 bg-emerald-50 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-300":"border-neutral-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 text-main dark:text-main-dark hover:border-emerald-400"}`,onClick:()=>h("practice"),disabled:o==="in-progress",style:o==="in-progress"?{opacity:.5,cursor:"not-allowed"}:{},tabIndex:o==="in-progress"?-1:0,"aria-disabled":o==="in-progress",title:o==="in-progress"?"Practice mode disabled while daily challenge is in progress.":void 0,children:["Practice Mode",f.jsx("div",{className:"text-xs font-normal mt-1 text-neutral-500 dark:text-neutral-400",children:"Unlimited games. Random teams every time."}),o==="in-progress"&&f.jsx("div",{className:"text-xs text-red-500 mt-2",children:"Practice mode disabled while daily challenge is in progress."})]})})}),f.jsxs("div",{className:"mt-4 text-center",children:[f.jsx("div",{className:"text-xs uppercase font-medium text-gray-500 mb-1",children:"Difficulty"}),f.jsxs("div",{className:"flex items-center justify-center gap-2 text-sm",children:[f.jsx("button",{onClick:s,className:`relative inline-flex h-6 w-[66px] items-center rounded-full transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500/20 ${r?"bg-emerald-500":"bg-red-500"}`,disabled:o==="in-progress",style:o==="in-progress"?{opacity:.5,cursor:"not-allowed"}:{},tabIndex:o==="in-progress"?-1:0,"aria-disabled":o==="in-progress",title:o==="in-progress"?"Difficulty cannot be changed while daily challenge is in progress.":void 0,children:f.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?"translate-x-1":"translate-x-[46px]"}`})}),f.jsxs("div",{className:"flex gap-2 text-sm mt-2",children:[f.jsx("span",{className:`${r?"font-semibold text-main dark:text-main-dark":"text-neutral-500 dark:text-neutral-400"}`,children:QV}),f.jsx("span",{className:"text-neutral-400",children:"|"}),f.jsx("span",{className:`${r?"text-neutral-500 dark:text-neutral-400":"font-semibold text-main dark:text-main-dark"}`,children:YV})]})]}),f.jsx("div",{className:"text-xs mt-1 text-gray-500 italic",children:"All QBs shown in Normal mode"}),o==="in-progress"&&f.jsx("div",{className:"text-xs text-red-500 mt-1",children:"Difficulty cannot be changed while daily challenge is in progress."})]})]})})})},bi=["Arizona Cardinals","Atlanta Falcons","Baltimore Ravens","Buffalo Bills","Carolina Panthers","Chicago Bears","Cincinnati Bengals","Cleveland Browns","Dallas Cowboys","Denver Broncos","Detroit Lions","Green Bay Packers","Houston Texans","Indianapolis Colts","Jacksonville Jaguars","Kansas City Chiefs","Las Vegas Raiders","Los Angeles Chargers","Los Angeles Rams","Miami Dolphins","Minnesota Vikings","New England Patriots","New Orleans Saints","New York Giants","New York Jets","Philadelphia Eagles","Pittsburgh Steelers","San Francisco 49ers","Seattle Seahawks","Tampa Bay Buccaneers","Tennessee Titans","Washington Commanders"],qh=["Los Angeles Chargers","Indianapolis Colts","Denver Broncos","New Orleans Saints","Green Bay Packers"];function ZV(){return typeof window<"u"&&window.location.search.includes("test=1")}const Kh=t=>t.replace(/(?:^|\s)\S/g,e=>e.toUpperCase()),e5=({team:t,isShuffling:e,shufflingTeam:n,picks:r,startNextRound:s,setShowBradyEffect:i,showBradyEffect:o})=>{const[l,u]=P.useState(null),c=P.useRef(null),h=P.useRef([]),[p,g]=P.useState(!1);return P.useEffect(()=>{var E,k;if(p&&r.length>0&&!e&&t){const I=r[r.length-1],R=r.length-1,x=I.qb.toLowerCase().includes("brady"),y=(E=c.current)==null?void 0:E.querySelector("img");if(y){const _=y.getBoundingClientRect(),A=new DOMRect(_.left,_.top,_.width,_.height),O=((k=h.current[R])==null?void 0:k.getBoundingClientRect())||null;if(A&&O){const M=()=>{u({team:I.team,startRect:A,endRect:O,targetIndex:R}),setTimeout(()=>{u(null),g(!1),s()},300)};if(x)return;M()}}}},[p,r.length,t,e,s,i]),P.useEffect(()=>{if(o&&r.length>0&&!e&&t){const E=r[r.length-1],k=r.length-1;setTimeout(()=>{var R,x;const I=(R=c.current)==null?void 0:R.querySelector("img");if(I){const y=I.getBoundingClientRect(),_=new DOMRect(y.left,y.top,y.width,y.height),A=((x=h.current[k])==null?void 0:x.getBoundingClientRect())||null;_&&A&&(i(!1),u({team:E.team,startRect:_,endRect:A,targetIndex:k}),setTimeout(()=>{u(null),g(!1),s()},300))}},2e3)}},[o,r.length,t,e,s,i]),P.useEffect(()=>{r.length>0&&!e&&g(!0)},[r.length]),f.jsxs("div",{className:"relative w-full",children:[l&&l.startRect&&l.endRect&&f.jsxs("div",{className:"fixed pointer-events-none z-50",style:{position:"fixed",width:`${l.startRect.width}px`,height:`${l.startRect.height}px`,left:0,top:0,transform:`translate3d(${l.startRect.left}px, ${l.startRect.top}px, 0)`,animation:"move-to-grid 300ms cubic-bezier(0.34, 1.56, 0.64, 1) forwards"},children:[f.jsx("style",{children:`
            @keyframes move-to-grid {
              0% {
                width: ${l.startRect.width}px;
                height: ${l.startRect.height}px;
                transform: translate3d(${l.startRect.left}px, ${l.startRect.top}px, 0);
              }
              to {
                width: ${l.endRect.width}px;
                height: ${l.endRect.height}px;
                transform: translate3d(${l.endRect.left}px, ${l.endRect.top}px, 0);
              }
            }
          `}),f.jsx("img",{src:il(l.team),alt:l.team,className:"w-full h-full object-contain"})]}),f.jsx("div",{className:"flex flex-col items-center gap-4",children:f.jsx("div",{className:"relative flex flex-col items-center",children:f.jsxs("div",{ref:c,className:`relative z-10 flex flex-col items-center justify-center transition-all duration-300 mx-auto w-[140px] sm:w-[200px] h-[180px] sm:h-[240px] gap-1 sm:gap-2 ${e?"scale-105 rotate-3":""}`,children:[f.jsx("img",{src:il(n||t||""),alt:n||t||"",className:`w-24 h-24 sm:w-36 sm:h-36 object-contain transition-all duration-300 drop-shadow-md ${e?"animate-pulse-fast scale-110 rotate-6":"animate-pulse-slow"}`,style:{filter:"drop-shadow(0 2px 8px rgba(0,0,0,0.10))"}}),f.jsx("div",{className:`flex items-center justify-center w-full transition-all duration-300 ${e?"opacity-0 scale-95":"opacity-100 scale-100"}`,children:!e&&(n||t)&&(()=>{const E=n||t||"",k=E.lastIndexOf(" "),I=E.slice(0,k),R=E.slice(k+1),x=O=>O.length>12?"text-base sm:text-lg lg:text-2xl":O.length>10?"text-lg sm:text-xl lg:text-3xl":"text-xl sm:text-2xl lg:text-4xl",y=O=>O.length>10?"text-lg sm:text-2xl lg:text-3xl":O.length>8?"text-xl sm:text-3xl lg:text-4xl":"text-2xl sm:text-4xl lg:text-4xl",_=I.length>12,A=_?I.split(" "):[I];return f.jsxs("div",{className:"w-full text-center px-0.5 mt-1",children:[_?A.map((O,M)=>f.jsx("div",{className:`${x(O)} leading-tight font-sans ${eo[E]||"text-main dark:text-main-dark"} drop-shadow-sm`,style:{textShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:O},M)):f.jsx("div",{className:`${x(I)} font-sans ${eo[E]||"text-main dark:text-main-dark"} drop-shadow-sm`,style:{textShadow:"0 1px 4px rgba(0,0,0,0.10)"},children:I}),f.jsx("div",{className:`${y(R)} font-bold font-sans leading-tight ${eo[E]||"text-main dark:text-main-dark"} drop-shadow`,style:{textShadow:"0 2px 8px rgba(0,0,0,0.13)"},children:R})]})})()})]})})})]})};function t5(t){const e=new Date;return e.setHours(0,0,0,0),t.filter(n=>{const r=new Date(n.timestamp);return r.setHours(0,0,0,0),r.getTime()===e.getTime()}).sort((n,r)=>r.score-n.score).slice(0,3)}const n5=`
@keyframes score-pulse-emerald {
  0%, 100% { text-shadow: 0 0 0 #34d399; }
  50% { text-shadow: 0 0 16px 4px #34d399; }
}
@keyframes score-pulse-blue {
  0%, 100% { text-shadow: 0 0 0 #3b82f6; }
  50% { text-shadow: 0 0 16px 4px #3b82f6; }
}
@keyframes score-pulse-purple {
  0%, 100% { text-shadow: 0 0 0 #a78bfa; }
  50% { text-shadow: 0 0 16px 4px #a78bfa; }
}
@keyframes score-pulse-orange {
  0%, 100% { text-shadow: 0 0 0 #f59e42; }
  50% { text-shadow: 0 0 16px 4px #f59e42; }
}
@keyframes score-pulse-red {
  0%, 100% { text-shadow: 0 0 0 #ef4444; }
  50% { text-shadow: 0 0 20px 6px #ef4444; }
}
`;if(typeof document<"u"&&!document.getElementById("score-pulse-styles")){const t=document.createElement("style");t.id="score-pulse-styles",t.innerHTML=n5,document.head.appendChild(t)}const r5=`
@keyframes score-blink {
  0%, 100% { opacity: 1; text-shadow: 0 0 0 #34d399; }
  50% { opacity: 0.7; text-shadow: 0 0 32px 12px #34d399; }
}
.score-blink {
  animation: score-blink 1.2s infinite;
  font-size: 1.5rem;
  font-weight: 900;
  line-height: 1;
}
`;if(typeof document<"u"&&!document.getElementById("score-blink-styles")){const t=document.createElement("style");t.id="score-blink-styles",t.innerHTML=r5,document.head.appendChild(t)}function bw(t){return t>=2500?"text-yellow-400":t>=2250?"text-rose-500":t>=2e3?"text-pink-500":t>=1750?"text-purple-500":t>=1500?"text-amber-500":t>=1e3?"text-emerald-500":t>=500?"text-blue-500":"text-neutral-500"}const Rw=(t,e)=>`${t.qb}-${t.team}-${e}`,s5=()=>{var wi,Lr,Mn,_i;const{currentTeam:t,picks:e,isGameOver:n,toggleScore:r,usedQBs:s,addPick:i,updateScore:o,setCurrentTeam:l,totalScore:u,initializeGame:c,setIsGameOver:h,currentPickUsedHelp:p,isEasyMode:g}=me(),{addGameRecord:E,qbWinsLeaderboard:k}=Dp(),[I,R]=P.useState(""),[x,y]=P.useState(null),[_,A]=P.useState(null),[O,M]=P.useState(!1),[S,v]=P.useState([]),[T,C]=P.useState(!1),[N,D]=P.useState(void 0),[b,de]=P.useState(null),[Ue,Mt]=P.useState(!0),[Ct,H]=P.useState(!1),[K,Q]=P.useState(!0),[ve,oe]=P.useState(!1),[Te,bt]=P.useState({top:0,right:0}),Qe=P.useRef(null),[at,je]=P.useState([]),[Nn,Lt]=P.useState(!1),[jt,nn]=P.useState(0),tt=P.useRef(null),Bo=Sl(),[br,Rr]=P.useState(!1),[$o,hi]=P.useState(!1),[Bd,fi]=P.useState(!1),[Uo,mi]=P.useState(!1),Pr=P.useRef(null),Ar=P.useRef(0),[Nr,pi]=P.useState(!1),Ve=P.useRef(null),[lt,Xn]=P.useState(""),[Ol,Cs]=P.useState(!1),[zo,Dn]=P.useState(!1),[Ho,Ml]=P.useState(0),[Wo,Go]=P.useState(!1),[$d,gi]=P.useState(!1),[hn,fn]=P.useState({}),ut=P.useRef({}),yi=P.useRef(0),[Zn,er]=P.useState(typeof window<"u"?window.innerWidth<640:!0),[mn,Dr]=P.useState(null),[qo,Or]=P.useState(null),[Ll,Ge]=P.useState(!1),Ko=t5(k);P.useEffect(()=>{console.log("🎮 Initializing game"),c(),Mt(!0),Q(!0);const j=me.getState().gameMode;j?console.log("🎮 Preserving existing game mode:",j):(console.log("🎮 No game mode set, resetting to null"),me.setState({gameMode:null}));const F=new Date,$=F.getFullYear(),J=String(F.getMonth()+1).padStart(2,"0"),X=String(F.getDate()).padStart(2,"0"),se=`dailyChallenge-${$}-${J}-${X}`,ce=localStorage.getItem(se);if(ce)try{const Y=JSON.parse(ce);if(Y.started&&Array.isArray(Y.picks)&&!Y.completed&&(console.log("🎮 Found in-progress game, restoring state"),me.setState({picks:Y.picks,totalScore:Y.score||0,gameMode:"daily",optimalScore:Y.optimalScore||0,optimalPicks:Y.optimalPicks||[],isGameOver:!1,gameStartTime:Y.gameStartTime||Y.timestamp||Date.now()}),Y.teams)){console.log("🎮 Restoring team sequence:",Y.teams),Dr(Y.teams);const gt=Y.teams[Y.picks.length];console.log("🎮 Setting current team to:",gt),l(gt),je(Y.teams.slice(0,Y.picks.length+1)),me.setState({gameMode:"daily",totalScore:Y.score||0})}}catch(Y){console.error("🎮 Error restoring game state:",Y)}},[]);const bs=async()=>{console.log("=== GAME START ===");const j=me.getState().gameMode;if(console.log("🎮 Game mode:",j),!j){console.log("❌ No game mode selected, showing rules modal"),Mt(!0),Q(!0);return}if(Mt(!1),Q(!1),j==="daily"&&mn&&e.length>0){console.log("📅 Resuming daily challenge with existing sequence");const $=mn[e.length];if(console.log("🎯 Resuming with team:",$),l($),je(mn.slice(0,e.length+1)),g){console.log("🎮 Setting up easy mode");const J=Object.entries(ke).filter(([X])=>s.includes(X)?!1:jn(X,$||"")!==null).map(([X,se])=>({name:X,wins:se.wins})).sort(()=>Math.random()-.5);v(J),M(!0)}return}C(!0),Ge(!1);let F=[];if(j==="daily"){console.log("📅 Starting daily challenge mode"),Or(null),Ge(!0);try{console.log("🔄 Fetching daily challenge...");const $=await JV();if(console.log("📊 Received challenge data:",$),!$)throw console.error("❌ No challenge found for today"),new Error("No challenge found for today");if(!Array.isArray($.teams)||$.teams.length===0)throw console.error("❌ Invalid challenge data:",$),new Error("Invalid challenge data: missing or empty teams array");F=$.teams,console.log("✅ Using team sequence:",F),Dr(F),console.log("📊 Setting optimal score and picks from challenge data"),me.setState({optimalScore:$.optimalScore,optimalPicks:$.optimalPicks,usedTimeout:$.usedTimeout});const J=F[0];if(console.log("🎯 Starting with team:",J),D(J),setTimeout(()=>{if(console.log("⏰ Timeout complete, setting up game state"),C(!1),D(void 0),l(J),je([J]),g){console.log("🎮 Setting up easy mode");const X=Object.entries(ke).filter(([se])=>s.includes(se)?!1:jn(se,t||"")!==null).map(([se,ce])=>({name:se,wins:ce.wins})).sort(()=>Math.random()-.5);v(X),M(!0)}},1e3),$){const X=new Date,se=X.getFullYear(),ce=String(X.getMonth()+1).padStart(2,"0"),Y=String(X.getDate()).padStart(2,"0"),gt=`dailyChallenge-${se}-${ce}-${Y}`;if(!localStorage.getItem(gt)){const xi={started:!0,picks:[],score:0,timestamp:Date.now(),optimalScore:$.optimalScore,optimalPicks:$.optimalPicks,teams:$.teams};localStorage.setItem(gt,JSON.stringify(xi))}}}catch($){console.error("❌ Error in daily challenge setup:",$),Or("Could not load today's challenge. Please try again later."),C(!1),Ge(!1);return}Ge(!1)}else{console.log("🎮 Starting practice mode"),F=[...bi].sort(()=>Math.random()-.5).slice(0,20),Dr(F);const $=F[0];D($),setTimeout(()=>{if(C(!1),D(void 0),l($),je([$]),g){const J=Object.entries(ke).filter(([X])=>s.includes(X)?!1:jn(X,$)!==null).map(([X,se])=>({name:X,wins:se.wins})).sort(()=>Math.random()-.5);v(J),M(!0)}},1e3)}console.log("=== GAME START COMPLETE ===")},Rs=()=>{const j="Need some help?";let F=0;const $=()=>{F<=j.length?(Xn(j.slice(0,F)),F++,setTimeout($,100)):setTimeout(()=>Cs(!0),300)};$()},Mr=()=>{Ve.current&&clearTimeout(Ve.current),pi(!1),Xn(""),Cs(!1),!g&&!O&&!n&&!Ue&&(Ve.current=setTimeout(()=>{pi(!0),Rs()},2e4))};P.useEffect(()=>{!O&&!g&&!n&&!Ue&&Mr()},[O,g,n,Ue]),P.useEffect(()=>()=>{Ve.current&&clearTimeout(Ve.current),Xn(""),Cs(!1)},[Nr]);const Ps=()=>{if(T){console.log("🎯 Skipping startNextRound because already shuffling");return}console.log("🎯 Starting next round"),C(!0);let j;if(ZV()){const F=e.length;j=qh[F]||qh[qh.length-1]}else mn?j=mn[e.length]:j=xR(at,bi,e.length);console.log("🎯 Starting next round with team:",j),D(j),setTimeout(()=>{if(console.log("🎯 Setting current team to:",j),C(!1),D(void 0),l(j),je(F=>SR(F,j)),R(""),y(null),A(null),de(null),g){const F=Object.entries(ke).filter(([$])=>s.includes($)?!1:jn($,j)!==null).map(([$,J])=>({name:$,wins:J.wins})).sort(()=>Math.random()-.5);v(F),M(!0)}},1500)};P.useEffect(()=>{if(T){const j=setInterval(()=>{const $=bi[Math.floor(Math.random()*bi.length)];D($)},50),F=setTimeout(()=>{clearInterval(j);const $=setInterval(()=>{const X=bi[Math.floor(Math.random()*bi.length)];D(X)},200),J=setTimeout(()=>{clearInterval($),C(!1),D(void 0)},500);return()=>{clearInterval($),clearTimeout(J)}},1e3);return()=>{clearInterval(j),clearTimeout(F)}}},[T]),P.useEffect(()=>{if(g&&t&&!O){console.log("🎯 Easy mode triggered help"),me.setState({currentPickUsedHelp:!0});const j=Object.entries(ke).filter(([F])=>s.includes(F)?!1:jn(F,t||"")!==null).map(([F,$])=>({name:F,wins:$.wins})).sort(()=>Math.random()-.5);v(j),M(!0)}},[g,t]);const tr=()=>{Mt(!0),Q(!0),c(),R(""),y(null),A(null),de(null),M(!1),v([]),me.setState({currentPickUsedHelp:!1}),h(!1),H(!1),r(),je([]),C(!1),D(void 0),l("")},Ud=j=>{const F=j.target.value;console.log("Input changed:",F),console.log("Current team:",t),Mr();const $=Kh(F);if(R($),y(null),A(null),de($.trim()!==""),tt.current&&(console.log("Clearing previous timeout"),clearTimeout(tt.current)),t&&$.length>=3){console.log("Starting 300ms delay for suggestions");const J=Date.now();tt.current=setTimeout(()=>{const X=Date.now();console.log(`Suggestion delay completed after ${X-J}ms`),console.log("Looking for QBs for team:",t);const se=Th($,t,s);v(se),M(se.length>0)},300)}else console.log("Input too short or no team selected, hiding suggestions"),M(!1),v([])};P.useEffect(()=>()=>{tt.current&&clearTimeout(tt.current)},[]);const zd=j=>{Mr();const F=I+j.toLowerCase(),$=Kh(F);if(R($),y(null),A(null),de($.trim()!==""),t&&$.length>=3){const J=Th($,t,s);v(J),M(J.length>0)}else M(!1),v([])},vi=()=>{Mr();const j=Kh(I.slice(0,-1));if(R(j),y(null),A(null),t&&j.length>=3){const F=Th(j,t,s);v(F),M(F.length>0)}else M(!1),v([]);if(j.trim()==="")de(null);else{const F=Ri(j);if(F){const J=jn(F,t||"")!==null&&!s.includes(F);console.log("Mobile validation:",{input:j,matchedName:F,isValid:J,currentTeam:t}),de(J)}else de(!1)}},jl=()=>{b&&As(new Event("submit"))},As=j=>{var ce;if(j.preventDefault(),console.log("Submit triggered with input:",I),console.log("Current team:",t),console.log("Shuffling team:",N),br||$o){console.log("Effect active, preventing submission");return}const F=Ri(I);if(!F){console.log("No QB match found for:",I);return}if(s.includes(F)){console.log("QB already used, showing already-used feedback");const Y=kh(BR);A(Y),R(""),de(null),setTimeout(()=>{A(null)},2e3);return}const $=jn(F,t||"");if(console.log("Validation result:",$),console.log("QB teams:",(ce=ke[F])==null?void 0:ce.teams),!$){const Y=kh(FR);y("Wrong team"),A(Y),R(""),de(null),setTimeout(()=>{y(null),A(null)},2e3);return}const{name:J,wins:X}=$;R(J);const se=vu(J,J);nr(J,X,se,!1)},nr=(j,F,$,J=!1)=>{console.log("Completing pick with wins:",F);const X=!g&&J?Math.floor(F/2):F;console.log("Points awarded:",X),i(j,X,$,J);const se=me.getState();console.log("Current state after pick:",se),Lt(!1),Dn(!1);const ce=kh(J?$R:VR);A(ce),j.toLowerCase().includes("brady")?(console.log("🎯 Showing Brady effect"),nn(X),Rr(!0)):J&&!g?(console.log("🎯 Showing help penalty effect"),Ml(F),Dn(!0)):(console.log("🎯 Showing regular score animation"),nn(X),Lt(!0)),R(""),de(null),M(!1),v([]),de(!0),g||me.setState({currentPickUsedHelp:J}),setTimeout(()=>{de(null)},2e3)},On=j=>{R(j),M(!1),v([])},Vl=j=>{E({playerName:j,score:u,picks:e.map(F=>({qb:F.qb,team:F.team,displayName:F.displayName,wins:F.wins,usedHelp:F.usedHelp}))}),H(!1),tr(),Bo("/leaderboard")},Fl=()=>{H(!1)},Jo=()=>{console.log("🎯 handleScoreDisplayComplete called"),console.log("🎯 showHelpPenalty:",zo),console.log("🎯 currentPickUsedHelp:",p),console.log("🎯 lastScore:",jt),console.log("🎯 Current round:",e.length),Lt(!1),o(jt);const j=me.getState();if(j.gameMode==="daily"){const F=new Date,$=F.getFullYear(),J=String(F.getMonth()+1).padStart(2,"0"),X=String(F.getDate()).padStart(2,"0"),se=`dailyChallenge-${$}-${J}-${X}`,ce=j.picks.reduce((gt,pn)=>gt+pn.wins,0),Y={started:!0,picks:j.picks,score:ce,timestamp:Date.now(),teams:mn,gameStartTime:j.gameStartTime,optimalScore:j.optimalScore,optimalPicks:j.optimalPicks};console.log("Saving game state after animation:",Y),localStorage.setItem(se,JSON.stringify(Y))}if(e.length===or){setTimeout(()=>{gi(!0)},300);return}if(zo)console.log("🎯 Help penalty active, skipping next round");else{if(console.log("🎯 No help penalty active, proceeding with next round"),e.length===Math.floor(or/2)){console.log("🎯 Showing halftime effect from score display"),hi(!0);return}console.log("🎯 Starting next round from score display"),Ps()}},Qo=()=>{if(Wo){console.log("🎯 Help penalty already completing, skipping");return}console.log("🎯 handleHelpPenaltyComplete called"),console.log("🎯 Current round:",e.length),Go(!0),Dn(!1),o(Math.floor(Ho/2));const j=me.getState();if(j.gameMode==="daily"){const F=new Date,$=F.getFullYear(),J=String(F.getMonth()+1).padStart(2,"0"),X=String(F.getDate()).padStart(2,"0"),se=`dailyChallenge-${$}-${J}-${X}`,ce=j.picks.reduce((gt,pn)=>gt+pn.wins,0),Y={started:!0,picks:j.picks,score:ce,timestamp:Date.now(),teams:mn,gameStartTime:j.gameStartTime,optimalScore:j.optimalScore,optimalPicks:j.optimalPicks};console.log("Saving game state after help penalty:",Y),localStorage.setItem(se,JSON.stringify(Y))}if(console.log("🎯 Resetting currentPickUsedHelp state"),me.setState({currentPickUsedHelp:!1}),e.length===Math.floor(or/2)){console.log("🎯 Showing halftime effect from help penalty"),hi(!0);return}console.log("🎯 Starting next round from help penalty"),Ps(),setTimeout(()=>{Go(!1)},100)},Bl=()=>{console.log("🎯 Brady effect complete"),console.log("🎯 Current round:",e.length),Rr(!1),o(jt);const j=me.getState();if(j.gameMode==="daily"){const F=new Date,$=F.getFullYear(),J=String(F.getMonth()+1).padStart(2,"0"),X=String(F.getDate()).padStart(2,"0"),se=`dailyChallenge-${$}-${J}-${X}`,ce=j.picks.reduce((gt,pn)=>gt+pn.wins,0),Y={started:!0,picks:j.picks,score:ce,timestamp:Date.now(),teams:mn,gameStartTime:j.gameStartTime,optimalScore:j.optimalScore,optimalPicks:j.optimalPicks};console.log("Saving game state after Brady effect:",Y),localStorage.setItem(se,JSON.stringify(Y))}Ps()},Yo=()=>{if(Qe.current){const j=Qe.current.getBoundingClientRect();bt({top:j.bottom,right:0}),oe(!0)}};P.useEffect(()=>{x?(Ar.current+=1,Ar.current>=2&&(fi(!0),setTimeout(()=>{fi(!1),Ar.current=0},5e3))):_&&!x&&(Ar.current=0,fi(!1))},[x,_]);const Xo=()=>{I.trim()===""&&!g&&(Pr.current=setTimeout(()=>{mi(!0),console.log("🎯 Long press triggered help"),me.setState({currentPickUsedHelp:!0});const j=Object.entries(ke).filter(([F])=>s.includes(F)?!1:jn(F,t||"")!==null).map(([F,$])=>({name:F,wins:$.wins})).sort(()=>Math.random()-.5);v(j),M(!0)},1e3))},rr=()=>{Pr.current&&(clearTimeout(Pr.current),Pr.current=null),mi(!1)};P.useEffect(()=>()=>{console.log("🎯 Game component cleanup"),Lt(!1),Dn(!1),Rr(!1),hi(!1),Go(!1),C(!1),D(void 0)},[]),P.useEffect(()=>{const j=()=>{er(window.innerWidth<640)};return window.addEventListener("resize",j),()=>window.removeEventListener("resize",j)},[]),P.useEffect(()=>{Zn&&(e.forEach((j,F)=>{const $=Rw(j,F);if(j.displayName.length>14&&!hn[$]){fn(X=>({...X,[$]:"idle"})),ut.current[$]&&clearTimeout(ut.current[$]);const J=Math.floor(Math.random()*1e3);ut.current[$]=setTimeout(()=>{fn(X=>({...X,[$]:"scrollingLeft"}))},5e3+J)}}),Object.keys(hn).forEach(j=>{const[F,$,J]=j.split("-");e[Number(J)]&&e[Number(J)].qb===F&&e[Number(J)].team===$||(fn(se=>{const ce={...se};return delete ce[j],ce}),ut.current[j]&&(clearTimeout(ut.current[j]),delete ut.current[j]))}))},[e,Zn]),P.useEffect(()=>{if(Zn)return Object.entries(hn).forEach(([j,F])=>{const[$,J,X]=j.split("-"),se=Number(X),ce=e[se];ce&&ce.qb===$&&ce.team===J&&ce.displayName.length>14&&(F==="idle"?ut.current[j]=setTimeout(()=>{fn(Y=>({...Y,[j]:"scrollingLeft"}))},5e3):F==="scrollingLeft"?ut.current[j]=setTimeout(()=>{fn(Y=>({...Y,[j]:"offscreenPause"}))},2500):F==="offscreenPause"?ut.current[j]=setTimeout(()=>{fn(Y=>({...Y,[j]:"scrollingRightJump"}))},200):F==="scrollingRightJump"?setTimeout(()=>{fn(Y=>({...Y,[j]:"scrollingRight"}))},20):F==="scrollingRight"&&(ut.current[j]=setTimeout(()=>{fn(Y=>({...Y,[j]:"idle"}))},2500)))}),()=>{Object.values(ut.current).forEach(clearTimeout)}},[hn,e,Zn]),P.useEffect(()=>{if(n&&me.getState().gameMode==="daily"&&e.length>0){const j=new Date,F=j.getFullYear(),$=String(j.getMonth()+1).padStart(2,"0"),J=String(j.getDate()).padStart(2,"0"),X=`dailyChallenge-${F}-${$}-${J}`,se=`dailyChallengeMeta-${F}-${$}-${J}`,{optimalScore:ce,optimalPicks:Y,gameStartTime:gt,gameEndTime:pn}=me.getState(),xi={score:u,picks:e,timestamp:Date.now(),completed:!0,optimalScore:ce,optimalPicks:Y,gameStartTime:gt,gameEndTime:pn},Ul={optimalScore:ce,optimalPicks:Y,timestamp:Date.now(),gameStartTime:gt,gameEndTime:pn};localStorage.setItem(X,JSON.stringify(xi)),localStorage.setItem(se,JSON.stringify(Ul))}},[n,e,u]);const $l=()=>{Mt(!0),Q(!0),c(),R(""),y(null),A(null),de(null),M(!1),v([]),me.setState({currentPickUsedHelp:!1}),h(!1),H(!1),r(),je([]),C(!1),D(void 0)};return $d?(gi(!1),h(!0),null):n?(console.log("🎯 Rendering GameOver component"),f.jsx(qR,{onBackToLobby:$l})):Ll?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-8",children:[f.jsx("div",{className:"w-16 h-16 border-8 border-blue-400 border-t-transparent rounded-full animate-spin mb-6"}),f.jsx("h2",{className:"text-xl font-bold mb-4 text-blue-600",children:"Loading today's challenge…"})]}):qo?f.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen text-center p-8",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4 text-red-600",children:qo}),f.jsx("button",{onClick:()=>window.location.reload(),className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg",children:"Reload"})]}):f.jsxs("div",{className:"container mx-auto px-4 relative min-h-screen pb-safe",children:[Nn&&f.jsx(DA,{score:jt,onAnimationComplete:Jo}),f.jsx(UR,{isVisible:br,score:br?jt:void 0,onComplete:Bl}),f.jsx(zR,{isVisible:$o,score:u,currentRound:e.length,onContinue:()=>{hi(!1),Ps()}}),f.jsx(WE,{isVisible:zo,originalScore:Ho,onComplete:Qo}),f.jsxs("div",{className:"w-full max-w-[600px] mx-auto flex justify-between items-center mb-2 sm:mb-3",children:[f.jsx("div",{className:"flex flex-col w-full sm:hidden items-center",children:f.jsxs("div",{className:"flex items-baseline gap-2 px-1 py-2 justify-center",children:[f.jsx("span",{className:"text-lg font-bold font-sans bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent",children:"Quarterback"}),f.jsx("span",{className:"text-base font-medium text-main dark:text-main-dark",children:"Career Wins Challenge"})]})}),f.jsxs("div",{className:"hidden sm:flex flex-col",children:[f.jsx("h1",{className:"text-2xl font-bold font-sans bg-gradient-to-r from-blue-500 to-blue-700 bg-clip-text text-transparent",children:"Quarterback"}),f.jsx("h2",{className:"text-xl font-medium text-main dark:text-main-dark -mt-1",children:"Career Wins Challenge"})]}),f.jsx("div",{className:"hidden sm:flex gap-4 items-center",children:f.jsx(_0,{ref:Qe,onClick:Yo,className:"w-6 h-6 sm:w-7 sm:h-7 rounded-full border-2 border-neutral-400 dark:border-neutral-500 flex items-center justify-center text-neutral-500 dark:text-neutral-400 hover:border-neutral-600 dark:hover:border-neutral-300 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors"})})]}),f.jsx(GR,{isOpen:ve,onClose:()=>oe(!1),position:Te,onShowHelp:()=>{if(t){const j=Object.entries(ke).filter(([F])=>s.includes(F)?!1:jn(F,t||"")!==null).map(([F,$])=>({name:F,wins:$.wins})).sort(()=>Math.random()-.5);v(j),M(!0)}},onNewGame:tr}),f.jsxs("div",{className:"flex flex-col items-center w-full",children:[!Ue&&f.jsx("div",{className:"w-full max-w-[600px] mb-3 sm:mb-0",children:f.jsx("div",{className:"sm:hidden w-full",children:f.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-sm border-2 border-neutral-200 dark:border-neutral-700 rounded-xl px-4 py-3 text-sm font-medium flex items-center justify-between",children:[f.jsx("div",{className:"w-24 flex justify-start",children:f.jsx(_0,{ref:Qe,onClick:Yo,className:"w-6 h-6 rounded-full border-2 border-neutral-400 dark:border-neutral-500 flex items-center justify-center text-neutral-500 dark:text-neutral-400 hover:border-neutral-600 dark:hover:border-neutral-300 hover:text-neutral-600 dark:hover:text-neutral-300 transition-colors sm:hidden"})}),f.jsx("div",{className:"w-24 flex justify-center",children:f.jsxs("span",{className:"text-slate-700 dark:text-slate-200 font-semibold",children:["Round ",f.jsx(B0,{value:e.length+1<=or?e.length+1:or}),"/",or]})}),f.jsx("div",{className:"w-24 flex justify-end",children:f.jsx("span",{className:`score-blink ${bw(u)}`,children:u.toLocaleString()})})]})})}),f.jsxs("div",{className:"w-full max-w-[600px] flex flex-row justify-center gap-4 items-stretch",children:[f.jsx("div",{className:"w-[40%] flex flex-col",children:f.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-xl p-2 flex flex-col flex-1",children:[f.jsx("div",{className:"flex-1 flex flex-col items-center justify-between",children:f.jsx(e5,{team:t,isShuffling:T,shufflingTeam:N,picks:e.map(j=>({qb:j.displayName,team:j.team})),startNextRound:Ps,setShowBradyEffect:Rr,showBradyEffect:br})}),!Ue&&f.jsx("div",{className:"hidden sm:flex justify-center mt-3",children:f.jsxs("div",{className:"bg-white/80 dark:bg-black/40 backdrop-blur-sm border-2 border-neutral-200 dark:border-neutral-700 rounded-xl px-4 py-2 text-sm font-medium flex items-center gap-2 whitespace-nowrap",children:[f.jsxs("span",{className:"text-slate-700 dark:text-slate-200 font-semibold",children:["Round ",f.jsx(B0,{value:e.length+1<=or?e.length+1:or}),"/",or]}),f.jsx("span",{className:"text-slate-500 dark:text-slate-400",children:"|"}),f.jsx("span",{className:`score-blink ${bw(u)}`,children:u.toLocaleString()})]})})]})}),f.jsx("div",{className:"w-[60%] flex flex-col",children:!Ue&&e.length>0?f.jsx("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-xl h-[200px] sm:h-[290px] flex flex-col",children:f.jsx("div",{className:"flex-1 overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded [&::-webkit-scrollbar-track]:rounded [&::-webkit-scrollbar-thumb]:bg-neutral-300 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-600 [&::-webkit-scrollbar-track]:bg-neutral-100 dark:[&::-webkit-scrollbar-track]:bg-neutral-800",children:f.jsx("div",{className:"flex flex-col justify-end p-2 pb-3 min-h-full",children:f.jsx("div",{className:"space-y-2",children:e.map((j,F)=>{var X,se;const $=Rw(j,F),J=F>=e.length-3;return f.jsxs("div",{ref:ce=>{F===e.length-1&&ce&&e.length>yi.current&&(ce.scrollIntoView({behavior:"smooth",block:"end"}),yi.current=e.length)},className:`relative flex justify-between items-center bg-white dark:bg-neutral-800 border rounded-lg px-4 text-sm font-medium overflow-hidden
                              ${J?"h-10 flex-shrink-0":"min-h-[32px] flex-shrink"}
                              ${F===e.length-1?"animate-pick-highlight border-2":"border"}
                            `,style:{borderColor:((se=(X=eo[j.team])==null?void 0:X.match(/\[(#[0-9A-F]{6})\]/i))==null?void 0:se[1])||"#e5e7eb"},children:[f.jsx("div",{className:"absolute inset-0 opacity-[0.25] dark:opacity-[0.2]",style:{backgroundImage:`url(${il(j.team)})`,backgroundSize:"contain",backgroundPosition:"70% center",backgroundRepeat:"no-repeat",transform:"scale(0.8)"}}),f.jsx("div",{className:"flex items-center gap-2 relative z-10 max-w-[70%] overflow-hidden w-[140px] sm:w-[180px]",children:Zn&&j.displayName.length>14?f.jsx("div",{className:hn[$]==="scrollingLeft"?"whitespace-nowrap transition-transform duration-[2500ms] translate-x-[-100%]":hn[$]==="offscreenPause"?"whitespace-nowrap translate-x-[-100%]":hn[$]==="scrollingRightJump"?"whitespace-nowrap translate-x-[100%]":hn[$]==="scrollingRight"?"whitespace-nowrap transition-transform duration-[2500ms] translate-x-[0%]":"whitespace-nowrap",style:{paddingRight:"3ch"},children:f.jsx("span",{className:"font-medium",children:j.displayName})}):f.jsx("span",{className:"font-medium truncate block max-w-full",children:j.displayName})}),f.jsxs("div",{className:"flex items-center gap-1.5 text-gray-500 text-xs font-medium relative z-10",children:[j.usedHelp&&!g&&f.jsxs("span",{className:"line-through text-neutral-400",children:["+",(j.wins*2).toLocaleString()]}),f.jsxs("span",{className:j.usedHelp&&!g?"text-red-500":"",children:["+",j.wins.toLocaleString()]})]})]},$)})})})})}):f.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-xl h-[200px] sm:h-[290px] flex flex-col items-center justify-center p-4",children:[Ko.length>0&&f.jsxs("div",{className:"w-full mb-3",children:[f.jsx("div",{className:"text-xs font-semibold text-neutral-500 dark:text-neutral-400 mb-2 text-center tracking-wide uppercase",children:"Today's Top Scores"}),f.jsx("ol",{className:"space-y-1",children:Ko.map(j=>f.jsxs("li",{className:"flex items-center justify-between text-sm font-medium text-main dark:text-main-dark px-2",children:[f.jsx("span",{className:"truncate max-w-[90px]",children:j.playerName||"Anonymous"}),f.jsx("span",{className:"text-neutral-400 mx-2",children:"·"}),f.jsx("span",{className:"font-bold",children:j.score})]},j.id))})]}),f.jsxs("div",{className:"flex flex-col items-center justify-center flex-1",children:[f.jsx("span",{className:"text-base font-semibold text-main dark:text-main-dark text-center mb-1",children:"Become a Tally Legend"}),f.jsx("span",{className:"text-sm text-neutral-500 dark:text-neutral-400 text-center",children:"Make your first pick."})]})]})})]}),!Ue&&f.jsx("div",{className:"w-full max-w-[600px] flex flex-row justify-center mt-2",children:f.jsx("div",{className:"w-full",children:f.jsxs("form",{id:"qb-input-form",onSubmit:As,className:"flex flex-col",children:[f.jsxs("div",{className:"relative w-full sm:w-[500px] mx-auto",children:[g?f.jsx("div",{className:"w-full h-12 flex items-center justify-center bg-white dark:bg-neutral-800 border border-neutral-200 dark:border-neutral-700 rounded-lg text-lg sm:text-xl text-center font-semibold text-neutral-500 dark:text-neutral-400 select-none cursor-default",children:"Pick a Quarterback"}):f.jsx("input",{type:"text",value:I,onChange:Ud,disabled:n,inputMode:"none",autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:"false",placeholder:Nr?lt:g?"Pick a Quarterback":"Guess a Quarterback",onTouchStart:()=>{Mr(),g||Xo()},onTouchEnd:rr,onTouchCancel:rr,onMouseDown:()=>{Mr(),g||Xo()},onMouseUp:rr,onMouseLeave:rr,onContextMenu:j=>j.preventDefault(),style:{touchAction:"manipulation",WebkitTextFillColor:"currentColor",transition:"all 0.3s ease"},className:`w-full h-12 px-4 bg-white dark:bg-neutral-800 border rounded-lg text-black dark:text-white text-lg sm:text-xl text-center
                        ${x?"animate-shake border-red-500 dark:border-red-500":b?"border-emerald-500 dark:border-emerald-500 hover:bg-emerald-50 dark:hover:bg-emerald-950/30":Nr?"border-blue-500 dark:border-blue-400":"border-neutral-200 dark:border-neutral-700"} 
                        ${b?"cursor-pointer":"cursor-text"}
                        ${Uo?"bg-neutral-100 dark:bg-neutral-700":""}
                        focus:outline-none focus:ring-2 focus:ring-emerald-500/20 disabled:opacity-100
                        transition-colors duration-150`}),Nr&&Ol&&!O&&!g&&f.jsxs("button",{onClick:()=>{pi(!1),Xn(""),Cs(!1),Xo(),Pr.current&&clearTimeout(Pr.current),mi(!0),me.setState({currentPickUsedHelp:!0});const j=Object.entries(ke).filter(([F])=>s.includes(F)?!1:jn(F,t||"")!==null).map(([F,$])=>({name:F,wins:$.wins})).sort(()=>Math.random()-.5);v(j),M(!0)},className:"absolute right-3 top-1/2 -translate-y-1/2 w-8 h-8 flex items-center justify-center bg-blue-500/20 hover:bg-blue-500/30 text-blue-600 dark:text-blue-400 rounded-full transition-all duration-300 ease-in-out transform hover:scale-110 active:scale-95 group","aria-label":"Get help",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",className:"w-5 h-5 animate-pulse-slow",children:f.jsx("path",{d:"M11.25 4.5l7.5 7.5-7.5 7.5m-6-15l7.5 7.5-7.5 7.5"})}),f.jsx("span",{className:"absolute right-full mr-2 opacity-0 group-hover:opacity-100 transition-opacity duration-200 whitespace-nowrap text-sm bg-blue-500/10 px-2 py-1 rounded",children:"Click for help"})]}),Bd&&!O&&!g&&f.jsx("div",{className:"absolute -top-12 left-1/2 -translate-x-1/2 animate-fade-in",children:f.jsxs("div",{className:"relative bg-blue-500 text-white text-xs px-3 py-1.5 rounded-lg whitespace-nowrap",children:["Press and hold for help",f.jsx("div",{className:"absolute bottom-0 left-1/2 -translate-x-1/2 translate-y-1/2 rotate-45 w-2 h-2 bg-blue-500"})]})}),b&&f.jsx("button",{onClick:j=>{j.preventDefault(),As(new Event("submit"))},className:"absolute inset-0 w-full h-full cursor-pointer","aria-label":"Submit quarterback guess"})]}),O&&S.length>0&&!g&&f.jsx("div",{className:"relative",children:f.jsx("div",{className:"absolute z-10 mt-1 bg-white dark:bg-neutral-800 border-2 rounded-lg shadow-lg max-h-[252px] overflow-y-auto [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded [&::-webkit-scrollbar-track]:rounded [&::-webkit-scrollbar-thumb]:bg-neutral-300 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-600 [&::-webkit-scrollbar-track]:bg-neutral-100 dark:[&::-webkit-scrollbar-track]:bg-neutral-800 w-full left-0 right-0",style:{borderColor:t&&((Lr=(wi=eo[t])==null?void 0:wi.match(/\[(#[0-9A-F]{6})\]/i))==null?void 0:Lr[1])||"#e5e7eb"},children:f.jsx("div",{className:p?"grid grid-cols-2 sm:grid-cols-3 gap-0":"flex flex-col w-full",children:S.map(j=>f.jsx("button",{type:"button",onClick:()=>{if(p){const F=Ri(j.name);if(!F)return;const $=ke[F];if(!$)return;nr(F,$.wins,vu(j.name,F),!0)}else if(S.length===1){const F=Ri(j.name);if(!F)return;const $=ke[F];if(!$)return;nr(F,$.wins,vu(j.name,F),!1)}else On(j.name)},className:`w-full text-center px-2 py-1.5 hover:bg-neutral-100/50 dark:hover:bg-neutral-700/30 text-main dark:text-main-dark flex items-center justify-center ${p?"":"border-b border-neutral-200 dark:border-neutral-700 last:border-0"}`,children:f.jsx("span",{className:"font-medium text-neutral-700 dark:text-neutral-200",children:j.name})},j.name))})})})]})})}),!Ue&&f.jsx("div",{className:"w-full max-w-[600px]",children:g?f.jsx("div",{className:"mt-6",children:f.jsx("div",{className:`bg-white dark:bg-neutral-800 rounded-xl border-2 transition-all duration-300 ${T?"opacity-75":""}`,style:{borderColor:t&&((_i=(Mn=eo[t])==null?void 0:Mn.match(/\[(#[0-9A-F]{6})\]/i))==null?void 0:_i[1])||"#e5e7eb"},children:f.jsx("div",{className:"h-[200px] sm:h-auto max-h-[200px] sm:max-h-none overflow-y-auto sm:overflow-visible [&::-webkit-scrollbar]:w-2 [&::-webkit-scrollbar-thumb]:rounded [&::-webkit-scrollbar-track]:rounded [&::-webkit-scrollbar-thumb]:bg-neutral-300 dark:[&::-webkit-scrollbar-thumb]:bg-neutral-600 [&::-webkit-scrollbar-track]:bg-neutral-100 dark:[&::-webkit-scrollbar-track]:bg-neutral-800 p-2",children:T||Nn?f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:Array.from({length:10}).map((j,F)=>f.jsx("div",{className:"h-8 bg-neutral-100 dark:bg-neutral-700 rounded-lg animate-pulse"},F))}):f.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:S.map(j=>f.jsx("button",{onClick:()=>{const F=Ri(j.name);if(!F)return;const $=ke[F];$&&nr(F,$.wins,vu(j.name,F),!0)},className:"h-8 px-2 hover:bg-neutral-100/50 dark:hover:bg-neutral-700/30 rounded-lg text-sm text-left transition-colors flex items-center justify-between group",children:f.jsx("span",{className:"truncate font-medium text-neutral-700 dark:text-neutral-200",children:j.name})},j.name))})})})}):f.jsx("div",{className:"mt-6",children:f.jsx(jR,{onKeyPress:zd,onBackspace:vi,onEnter:jl,isDisabled:n})})})]}),Ue&&f.jsx(XV,{onClose:K?bs:()=>Mt(!1)}),Ct&&f.jsx(MR,{onSubmit:Vl,onCancel:Fl})]})},i5=({game:t,onClose:e})=>f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 max-w-2xl w-full mx-4 shadow-xl max-h-[90vh] overflow-y-auto",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl font-sans text-main dark:text-main-dark",children:"Game Replay"}),f.jsxs("p",{className:"text-muted dark:text-muted-dark",children:[t.playerName," - Score: ",t.score]})]}),f.jsx("button",{onClick:e,className:"text-2xl text-muted dark:text-muted-dark hover:text-main dark:hover:text-main-dark",children:"×"})]}),f.jsx("div",{className:"space-y-4",children:t.picks.map((n,r)=>f.jsxs("div",{className:"flex items-center gap-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("img",{src:il(n.team),alt:n.team,className:"w-12 h-12 object-contain"})}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"text-lg font-medium text-main dark:text-main-dark",children:n.displayName}),n.usedHelp&&f.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-1.5 py-0.5 rounded",children:"SOS"})]}),f.jsxs("div",{className:"text-sm text-muted dark:text-muted-dark",children:[n.team," - ",n.wins," wins"]})]})]},r))})]})}),o5=()=>{const{getTopTen:t}=Dp(),[e,n]=P.useState(null),r=t();return f.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[f.jsx("h1",{className:"text-3xl font-sans text-main dark:text-main-dark mb-8",children:"Leaderboard"}),f.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-sm",children:[f.jsx("h2",{className:"text-xl font-sans text-main dark:text-main-dark mb-6",children:"QB Wins Challenge"}),r.length>0?f.jsx("div",{className:"space-y-2",children:r.map((s,i)=>f.jsxs("button",{onClick:()=>n(s),className:"w-full flex items-center gap-4 p-4 bg-neutral-50 dark:bg-neutral-900 rounded-lg hover:bg-neutral-100 dark:hover:bg-neutral-950 transition-colors text-left",children:[f.jsxs("div",{className:"text-2xl font-medium text-main dark:text-main-dark w-8",children:["#",i+1]}),f.jsxs("div",{className:"flex-1",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("span",{className:"font-medium text-main dark:text-main-dark",children:s.playerName}),s.picks.some(o=>o.usedHelp)&&f.jsx("span",{className:"text-xs bg-red-100 dark:bg-red-900/20 text-red-600 dark:text-red-400 px-1.5 py-0.5 rounded",children:"SOS"})]}),f.jsx("div",{className:"text-sm text-muted dark:text-muted-dark",children:new Date(s.timestamp).toLocaleDateString()})]}),f.jsx("div",{className:"text-xl font-medium text-main dark:text-main-dark",children:s.score})]},s.id))}):f.jsx("p",{className:"text-center text-muted dark:text-muted-dark py-8",children:"No records yet. Be the first to make the leaderboard!"})]}),e&&f.jsx(i5,{game:e,onClose:()=>n(null)})]})},a5=()=>{const{resetLeaderboard:t}=Dp(),e=()=>{window.confirm("Are you sure you want to reset the leaderboard? This action cannot be undone.")&&(t(),alert("Leaderboard has been reset successfully!"))};return f.jsx("div",{className:"container mx-auto px-4 py-8 min-h-screen",children:f.jsx("div",{className:"max-w-4xl mx-auto px-6 py-6",children:f.jsxs("div",{className:"bg-neutral-50 dark:bg-neutral-900 rounded-xl p-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-sans text-main dark:text-main-dark",children:"Admin Tools"}),f.jsx(md,{to:"/",className:"px-4 py-2 text-sm border rounded-md text-main hover:bg-neutral-100 dark:hover:bg-neutral-800 focus:outline-none focus:ring-2 focus:ring-blue-500 dark:border-neutral-700 transition-colors",children:"Back to Game"})]}),f.jsx("div",{className:"space-y-6",children:f.jsxs("div",{className:"p-4 border border-red-200 dark:border-red-800 rounded-lg bg-red-50 dark:bg-red-900/20",children:[f.jsx("h2",{className:"text-lg font-medium text-red-700 dark:text-red-400 mb-2",children:"Danger Zone"}),f.jsx("p",{className:"text-sm text-red-600 dark:text-red-300 mb-4",children:"Warning: The following actions are irreversible. Please proceed with caution."}),f.jsx("button",{onClick:e,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors",children:"Reset Leaderboard"})]})})]})})})},l5=()=>{const[t,e]=P.useState(!1),[n,r]=P.useState(100),s=()=>{e(!0),setTimeout(()=>{e(!1)},2500)};return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center bg-neutral-100 dark:bg-neutral-900 p-4",children:[f.jsx("h1",{className:"text-2xl font-bold mb-8 text-main dark:text-main-dark",children:"Test Effects Page"}),f.jsxs("div",{className:"bg-white dark:bg-neutral-800 rounded-xl p-6 shadow-lg mb-8",children:[f.jsx("h2",{className:"text-xl font-semibold mb-4 text-main dark:text-main-dark",children:"Help Penalty Effect"}),f.jsxs("div",{className:"flex flex-col items-center gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("label",{className:"text-main dark:text-main-dark",children:"Score:"}),f.jsx("input",{type:"number",value:n,onChange:i=>r(Number(i.target.value)),className:"w-24 px-3 py-2 border rounded-lg"})]}),f.jsx("button",{onClick:s,className:"px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors",children:"Trigger Help Penalty Effect"})]})]}),f.jsx(WE,{isVisible:t,originalScore:n,onComplete:()=>e(!1)})]})},u5=()=>f.jsx(Nb,{children:f.jsx(ub,{children:f.jsxs(Ur,{element:f.jsx(TR,{}),children:[f.jsx(Ur,{path:"/",element:f.jsx(CR,{})}),f.jsx(Ur,{path:"/game/qb-wins",element:f.jsx(s5,{})}),f.jsx(Ur,{path:"/leaderboard",element:f.jsx(o5,{})}),f.jsx(Ur,{path:"/admin",element:f.jsx(a5,{})}),f.jsx(Ur,{path:"/test-effects",element:f.jsx(l5,{})}),f.jsx(Ur,{path:"*",element:f.jsx(ob,{to:"/",replace:!0})})]})})});Jh.createRoot(document.getElementById("root")).render(f.jsx(Ys.StrictMode,{children:f.jsx(u5,{})}));
